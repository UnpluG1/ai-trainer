(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Sb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cd={exports:{}},_o={};var C_;function Ab(){if(C_)return _o;C_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return _o.Fragment=e,_o.jsx=i,_o.jsxs=i,_o}var I_;function wb(){return I_||(I_=1,Cd.exports=Ab()),Cd.exports}var E=wb(),Id={exports:{}},Ee={};var N_;function xb(){if(N_)return Ee;N_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function H(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function le(N,K,ne){this.props=N,this.context=K,this.refs=J,this.updater=ne||W}le.prototype.isReactComponent={},le.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},le.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function me(){}me.prototype=le.prototype;function he(N,K,ne){this.props=N,this.context=K,this.refs=J,this.updater=ne||W}var ze=he.prototype=new me;ze.constructor=he,Z(ze,le.prototype),ze.isPureReactComponent=!0;var He=Array.isArray;function xe(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function A(N,K,ne){var se=ne.ref;return{$$typeof:s,type:N,key:K,ref:se!==void 0?se:null,props:ne}}function M(N,K){return A(N.type,K,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function L(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return K[ne]})}var C=/\/+/g;function et(N,K){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):K.toString(36)}function ft(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(xe,xe):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,K,ne,se,_e){var Ae=typeof N;(Ae==="undefined"||Ae==="boolean")&&(N=null);var ke=!1;if(N===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(N.$$typeof){case s:case e:ke=!0;break;case S:return ke=N._init,G(ke(N._payload),K,ne,se,_e)}}if(ke)return _e=_e(N),ke=se===""?"."+et(N,0):se,He(_e)?(ne="",ke!=null&&(ne=ke.replace(C,"$&/")+"/"),G(_e,K,ne,"",function(rr){return rr})):_e!=null&&(D(_e)&&(_e=M(_e,ne+(_e.key==null||N&&N.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+ke)),K.push(_e)),1;ke=0;var It=se===""?".":se+":";if(He(N))for(var at=0;at<N.length;at++)se=N[at],Ae=It+et(se,at),ke+=G(se,K,ne,Ae,_e);else if(at=H(N),typeof at=="function")for(N=at.call(N),at=0;!(se=N.next()).done;)se=se.value,Ae=It+et(se,at++),ke+=G(se,K,ne,Ae,_e);else if(Ae==="object"){if(typeof N.then=="function")return G(ft(N),K,ne,se,_e);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(N,K,ne){if(N==null)return N;var se=[],_e=0;return G(N,se,"","",function(Ae){return K.call(ne,Ae,_e++)}),se}function ue(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var ye=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Pe={map:te,forEach:function(N,K,ne){te(N,function(){K.apply(this,arguments)},ne)},count:function(N){var K=0;return te(N,function(){K++}),K},toArray:function(N){return te(N,function(K){return K})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ee.Activity=w,Ee.Children=Pe,Ee.Component=le,Ee.Fragment=i,Ee.Profiler=o,Ee.PureComponent=he,Ee.StrictMode=a,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},Ee.cache=function(N){return function(){return N.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(N,K,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=Z({},N.props),_e=N.key;if(K!=null)for(Ae in K.key!==void 0&&(_e=""+K.key),K)!x.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(se[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ne;else if(1<Ae){for(var ke=Array(Ae),It=0;It<Ae;It++)ke[It]=arguments[It+2];se.children=ke}return A(N.type,_e,se)},Ee.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ee.createElement=function(N,K,ne){var se,_e={},Ae=null;if(K!=null)for(se in K.key!==void 0&&(Ae=""+K.key),K)x.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=K[se]);var ke=arguments.length-2;if(ke===1)_e.children=ne;else if(1<ke){for(var It=Array(ke),at=0;at<ke;at++)It[at]=arguments[at+2];_e.children=It}if(N&&N.defaultProps)for(se in ke=N.defaultProps,ke)_e[se]===void 0&&(_e[se]=ke[se]);return A(N,Ae,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(N){return{$$typeof:p,render:N}},Ee.isValidElement=D,Ee.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:ue}},Ee.memo=function(N,K){return{$$typeof:_,type:N,compare:K===void 0?null:K}},Ee.startTransition=function(N){var K=R.T,ne={};R.T=ne;try{var se=N(),_e=R.S;_e!==null&&_e(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(xe,ye)}catch(Ae){ye(Ae)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),R.T=K}},Ee.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ee.use=function(N){return R.H.use(N)},Ee.useActionState=function(N,K,ne){return R.H.useActionState(N,K,ne)},Ee.useCallback=function(N,K){return R.H.useCallback(N,K)},Ee.useContext=function(N){return R.H.useContext(N)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(N,K){return R.H.useDeferredValue(N,K)},Ee.useEffect=function(N,K){return R.H.useEffect(N,K)},Ee.useEffectEvent=function(N){return R.H.useEffectEvent(N)},Ee.useId=function(){return R.H.useId()},Ee.useImperativeHandle=function(N,K,ne){return R.H.useImperativeHandle(N,K,ne)},Ee.useInsertionEffect=function(N,K){return R.H.useInsertionEffect(N,K)},Ee.useLayoutEffect=function(N,K){return R.H.useLayoutEffect(N,K)},Ee.useMemo=function(N,K){return R.H.useMemo(N,K)},Ee.useOptimistic=function(N,K){return R.H.useOptimistic(N,K)},Ee.useReducer=function(N,K,ne){return R.H.useReducer(N,K,ne)},Ee.useRef=function(N){return R.H.useRef(N)},Ee.useState=function(N){return R.H.useState(N)},Ee.useSyncExternalStore=function(N,K,ne){return R.H.useSyncExternalStore(N,K,ne)},Ee.useTransition=function(){return R.H.useTransition()},Ee.version="19.2.3",Ee}var D_;function vm(){return D_||(D_=1,Id.exports=xb()),Id.exports}var Ge=vm();const Hs=Sb(Ge);var Nd={exports:{}},vo={},Dd={exports:{}},Od={};var O_;function Rb(){return O_||(O_=1,(function(s){function e(G,te){var ue=G.length;G.push(te);e:for(;0<ue;){var ye=ue-1>>>1,Pe=G[ye];if(0<o(Pe,te))G[ye]=te,G[ue]=Pe,ue=ye;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var te=G[0],ue=G.pop();if(ue!==te){G[0]=ue;e:for(var ye=0,Pe=G.length,N=Pe>>>1;ye<N;){var K=2*(ye+1)-1,ne=G[K],se=K+1,_e=G[se];if(0>o(ne,ue))se<Pe&&0>o(_e,ne)?(G[ye]=_e,G[se]=ue,ye=se):(G[ye]=ne,G[K]=ue,ye=K);else if(se<Pe&&0>o(_e,ue))G[ye]=_e,G[se]=ue,ye=se;else break e}}return te}function o(G,te){var ue=G.sortIndex-te.sortIndex;return ue!==0?ue:G.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],S=1,w=null,V=3,H=!1,W=!1,Z=!1,J=!1,le=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function ze(G){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=G)a(_),te.sortIndex=te.expirationTime,e(g,te);else break;te=i(_)}}function He(G){if(Z=!1,ze(G),!W)if(i(g)!==null)W=!0,xe||(xe=!0,L());else{var te=i(_);te!==null&&ft(He,te.startTime-G)}}var xe=!1,R=-1,x=5,A=-1;function M(){return J?!0:!(s.unstable_now()-A<x)}function D(){if(J=!1,xe){var G=s.unstable_now();A=G;var te=!0;try{e:{W=!1,Z&&(Z=!1,me(R),R=-1),H=!0;var ue=V;try{t:{for(ze(G),w=i(g);w!==null&&!(w.expirationTime>G&&M());){var ye=w.callback;if(typeof ye=="function"){w.callback=null,V=w.priorityLevel;var Pe=ye(w.expirationTime<=G);if(G=s.unstable_now(),typeof Pe=="function"){w.callback=Pe,ze(G),te=!0;break t}w===i(g)&&a(g),ze(G)}else a(g);w=i(g)}if(w!==null)te=!0;else{var N=i(_);N!==null&&ft(He,N.startTime-G),te=!1}}break e}finally{w=null,V=ue,H=!1}te=void 0}}finally{te?L():xe=!1}}}var L;if(typeof he=="function")L=function(){he(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,et=C.port2;C.port1.onmessage=D,L=function(){et.postMessage(null)}}else L=function(){le(D,0)};function ft(G,te){R=le(function(){G(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var ue=V;V=te;try{return G()}finally{V=ue}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=V;V=G;try{return te()}finally{V=ue}},s.unstable_scheduleCallback=function(G,te,ue){var ye=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ye+ue:ye):ue=ye,G){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ue+Pe,G={id:S++,callback:te,priorityLevel:G,startTime:ue,expirationTime:Pe,sortIndex:-1},ue>ye?(G.sortIndex=ue,e(_,G),i(g)===null&&G===i(_)&&(Z?(me(R),R=-1):Z=!0,ft(He,ue-ye))):(G.sortIndex=Pe,e(g,G),W||H||(W=!0,xe||(xe=!0,L()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var te=V;return function(){var ue=V;V=te;try{return G.apply(this,arguments)}finally{V=ue}}}})(Od)),Od}var M_;function Cb(){return M_||(M_=1,Dd.exports=Rb()),Dd.exports}var Md={exports:{}},Yt={};var V_;function Ib(){if(V_)return Yt;V_=1;var s=vm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,S)},Yt.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},Yt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},Yt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Yt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:H}):S==="script"&&a.d.X(g,{crossOrigin:w,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},Yt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},Yt.requestFormReset=function(g){a.d.r(g)},Yt.unstable_batchedUpdates=function(g,_){return g(_)},Yt.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var k_;function Nb(){if(k_)return Md.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=Ib(),Md.exports}var L_;function Db(){if(L_)return vo;L_=1;var s=Cb(),e=vm(),i=Nb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===r){y=!0,r=h,l=f;break}if(T===l){y=!0,l=h,r=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===r){y=!0,r=f,l=h;break}if(T===l){y=!0,l=f,r=h;break}T=T.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),he=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case le:return"Profiler";case J:return"StrictMode";case He:return"Suspense";case xe:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case he:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case ze:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:et(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return et(t(n))}catch{}}return null}var ft=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ye=[],Pe=-1;function N(t){return{current:t}}function K(t){0>Pe||(t.current=ye[Pe],ye[Pe]=null,Pe--)}function ne(t,n){Pe++,ye[Pe]=t.current,t.current=n}var se=N(null),_e=N(null),Ae=N(null),ke=N(null);function It(t,n){switch(ne(Ae,n),ne(_e,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=Zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(se),ne(se,t)}function at(){K(se),K(_e),K(Ae)}function rr(t){t.memoizedState!==null&&ne(ke,t);var n=se.current,r=Zy(n,t.type);n!==r&&(ne(_e,t),ne(se,r))}function Zr(t){_e.current===t&&(K(se),K(_e)),ke.current===t&&(K(ke),mo._currentValue=ue)}var Wr,ea;function Wn(t){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ea=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+t+ea}var dl=!1;function ar(t,n){if(!t||dl)return"";dl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var I=y.split(`
`),U=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===U.length)for(l=I.length-1,h=U.length-1;1<=l&&0<=h&&I[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==U[h]){var F=`
`+I[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{dl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Wn(r):""}function ml(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ar(t.type,!1);case 11:return ar(t.type.render,!1);case 1:return ar(t.type,!0);case 31:return Wn("Activity");default:return""}}function pl(t){try{var n="",r=null;do n+=ml(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Nt=s.unstable_scheduleCallback,ss=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Wo=s.unstable_requestPaint,Wt=s.unstable_now,lr=s.unstable_getCurrentPriorityLevel,gl=s.unstable_ImmediatePriority,yl=s.unstable_UserBlockingPriority,rs=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,tu=s.log,nu=s.unstable_setDisableYieldValue,Pn=null,Ut=null;function Tn(t){if(typeof tu=="function"&&nu(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Pn,t)}catch{}}var dt=Math.clz32?Math.clz32:su,iu=Math.log,ta=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/ta|0)|0}var ei=256,or=262144,vt=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ti(l):(y&=T,y!==0?h=ti(y):r||(r=T&~t,r!==0&&(h=ti(r))))):(T=l&~f,T!==0?h=ti(T):y!==0?h=ti(y):r||(r=l&~t,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ur(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oh(t,n,r,l,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(r=y&~r;0<r;){var F=31-dt(r),Y=1<<F;T[F]=0,I[F]=-1;var z=U[F];if(z!==null)for(U[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function _l(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-dt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function vl(t,n){var r=n&-n;return r=(r&42)!==0?1:hr(r),(r&(t.suspendedLanes|n))!==0?0:r}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Un(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var zn=Math.random().toString(36).slice(2),Et="__reactFiber$"+zn,kt="__reactProps$"+zn,si="__reactContainer$"+zn,na="__reactEvents$"+zn,Mh="__reactListeners$"+zn,lu="__reactHandles$"+zn,ou="__reactResources$"+zn,ri="__reactMarker$"+zn;function ia(t){delete t[Et],delete t[kt],delete t[na],delete t[Mh],delete t[lu]}function ai(t){var n=t[Et];if(n)return n;for(var r=t.parentNode;r;){if(n=r[si]||r[Et]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=r_(t);t!==null;){if(r=t[Et])return r;t=r_(t)}return n}t=r,r=t.parentNode}return null}function bn(t){if(t=t[Et]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function li(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[ri]=!0}var El=new Set,Tl={};function oi(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Tl[t]=n,t=0;t<n.length;t++)El.add(n[t])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},Al={};function uu(t){return _t.call(Al,t)?!0:_t.call(Sl,t)?!1:bl.test(t)?Al[t]=!0:(Sl[t]=!0,!1)}function sa(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function bt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function as(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=as(t)?"checked":"value";t._valueTracker=wl(t,n,""+t[n])}}function fr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=as(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dr=/[\n"\\]/g;function sn(t){return t.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(t,n,r,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?xl(t,y,Lt(n)):r!=null?xl(t,y,Lt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function cu(t,n,r,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Qe(t)}function xl(t,n,r){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ls(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Lt(r):""}function os(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ft(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Qe(t)}function rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Cl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Rl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Rl(t,f,n[f])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return us.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Il=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cs=null,hi=null;function mr(t){var n=bn(t);if(n&&(t=n.stateNode)){var r=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ra(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(a(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&fr(l)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ls(t,!!r.multiple,n,!1)}}}var oa=!1;function hs(t,n,r){if(oa)return t(n,r);oa=!0;try{var l=t(n);return l}finally{if(oa=!1,(cs!==null||hi!==null)&&(ac(),cs&&(n=cs,t=hi,hi=cs=null,mr(n),t)))for(n=0;n<t.length;n++)mr(t[n])}}function qn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[kt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{pr=!1}var fi=null,Nl=null,gr=null;function Dl(){if(gr)return gr;var t,n=Nl,r=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[f-l];l++);return gr=h.slice(t,1<l?1-l:void 0)}function yr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function Hn(){return!1}function zt(t){function n(r,l,h,f,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=zt(Mi),fs=w({},Mi,{view:0,detail:0}),Ol=zt(fs),ds,ua,mi,ca=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(ds=t.screenX-mi.screenX,ua=t.screenY-mi.screenY):ua=ds=0,mi=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Ml=zt(ca),_r=w({},ca,{dataTransfer:0}),mu=zt(_r),pu=w({},fs,{relatedTarget:0}),vr=zt(pu),Vl=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=zt(Vl),ha=w({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=zt(ha),_u=w({},Mi,{data:0}),pi=zt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function ms(){return bu}var en=w({},fs,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=zt(en),Au=w({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=zt(Au),u=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=zt(u),v=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(v),P=w({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=zt(P),ee=w({},Mi,{newState:0,oldState:0}),be=zt(ee),mt=[9,13,27,32],Be=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var wn=An&&"TextEvent"in window&&!lt,gi=An&&(!Be||lt&&8<lt&&11>=lt),Gn=" ",Fn=!1;function Er(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function KT(t,n){switch(t){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Fn?null:t;default:return null}}function YT(t,n){if(da)return t==="compositionend"||!Be&&Er(t,n)?(t=Dl(),gr=Nl=fi=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!XT[t.type]:n==="textarea"}function up(t,n,r,l){cs?hi?hi.push(l):hi=[l]:cs=l,n=dc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var kl=null,Ll=null;function $T(t){Fy(t,0)}function wu(t){var n=fn(t);if(fr(n))return t}function cp(t,n){if(t==="change")return n}var hp=!1;if(An){var Vh;if(An){var kh="oninput"in document;if(!kh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),kh=typeof fp.oninput=="function"}Vh=kh}else Vh=!1;hp=Vh&&(!document.documentMode||9<document.documentMode)}function dp(){kl&&(kl.detachEvent("onpropertychange",mp),Ll=kl=null)}function mp(t){if(t.propertyName==="value"&&wu(Ll)){var n=[];up(n,Ll,t,Sn(t)),hs($T,n)}}function JT(t,n,r){t==="focusin"?(dp(),kl=n,Ll=r,kl.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function ZT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Ll)}function WT(t,n){if(t==="click")return wu(n)}function e1(t,n){if(t==="input"||t==="change")return wu(n)}function t1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:t1;function Pl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_t.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,n){var r=pp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pp(r)}}function yp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ci(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var n1=An&&"documentMode"in document&&11>=document.documentMode,ma=null,Ph=null,jl=null,jh=!1;function vp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||ma==null||ma!==ci(l)||(l=ma,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&Pl(jl,l)||(jl=l,l=dc(Ph,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ma)))}function Tr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var pa={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Uh={},Ep={};An&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function br(t){if(Uh[t])return Uh[t];if(!pa[t])return t;var n=pa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ep)return Uh[t]=n[r];return t}var Tp=br("animationend"),bp=br("animationiteration"),Sp=br("animationstart"),i1=br("transitionrun"),s1=br("transitionstart"),r1=br("transitioncancel"),Ap=br("transitionend"),wp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Qn(t,n){wp.set(t,n),oi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],ga=0,Bh=0;function Ru(){for(var t=ga,n=Bh=ga=0;n<t;){var r=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&xp(r,h,f)}}function Cu(t,n,r,l){xn[ga++]=t,xn[ga++]=n,xn[ga++]=r,xn[ga++]=l,Bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qh(t,n,r,l){return Cu(t,n,r,l),Iu(t)}function Sr(t,n){return Cu(t,null,null,n),Iu(t)}function xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<ao)throw ao=0,Zf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ya={};function a1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,r,l){return new a1(t,n,r,l)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var r=t.alternate;return r===null?(r=pn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Rp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,l,h,f){var y=0;if(l=t,typeof t=="function")Hh(t)&&(y=1);else if(typeof t=="string")y=hb(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=pn(31,r,n,h),t.elementType=A,t.lanes=f,t;case Z:return Ar(r.children,h,f,n);case J:y=8,h|=24;break;case le:return t=pn(12,r,n,h|2),t.elementType=le,t.lanes=f,t;case He:return t=pn(13,r,n,h),t.elementType=He,t.lanes=f,t;case xe:return t=pn(19,r,n,h),t.elementType=xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:y=10;break e;case me:y=9;break e;case ze:y=11;break e;case R:y=14;break e;case x:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(y,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ar(t,n,r,l){return t=pn(7,t,l,n),t.lanes=r,t}function Gh(t,n,r){return t=pn(6,t,null,n),t.lanes=r,t}function Cp(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Fh(t,n,r){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ip=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var r=Ip.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pl(n)},Ip.set(t,n),n)}return{value:t,source:n,stack:pl(n)}}var _a=[],va=0,Du=null,Ul=0,Cn=[],In=0,ps=null,yi=1,_i="";function Li(t,n){_a[va++]=Ul,_a[va++]=Du,Du=t,Ul=n}function Np(t,n,r){Cn[In++]=yi,Cn[In++]=_i,Cn[In++]=ps,ps=t;var l=yi;t=_i;var h=32-dt(l)-1;l&=~(1<<h),r+=1;var f=32-dt(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,yi=1<<32-dt(n)+h|r<<h|l,_i=f+t}else yi=1<<f|r<<h|l,_i=t}function Qh(t){t.return!==null&&(Li(t,1),Np(t,1,0))}function Kh(t){for(;t===Du;)Du=_a[--va],_a[va]=null,Ul=_a[--va],_a[va]=null;for(;t===ps;)ps=Cn[--In],Cn[In]=null,_i=Cn[--In],Cn[In]=null,yi=Cn[--In],Cn[In]=null}function Dp(t,n){Cn[In++]=yi,Cn[In++]=_i,Cn[In++]=ps,yi=n.id,_i=n.overflow,ps=t}var Bt=null,nt=null,Ve=!1,gs=null,Nn=!1,Yh=Error(a(519));function ys(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Rn(n,t)),Yh}function Op(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Et]=t,n[kt]=l,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(r=0;r<oo.length;r++)Ce(oo[r],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),os(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Xy(n.textContent,r)?(l.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),l.onScroll!=null&&Ce("scroll",n),l.onScrollEnd!=null&&Ce("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ys(t,!0)}function Mp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Bt=Bt.return}}function Ea(t){if(t!==Bt)return!1;if(!Ve)return Mp(t),Ve=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||dd(t.type,t.memoizedProps)),r=!r),r&&nt&&ys(t),Mp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=s_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=s_(t)}else n===27?(n=nt,Ds(t.type)?(t=_d,_d=null,nt=t):nt=n):nt=Bt?On(t.stateNode.nextSibling):null;return!0}function wr(){nt=Bt=null,Ve=!1}function Xh(){var t=gs;return t!==null&&(un===null?un=t:un.push.apply(un,t),gs=null),t}function zl(t){gs===null?gs=[t]:gs.push(t)}var $h=N(null),xr=null,Pi=null;function _s(t,n,r){ne($h,n._currentValue),n._currentValue=r}function ji(t){t._currentValue=$h.current,K($h)}function Jh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Zh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Jh(f.return,r,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Jh(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ta(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var T=h.type;mn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(mo):t=[mo])}h=h.return}t!==null&&Zh(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){xr=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Vp(xr,t)}function Mu(t,n){return xr===null&&Rr(t),Vp(t,n)}function Vp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Pi===null){if(t===null)throw Error(a(308));Pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pi=Pi.next=n;return r}var l1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},o1=s.unstable_scheduleCallback,u1=s.unstable_NormalPriority,St={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new l1,data:new Map,refCount:0}}function Bl(t){t.refCount--,t.refCount===0&&o1(u1,function(){t.controller.abort()})}var ql=null,ef=0,ba=0,Sa=null;function c1(t,n){if(ql===null){var r=ql=[];ef=0,ba=sd(),Sa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ef++,n.then(kp,kp),n}function kp(){if(--ef===0&&ql!==null){Sa!==null&&(Sa.status="fulfilled");var t=ql;ql=null,ba=0,Sa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function h1(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Lp=G.S;G.S=function(t,n){vy=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c1(t,n),Lp!==null&&Lp(t,n)};var Cr=N(null);function tf(){var t=Cr.current;return t!==null?t:We.pooledCache}function Vu(t,n){n===null?ne(Cr,Cr.current):ne(Cr,n.pool)}function Pp(){var t=tf();return t===null?null:{parent:St._currentValue,pool:t}}var Aa=Error(a(460)),nf=Error(a(474)),ku=Error(a(542)),Lu={then:function(){}};function jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Up(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bp(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bp(t),t}throw Nr=n,Aa}}function Ir(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Nr=r,Aa):r}}var Nr=null;function zp(){if(Nr===null)throw Error(a(459));var t=Nr;return Nr=null,t}function Bp(t){if(t===Aa||t===ku)throw Error(a(483))}var wa=null,Hl=0;function Pu(t){var n=Hl;return Hl+=1,wa===null&&(wa=[]),Up(wa,t,n)}function Gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qp(t){function n(k,O){if(t){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function r(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ki(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,j,Q){return O===null||O.tag!==6?(O=Gh(j,k.mode,Q),O.return=k,O):(O=h(O,j),O.return=k,O)}function I(k,O,j,Q){var ce=j.type;return ce===Z?F(k,O,j.props.children,Q,j.key):O!==null&&(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===x&&Ir(ce)===O.type)?(O=h(O,j.props),Gl(O,j),O.return=k,O):(O=Nu(j.type,j.key,j.props,null,k.mode,Q),Gl(O,j),O.return=k,O)}function U(k,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Fh(j,k.mode,Q),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function F(k,O,j,Q,ce){return O===null||O.tag!==7?(O=Ar(j,k.mode,Q,ce),O.return=k,O):(O=h(O,j),O.return=k,O)}function Y(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return j=Nu(O.type,O.key,O.props,null,k.mode,j),Gl(j,O),j.return=k,j;case W:return O=Fh(O,k.mode,j),O.return=k,O;case x:return O=Ir(O),Y(k,O,j)}if(ft(O)||L(O))return O=Ar(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Pu(O),j);if(O.$$typeof===he)return Y(k,Mu(k,O),j);ju(k,O)}return null}function z(k,O,j,Q){var ce=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:T(k,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return j.key===ce?I(k,O,j,Q):null;case W:return j.key===ce?U(k,O,j,Q):null;case x:return j=Ir(j),z(k,O,j,Q)}if(ft(j)||L(j))return ce!==null?null:F(k,O,j,Q,null);if(typeof j.then=="function")return z(k,O,Pu(j),Q);if(j.$$typeof===he)return z(k,O,Mu(k,j),Q);ju(k,j)}return null}function q(k,O,j,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,T(O,k,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?j:Q.key)||null,I(O,k,Q,ce);case W:return k=k.get(Q.key===null?j:Q.key)||null,U(O,k,Q,ce);case x:return Q=Ir(Q),q(k,O,j,Q,ce)}if(ft(Q)||L(Q))return k=k.get(j)||null,F(O,k,Q,ce,null);if(typeof Q.then=="function")return q(k,O,j,Pu(Q),ce);if(Q.$$typeof===he)return q(k,O,j,Mu(O,Q),ce);ju(O,Q)}return null}function re(k,O,j,Q){for(var ce=null,je=null,ae=O,we=O=0,Ne=null;ae!==null&&we<j.length;we++){ae.index>we?(Ne=ae,ae=null):Ne=ae.sibling;var Ue=z(k,ae,j[we],Q);if(Ue===null){ae===null&&(ae=Ne);break}t&&ae&&Ue.alternate===null&&n(k,ae),O=f(Ue,O,we),je===null?ce=Ue:je.sibling=Ue,je=Ue,ae=Ne}if(we===j.length)return r(k,ae),Ve&&Li(k,we),ce;if(ae===null){for(;we<j.length;we++)ae=Y(k,j[we],Q),ae!==null&&(O=f(ae,O,we),je===null?ce=ae:je.sibling=ae,je=ae);return Ve&&Li(k,we),ce}for(ae=l(ae);we<j.length;we++)Ne=q(ae,k,we,j[we],Q),Ne!==null&&(t&&Ne.alternate!==null&&ae.delete(Ne.key===null?we:Ne.key),O=f(Ne,O,we),je===null?ce=Ne:je.sibling=Ne,je=Ne);return t&&ae.forEach(function(Ls){return n(k,Ls)}),Ve&&Li(k,we),ce}function de(k,O,j,Q){if(j==null)throw Error(a(151));for(var ce=null,je=null,ae=O,we=O=0,Ne=null,Ue=j.next();ae!==null&&!Ue.done;we++,Ue=j.next()){ae.index>we?(Ne=ae,ae=null):Ne=ae.sibling;var Ls=z(k,ae,Ue.value,Q);if(Ls===null){ae===null&&(ae=Ne);break}t&&ae&&Ls.alternate===null&&n(k,ae),O=f(Ls,O,we),je===null?ce=Ls:je.sibling=Ls,je=Ls,ae=Ne}if(Ue.done)return r(k,ae),Ve&&Li(k,we),ce;if(ae===null){for(;!Ue.done;we++,Ue=j.next())Ue=Y(k,Ue.value,Q),Ue!==null&&(O=f(Ue,O,we),je===null?ce=Ue:je.sibling=Ue,je=Ue);return Ve&&Li(k,we),ce}for(ae=l(ae);!Ue.done;we++,Ue=j.next())Ue=q(ae,k,we,Ue.value,Q),Ue!==null&&(t&&Ue.alternate!==null&&ae.delete(Ue.key===null?we:Ue.key),O=f(Ue,O,we),je===null?ce=Ue:je.sibling=Ue,je=Ue);return t&&ae.forEach(function(bb){return n(k,bb)}),Ve&&Li(k,we),ce}function Ze(k,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case H:e:{for(var ce=j.key;O!==null;){if(O.key===ce){if(ce=j.type,ce===Z){if(O.tag===7){r(k,O.sibling),Q=h(O,j.props.children),Q.return=k,k=Q;break e}}else if(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===x&&Ir(ce)===O.type){r(k,O.sibling),Q=h(O,j.props),Gl(Q,j),Q.return=k,k=Q;break e}r(k,O);break}else n(k,O);O=O.sibling}j.type===Z?(Q=Ar(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Nu(j.type,j.key,j.props,null,k.mode,Q),Gl(Q,j),Q.return=k,k=Q)}return y(k);case W:e:{for(ce=j.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){r(k,O.sibling),Q=h(O,j.children||[]),Q.return=k,k=Q;break e}else{r(k,O);break}else n(k,O);O=O.sibling}Q=Fh(j,k.mode,Q),Q.return=k,k=Q}return y(k);case x:return j=Ir(j),Ze(k,O,j,Q)}if(ft(j))return re(k,O,j,Q);if(L(j)){if(ce=L(j),typeof ce!="function")throw Error(a(150));return j=ce.call(j),de(k,O,j,Q)}if(typeof j.then=="function")return Ze(k,O,Pu(j),Q);if(j.$$typeof===he)return Ze(k,O,Mu(k,j),Q);ju(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(r(k,O.sibling),Q=h(O,j),Q.return=k,k=Q):(r(k,O),Q=Gh(j,k.mode,Q),Q.return=k,k=Q),y(k)):r(k,O)}return function(k,O,j,Q){try{Hl=0;var ce=Ze(k,O,j,Q);return wa=null,ce}catch(ae){if(ae===Aa||ae===ku)throw ae;var je=pn(29,ae,null,k.mode);return je.lanes=Q,je.return=k,je}}}var Dr=qp(!0),Hp=qp(!1),vs=!1;function sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),xp(t,null,r),n}return Cu(t,l,n,r),Iu(t)}function Fl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,_l(t,r)}}function af(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var lf=!1;function Ql(){if(lf){var t=Sa;if(t!==null)throw t}}function Kl(t,n,r,l){lf=!1;var h=t.updateQueue;vs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,U=I.next;I.next=null,y===null?f=U:y.next=U,y=I;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==y&&(T===null?F.firstBaseUpdate=U:T.next=U,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;y=0,F=U=I=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Ie&z)===z:(l&z)===z){z!==0&&z===ba&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var re=t,de=T;z=n;var Ze=r;switch(de.tag){case 1:if(re=de.payload,typeof re=="function"){Y=re.call(Ze,Y,z);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=de.payload,z=typeof re=="function"?re.call(Ze,Y,z):re,z==null)break e;Y=w({},Y,z);break e;case 2:vs=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(U=F=q,I=Y):F=F.next=q,y|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),xs|=y,t.lanes=y,t.memoizedState=Y}}function Gp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Gp(r[t],n)}var xa=N(null),Uu=N(0);function Qp(t,n){t=Ki,ne(Uu,t),ne(xa,n),Ki=t|n.baseLanes}function of(){ne(Uu,Ki),ne(xa,xa.current)}function uf(){Ki=Uu.current,K(xa),K(Uu)}var gn=N(null),Dn=null;function bs(t){var n=t.alternate;ne(pt,pt.current&1),ne(gn,t),Dn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(Dn=t)}function cf(t){ne(pt,pt.current),ne(gn,t),Dn===null&&(Dn=t)}function Kp(t){t.tag===22?(ne(pt,pt.current),ne(gn,t),Dn===null&&(Dn=t)):Ss()}function Ss(){ne(pt,pt.current),ne(gn,gn.current)}function yn(t){K(gn),Dn===t&&(Dn=null),K(pt)}var pt=N(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,Se=null,$e=null,At=null,Bu=!1,Ra=!1,Or=!1,qu=0,Yl=0,Ca=null,f1=0;function ct(){throw Error(a(321))}function hf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!mn(t[r],n[r]))return!1;return!0}function ff(t,n,r,l,h,f){return Ui=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Ng:Rf,Or=!1,f=r(l,h),Or=!1,Ra&&(f=Xp(n,r,l,h)),Yp(t),f}function Yp(t){G.H=Jl;var n=$e!==null&&$e.next!==null;if(Ui=0,At=$e=Se=null,Bu=!1,Yl=0,Ca=null,n)throw Error(a(300));t===null||wt||(t=t.dependencies,t!==null&&Ou(t)&&(wt=!0))}function Xp(t,n,r,l){Se=t;var h=0;do{if(Ra&&(Ca=null),Yl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,At=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Dg,f=n(r,l)}while(Ra);return f}function d1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Xl(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Se.flags|=1024),n}function df(){var t=qu!==0;return qu=0,t}function mf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function pf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}Ui=0,At=$e=Se=null,Ra=!1,Yl=qu=0,Ca=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Se.memoizedState=At=t:At=At.next=t,At}function gt(){if($e===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=At===null?Se.memoizedState:At.next;if(n!==null)At=n,$e=t;else{if(t===null)throw Se.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Se.memoizedState=At=t:At=At.next=t}return At}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(t){var n=Yl;return Yl+=1,Ca===null&&(Ca=[]),t=Up(Ca,t,n),n=Se,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ng:Rf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xl(t);if(t.$$typeof===he)return qt(t)}throw Error(a(438,String(t)))}function gf(t){var n=null,r=Se.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Se.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function zi(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=gt();return yf(n,$e,t)}function yf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,I=null,U=n,F=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Ie&Y)===Y:(Ui&Y)===Y){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===ba&&(F=!0);else if((Ui&z)===z){U=U.next,z===ba&&(F=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=Y,y=f):I=I.next=Y,Se.lanes|=z,xs|=z;Y=U.action,Or&&r(f,Y),f=U.hasEagerState?U.eagerState:r(f,Y)}else z={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=z,y=f):I=I.next=z,Se.lanes|=Y,xs|=Y;U=U.next}while(U!==null&&U!==n);if(I===null?y=f:I.next=T,!mn(f,t.memoizedState)&&(wt=!0,F&&(r=Sa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _f(t){var n=gt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);mn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function $p(t,n,r){var l=Se,h=gt(),f=Ve;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!mn(($e||h).memoizedState,r);if(y&&(h.memoizedState=r,wt=!0),h=h.queue,Tf(Wp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Zp.bind(null,l,h,r,n),null),We===null)throw Error(a(349));f||(Ui&127)!==0||Jp(l,n,r)}return r}function Jp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Se.updateQueue,n===null?(n=Hu(),Se.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Zp(t,n,r,l){n.value=r,n.getSnapshot=l,eg(n)&&tg(t)}function Wp(t,n,r){return r(function(){eg(n)&&tg(t)})}function eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!mn(t,r)}catch{return!0}}function tg(t){var n=Sr(t,2);n!==null&&cn(n,t,2)}function vf(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Or){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function ng(t,n,r,l){return t.baseState=r,yf(t,$e,typeof l=="function"?l:zi)}function m1(t,n,r,l,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ig(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var T=r(h,l),I=G.S;I!==null&&I(y,T),sg(t,n,T)}catch(U){Ef(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=r(h,l),sg(t,n,f)}catch(U){Ef(t,n,U)}}function sg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){rg(t,n,l)},function(l){return Ef(t,n,l)}):rg(t,n,r)}function rg(t,n,r){n.status="fulfilled",n.value=r,ag(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ig(t,r)))}function Ef(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lg(t,n){return n}function og(t,n){if(Ve){var r=We.formState;if(r!==null){e:{var l=Se;if(Ve){if(nt){t:{for(var h=nt,f=Nn;h.nodeType!==8;){if(!f){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=On(h.nextSibling),l=h.data==="F!";break e}}ys(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},r.queue=l,r=Rg.bind(null,Se,l),l.dispatch=r,l=vf(!1),f=xf.bind(null,Se,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=m1.bind(null,Se,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function ug(t){var n=gt();return cg(n,$e,t)}function cg(t,n,r){if(n=yf(t,n,lg)[0],t=Fu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xl(n)}catch(y){throw y===Aa?ku:y}else l=n;n=gt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Se.flags|=2048,Ia(9,{destroy:void 0},p1.bind(null,h,r),null)),[l,f,t]}function p1(t,n){t.action=n}function hg(t){var n=gt(),r=$e;if(r!==null)return cg(n,r,t);gt(),n=n.memoizedState,r=gt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ia(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Hu(),Se.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function fg(){return gt().memoizedState}function Qu(t,n,r,l){var h=tn();Se.flags|=t,h.memoizedState=Ia(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(t,n,r,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;$e!==null&&l!==null&&hf(l,$e.memoizedState.deps)?h.memoizedState=Ia(n,f,r,l):(Se.flags|=t,h.memoizedState=Ia(1|n,f,r,l))}function dg(t,n){Qu(8390656,8,t,n)}function Tf(t,n){Ku(2048,8,t,n)}function g1(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Hu(),Se.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function mg(t){var n=gt().memoizedState;return g1({ref:n,nextImpl:t}),function(){if((qe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pg(t,n){return Ku(4,2,t,n)}function gg(t,n){return Ku(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,r){r=r!=null?r.concat([t]):null,Ku(4,4,yg.bind(null,n,t),r)}function bf(){}function vg(t,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Eg(t,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hf(n,l[1]))return l[0];if(l=t(),Or){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l}function Sf(t,n,r){return r===void 0||(Ui&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ty(),Se.lanes|=t,xs|=t,r)}function Tg(t,n,r,l){return mn(r,n)?r:xa.current!==null?(t=Sf(t,r,l),mn(t,n)||(wt=!0),t):(Ui&42)===0||(Ui&1073741824)!==0&&(Ie&261930)===0?(wt=!0,t.memoizedState=r):(t=Ty(),Se.lanes|=t,xs|=t,n)}function bg(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var y=G.T,T={};G.T=T,xf(t,!1,n,r);try{var I=h(),U=G.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=h1(I,l);$l(t,n,F,En(t))}else $l(t,n,l,En(t))}catch(Y){$l(t,n,{then:function(){},status:"rejected",reason:Y},En())}finally{te.p=f,y!==null&&T.types!==null&&(y.types=T.types),G.T=y}}function y1(){}function Af(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Sg(t).queue;bg(t,h,n,ue,r===null?y1:function(){return Ag(t),r(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ue},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ag(t){var n=Sg(t);n.next===null&&(n=t.alternate.memoizedState),$l(t,n.next.queue,{},En())}function wf(){return qt(mo)}function wg(){return gt().memoizedState}function xg(){return gt().memoizedState}function _1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();t=Es(r);var l=Ts(n,t,r);l!==null&&(cn(l,n,r),Fl(l,n,r)),n={cache:Wh()},t.payload=n;return}n=n.return}}function v1(t,n,r){var l=En();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Cg(n,r):(r=qh(t,n,r,l),r!==null&&(cn(r,t,l),Ig(r,n,l)))}function Rg(t,n,r){var l=En();$l(t,n,r,l)}function $l(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Cg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,r);if(h.hasEagerState=!0,h.eagerState=T,mn(T,y))return Cu(t,n,h,0),We===null&&Ru(),!1}catch{}if(r=qh(t,n,h,l),r!==null)return cn(r,t,l),Ig(r,n,l),!0}return!1}function xf(t,n,r,l){if(l={lane:2,revertLane:sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=qh(t,r,l,2),n!==null&&cn(n,t,2)}function Yu(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function Cg(t,n){Ra=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ig(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,_l(t,r)}}var Jl={readContext:qt,use:Gu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Jl.useEffectEvent=ct;var Ng={readContext:qt,use:Gu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:dg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,yg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Or){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var h=r(n);if(Or){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=v1.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=vf(t);var n=t.queue,r=Rg.bind(null,Se,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:bf,useDeferredValue:function(t,n){var r=tn();return Sf(r,t,n)},useTransition:function(){var t=vf(!1);return t=bg.bind(null,Se,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Se,h=tn();if(Ve){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),We===null)throw Error(a(349));(Ie&127)!==0||Jp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,dg(Wp.bind(null,l,f,t),[t]),l.flags|=2048,Ia(9,{destroy:void 0},Zp.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=We.identifierPrefix;if(Ve){var r=_i,l=yi;r=(l&~(1<<32-dt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=f1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wf,useFormState:og,useActionState:og,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xf.bind(null,Se,!0,r),r.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return tn().memoizedState=_1.bind(null,Se)},useEffectEvent:function(t){var n=tn(),r={impl:t};return n.memoizedState=r,function(){if((qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Rf={readContext:qt,use:Gu,useCallback:vg,useContext:qt,useEffect:Tf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:Fu,useRef:fg,useState:function(){return Fu(zi)},useDebugValue:bf,useDeferredValue:function(t,n){var r=gt();return Tg(r,$e.memoizedState,t,n)},useTransition:function(){var t=Fu(zi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Xl(t),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:wf,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var r=gt();return ng(r,$e,t,n)},useMemoCache:gf,useCacheRefresh:xg};Rf.useEffectEvent=mg;var Dg={readContext:qt,use:Gu,useCallback:vg,useContext:qt,useEffect:Tf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:_f,useRef:fg,useState:function(){return _f(zi)},useDebugValue:bf,useDeferredValue:function(t,n){var r=gt();return $e===null?Sf(r,t,n):Tg(r,$e.memoizedState,t,n)},useTransition:function(){var t=_f(zi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Xl(t),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:wf,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var r=gt();return $e!==null?ng(r,$e,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:xg};Dg.useEffectEvent=mg;function Cf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var If={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=En(),h=Es(l);h.payload=n,r!=null&&(h.callback=r),n=Ts(t,h,l),n!==null&&(cn(n,t,l),Fl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=En(),h=Es(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ts(t,h,l),n!==null&&(cn(n,t,l),Fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=En(),l=Es(r);l.tag=2,n!=null&&(l.callback=n),n=Ts(t,l,r),n!==null&&(cn(n,t,r),Fl(n,t,r))}};function Og(t,n,r,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Pl(r,l)||!Pl(h,f):!0}function Mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function Mr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Vg(t){xu(t)}function kg(t){console.error(t)}function Lg(t){xu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function jg(t){return t=Es(t),t.tag=3,t}function Ug(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Pg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Pg(n,r,l),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function E1(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?lc():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),td(t,l,h)),!1;case 22:return r.flags|=65536,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),td(t,l,h)),!1}throw Error(a(435,r.tag))}return td(t,l,h),lc(),!1}if(Ve)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(t=Error(a(422),{cause:l}),zl(Rn(t,r)))):(l!==Yh&&(n=Error(a(423),{cause:l}),zl(Rn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,r),h=Nf(t.stateNode,l,h),af(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:l});if(f=Rn(f,r),ro===null?ro=[f]:ro.push(f),ht!==4&&(ht=2),n===null)return!0;l=Rn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Nf(r.stateNode,l,t),af(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jg(h),Ug(h,t,r,l),af(r,h),!1}r=r.return}while(r!==null);return!1}var Df=Error(a(461)),wt=!1;function Ht(t,n,r,l){n.child=t===null?Hp(n,null,r,l):Dr(n,t.child,r,l)}function zg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Rr(n),l=ff(t,n,r,y,f,h),T=df(),t!==null&&!wt?(mf(t,n,h),Bi(t,n,h)):(Ve&&T&&Qh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Bg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,qg(t,n,f,l,h)):(t=Nu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uf(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(y,l)&&t.ref===n.ref)return Bi(t,n,h)}return n.flags|=1,t=ki(f,l),t.ref=n.ref,t.return=n,n.child=t}function qg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Pl(f,l)&&t.ref===n.ref)if(wt=!1,n.pendingProps=l=f,Uf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Bi(t,n,h)}return Of(t,n,r,l,h)}function Hg(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Gg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):of(),Kp(n);else return l=n.lanes=536870912,Gg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),Qp(n,f),Ss(),n.memoizedState=null):(t!==null&&Vu(n,null),of(),Ss());return Ht(t,n,h,r),n.child}function Zl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(t,n,r,l,h){var f=tf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),of(),Kp(n),t!==null&&Ta(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fg(t,n,r){return Dr(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function T1(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ve){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,Zl(null,t);if(cf(n),(t=nt)?(t=i_(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Cp(t),r.return=n,n.child=r,Bt=n,nt=null)):t=null,t===null)throw ys(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Fg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(wt||Ta(t,n,r,!1),h=(r&t.childLanes)!==0,wt||h){if(l=We,l!==null&&(y=vl(l,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,Sr(t,y),cn(l,t,y),Df;lc(),n=Fg(t,n,r)}else t=f.treeContext,nt=On(y.nextSibling),Bt=n,Ve=!0,gs=null,Nn=!1,t!==null&&Dp(n,t),n=$u(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Of(t,n,r,l,h){return Rr(n),r=ff(t,n,r,l,void 0,h),l=df(),t!==null&&!wt?(mf(t,n,h),Bi(t,n,h)):(Ve&&l&&Qh(n),n.flags|=1,Ht(t,n,r,h),n.child)}function Qg(t,n,r,l,h,f){return Rr(n),n.updateQueue=null,r=Xp(n,l,r,h),Yp(t),l=df(),t!==null&&!wt?(mf(t,n,f),Bi(t,n,f)):(Ve&&l&&Qh(n),n.flags|=1,Ht(t,n,r,f),n.child)}function Kg(t,n,r,l,h){if(Rr(n),n.stateNode===null){var f=ya,y=r.contextType;typeof y=="object"&&y!==null&&(f=qt(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qt(y):ya,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Cf(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&If.enqueueReplaceState(f,f.state,null),Kl(n,l,f,h),Ql(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=Mr(r,T);f.props=I;var U=f.context,F=r.contextType;y=ya,typeof F=="object"&&F!==null&&(y=qt(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==y)&&Mg(n,f,l,y),vs=!1;var z=n.memoizedState;f.state=z,Kl(n,l,f,h),Ql(),U=n.memoizedState,T||z!==U||vs?(typeof Y=="function"&&(Cf(n,r,Y,l),U=n.memoizedState),(I=vs||Og(n,r,I,l,z,U,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=y,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rf(t,n),y=n.memoizedProps,F=Mr(r,y),f.props=F,Y=n.pendingProps,z=f.context,U=r.contextType,I=ya,typeof U=="object"&&U!==null&&(I=qt(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==I)&&Mg(n,f,l,I),vs=!1,z=n.memoizedState,f.state=z,Kl(n,l,f,h),Ql();var q=n.memoizedState;y!==Y||z!==q||vs||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof T=="function"&&(Cf(n,r,T,l),q=n.memoizedState),(F=vs||Og(n,r,F,l,z,q,I)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Dr(n,t.child,null,h),n.child=Dr(n,null,r,h)):Ht(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Bi(t,n,h),t}function Yg(t,n,r,l){return wr(),n.flags|=256,Ht(t,n,r,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:Pp()}}function kf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=vn),t}function Xg(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ve){if(h?bs(n):Ss(),(t=nt)?(t=i_(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Cp(t),r.return=n,n.child=r,Bt=n,nt=null)):t=null,t===null)throw ys(n);return yd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ss(),h=n.mode,T=Zu({mode:"hidden",children:T},h),l=Ar(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Vf(r),l.childLanes=kf(t,y,r),n.memoizedState=Mf,Zl(null,l)):(bs(n),Lf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=Pf(t,n,r)):n.memoizedState!==null?(Ss(),n.child=t.child,n.flags|=128,n=null):(Ss(),T=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),T=Ar(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Dr(n,t.child,null,r),l=n.child,l.memoizedState=Vf(r),l.childLanes=kf(t,y,r),n.memoizedState=Mf,n=Zl(null,l));else if(bs(n),yd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var U=y.dgst;y=U,l=Error(a(419)),l.stack="",l.digest=y,zl({value:l,source:null,stack:null}),n=Pf(t,n,r)}else if(wt||Ta(t,n,r,!1),y=(r&t.childLanes)!==0,wt||y){if(y=We,y!==null&&(l=vl(y,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Sr(t,l),cn(y,t,l),Df;gd(T)||lc(),n=Pf(t,n,r)}else gd(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,nt=On(T.nextSibling),Bt=n,Ve=!0,gs=null,Nn=!1,t!==null&&Dp(n,t),n=Lf(n,l.children),n.flags|=4096);return n}return h?(Ss(),T=l.fallback,h=n.mode,I=t.child,U=I.sibling,l=ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,U!==null?T=ki(U,T):(T=Ar(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Zl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Vf(r):(h=T.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pp(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=kf(t,y,r),n.memoizedState=Mf,Zl(t.child,l)):(bs(n),r=t.child,t=r.sibling,r=ki(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Lf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function Pf(t,n,r){return Dr(n,t.child,null,r),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jh(t.return,n,r)}function jf(t,n,r,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function Jg(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=pt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,ne(pt,y),Ht(t,n,l,r),l=Ve?Ul:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,r,n);else if(t.tag===19)$g(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}jf(n,!0,r,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),xs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ta(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ki(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ki(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function b1(t,n,r){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),_s(n,St,t.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xg(t,n,r):(bs(n),t=Bi(t,n,r),t!==null?t.sibling:null);bs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ta(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Jg(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(pt,pt.current),l)break;return null;case 22:return n.lanes=0,Hg(t,n,r,n.pendingProps);case 24:_s(n,St,t.memoizedState.cache)}return Bi(t,n,r)}function Zg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Uf(t,r)&&(n.flags&128)===0)return wt=!1,b1(t,n,r);wt=(t.flags&131072)!==0}else wt=!1,Ve&&(n.flags&1048576)!==0&&Np(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ir(n.elementType),n.type=t,typeof t=="function")Hh(t)?(l=Mr(t,l),n.tag=1,n=Kg(null,n,t,l,r)):(n.tag=0,n=Of(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ze){n.tag=11,n=zg(null,n,t,l,r);break e}else if(h===R){n.tag=14,n=Bg(null,n,t,l,r);break e}}throw n=et(t)||t,Error(a(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Mr(l,n.pendingProps),Kg(t,n,l,h,r);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,rf(t,n),Kl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,_s(n,St,l),l!==f.cache&&Zh(n,[St],r,!0),Ql(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yg(t,n,l,r);break e}else if(l!==h){h=Rn(Error(a(424)),n),zl(h),n=Yg(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=On(t.firstChild),Bt=n,Ve=!0,gs=null,Nn=!0,r=Hp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wr(),l===h){n=Bi(t,n,r);break e}Ht(t,n,l,r)}n=n.child}return n;case 26:return Ju(t,n),t===null?(r=u_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ve||(r=n.type,t=n.pendingProps,l=mc(Ae.current).createElement(r),l[Et]=n,l[kt]=t,Gt(l,r,t),Tt(l),n.stateNode=l):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rr(n),t===null&&Ve&&(l=n.stateNode=a_(n.type,n.pendingProps,Ae.current),Bt=n,Nn=!0,h=nt,Ds(n.type)?(_d=h,nt=On(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,r),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ve&&((h=l=nt)&&(l=Z1(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,Bt=n,nt=On(l.firstChild),Nn=!1,h=!0):h=!1),h||ys(n)),rr(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,dd(h,f)?l=null:y!==null&&dd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(t,n,d1,null,null,r),mo._currentValue=h),Ju(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&Ve&&((t=r=nt)&&(r=W1(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,Bt=n,nt=null,t=!0):t=!1),t||ys(n)),null;case 13:return Xg(t,n,r);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Dr(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return zg(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,_s(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return Bg(t,n,n.type,n.pendingProps,r);case 15:return qg(t,n,n.type,n.pendingProps,r);case 19:return Jg(t,n,r);case 31:return T1(t,n,r);case 22:return Hg(t,n,r,n.pendingProps);case 24:return Rr(n),l=qt(St),t===null?(h=tf(),h===null&&(h=We,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},sf(n),_s(n,St,h)):((t.lanes&r)!==0&&(rf(t,n),Kl(n,null,null,r),Ql()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,St,l)):(l=f.cache,_s(n,St,l),l!==h.cache&&Zh(n,[St],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(t){t.flags|=4}function zf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Nr=Lu,nf}else t.flags&=-16777217}function Wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n))if(wy())t.flags|=8192;else throw Nr=Lu,nf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ma|=n)}function Wl(t,n){if(!Ve)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function S1(t,n,r){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ji(St),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ea(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qi(n),f!==null?(it(n),Wg(n,f)):(it(n),zf(n,h,null,l,r))):f?f!==t.memoizedState?(qi(n),it(n),Wg(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(n),it(n),zf(n,h,t,l,r)),null;case 27:if(Zr(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=se.current,Ea(n)?Op(n):(t=a_(h,l,r),n.stateNode=t,qi(n))}return it(n),null;case 5:if(Zr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(f=se.current,Ea(n))Op(n);else{var y=mc(Ae.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[Et]=n,f[kt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Gt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(n)}}return it(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Ea(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Xy(t.nodeValue,r)),t||ys(n,!0)}else t=mc(t).createTextNode(l),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ea(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else r=Xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ea(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Et]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&od(n.stateNode.containerInfo),it(n),null;case 10:return ji(n.type),it(n),null;case 19:if(K(pt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Wl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,Wl(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Rp(r,t),r=r.sibling;return ne(pt,pt.current&1|2),Ve&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Wt()>sc&&(n.flags|=128,h=!0,Wl(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ve)return it(n),null}else 2*Wt()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,Wl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,r=pt.current,ne(pt,h?r&1|2:r&1),Ve&&Li(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return yn(n),uf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(Cr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ji(St),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function A1(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(St),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Zr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(pt),null;case 4:return at(),null;case 10:return ji(n.type),null;case 22:case 23:return yn(n),uf(),t!==null&&K(Cr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(St),null;case 25:return null;default:return null}}function ey(t,n){switch(Kh(n),n.tag){case 3:ji(St),at();break;case 26:case 27:case 5:Zr(n);break;case 4:at();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(pt);break;case 10:ji(n.type);break;case 22:case 23:yn(n),uf(),t!==null&&K(Cr);break;case 24:ji(St)}}function eo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==h)}}catch(T){Ye(n,n.return,T)}}function As(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var I=r,U=T;try{U()}catch(F){Ye(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){Ye(n,n.return,F)}}function ty(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Fp(n,r)}catch(l){Ye(t,t.return,l)}}}function ny(t,n,r){r.props=Mr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ye(t,n,l)}}function to(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ye(t,n,h)}}function vi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ye(t,n,h)}else r.current=null}function iy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ye(t,t.return,h)}}function Bf(t,n,r){try{var l=t.stateNode;Q1(l,t.type,r,n),l[kt]=n}catch(h){Ye(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ds(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Ds(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Hf(t,n,r),t=t.sibling;t!==null;)Hf(t,n,r),t=t.sibling}function ec(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ds(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function ry(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,r),n[Et]=t,n[kt]=r}catch(f){Ye(t,t.return,f)}}var Hi=!1,xt=!1,Gf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function w1(t,n){if(t=t.containerInfo,hd=Tc,t=_p(t),Lh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,T=-1,I=-1,U=0,F=0,Y=t,z=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(T=y+h),Y!==f||l!==0&&Y.nodeType!==3||(I=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===r&&++U===h&&(T=y),z===f&&++F===l&&(I=y),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:t,selectionRange:r},Tc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var re=Mr(r.type,h);t=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(de){Ye(r,r.return,de)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)pd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function ly(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(t,r),l&4&&eo(5,r);break;case 1:if(Fi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Ye(r,r.return,y)}else{var h=Mr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ye(r,r.return,y)}}l&64&&ty(r),l&512&&to(r,r.return);break;case 3:if(Fi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fp(t,n)}catch(y){Ye(r,r.return,y)}}break;case 27:n===null&&l&4&&ry(r);case 26:case 5:Fi(t,r),n===null&&l&4&&iy(r),l&512&&to(r,r.return);break;case 12:Fi(t,r);break;case 31:Fi(t,r),l&4&&cy(t,r);break;case 13:Fi(t,r),l&4&&hy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=V1.bind(null,r),eb(t,r))));break;case 22:if(l=r.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||xt,h=Hi;var f=xt;Hi=l,(xt=n)&&!f?Qi(t,r,(r.subtreeFlags&8772)!==0):Fi(t,r),Hi=h,xt=f}break;case 30:break;default:Fi(t,r)}}function oy(t){var n=t.alternate;n!==null&&(t.alternate=null,oy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ia(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Gi(t,n,r){for(r=r.child;r!==null;)uy(t,n,r),r=r.sibling}function uy(t,n,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:xt||vi(r,n),Gi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xt||vi(r,n);var l=ot,h=an;Ds(r.type)&&(ot=r.stateNode,an=!1),Gi(t,n,r),co(r.stateNode),ot=l,an=h;break;case 5:xt||vi(r,n);case 6:if(l=ot,h=an,ot=null,Gi(t,n,r),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(f){Ye(r,n,f)}else try{ot.removeChild(r.stateNode)}catch(f){Ye(r,n,f)}break;case 18:ot!==null&&(an?(t=ot,t_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ba(t)):t_(ot,r.stateNode));break;case 4:l=ot,h=an,ot=r.stateNode.containerInfo,an=!0,Gi(t,n,r),ot=l,an=h;break;case 0:case 11:case 14:case 15:As(2,r,n),xt||As(4,r,n),Gi(t,n,r);break;case 1:xt||(vi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ny(r,n,l)),Gi(t,n,r);break;case 21:Gi(t,n,r);break;case 22:xt=(l=xt)||r.memoizedState!==null,Gi(t,n,r),xt=l;break;default:Gi(t,n,r)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ba(t)}catch(r){Ye(n,n.return,r)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ba(t)}catch(r){Ye(n,n.return,r)}}function x1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=x1(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=k1.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Ds(T.type)){ot=T.stateNode,an=!1;break e}break;case 5:ot=T.stateNode,an=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(ot===null)throw Error(a(160));uy(f,y,h),ot=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var Kn=null;function fy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(As(3,t,t.return),eo(3,t),As(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(xt||r===null||vi(r,r.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(xt||r===null||vi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,r),f[Et]=t,Tt(f),l=f;break e;case"link":var y=f_("link","href",h).get(l+(r.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;case"meta":if(y=f_("meta","content",h).get(l+(r.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(T,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Et]=t,Tt(f),l=f}t.stateNode=l}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?d_(h,t.type,t.stateNode):h_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(xt||r===null||vi(r,r.return)),r!==null&&l&4&&Bf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(xt||r===null||vi(r,r.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(re){Ye(t,t.return,re)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Gf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(re){Ye(t,t.return,re)}}break;case 3:if(yc=null,h=Kn,Kn=pc(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(re){Ye(t,t.return,re)}Gf&&(Gf=!1,dy(t));break;case 4:l=Kn,Kn=pc(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,U=Hi,F=xt;if(Hi=U||h,xt=F||I,ln(n,t),xt=F,Hi=U,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Hi||xt||Vr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=I.stateNode;var Y=I.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(re){Ye(I,I.return,re)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(re){Ye(I,I.return,re)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?n_(q,!0):n_(I.stateNode,!1)}catch(re){Ye(I,I.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(sy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(t);ec(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(rn(y,""),r.flags&=-33);var T=qf(t);ec(t,T,y);break;case 3:case 4:var I=r.stateNode.containerInfo,U=qf(t);Hf(t,U,I);break;default:throw Error(a(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function Vr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Vr(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ny(n,n.return,r),Vr(n);break;case 27:co(n.stateNode);case 26:case 5:vi(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}t=t.sibling}}function Qi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,r),eo(4,f);break;case 1:if(Qi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ye(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gp(I[h],T)}catch(U){Ye(l,l.return,U)}}r&&y&64&&ty(f),to(f,f.return);break;case 27:ry(f);case 26:case 5:Qi(h,f,r),r&&l===null&&y&4&&iy(f),to(f,f.return);break;case 12:Qi(h,f,r);break;case 31:Qi(h,f,r),r&&y&4&&cy(h,f);break;case 13:Qi(h,f,r),r&&y&4&&hy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,r),to(f,f.return);break;case 30:break;default:Qi(h,f,r)}n=n.sibling}}function Ff(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Bl(r))}function Qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bl(t))}function Yn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,r,l),n=n.sibling}function my(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,r,l),h&2048&&eo(9,n);break;case 1:Yn(t,n,r,l);break;case 3:Yn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bl(t)));break;case 12:if(h&2048){Yn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(n,n.return,I)}}else Yn(t,n,r,l);break;case 31:Yn(t,n,r,l);break;case 13:Yn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,r,l):no(t,n):f._visibility&2?Yn(t,n,r,l):(f._visibility|=2,Na(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(y,n);break;case 24:Yn(t,n,r,l),h&2048&&Qf(n.alternate,n);break;default:Yn(t,n,r,l)}}function Na(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=r,I=l,U=y.flags;switch(y.tag){case 0:case 11:case 15:Na(f,y,T,I,h),eo(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Na(f,y,T,I,h):no(f,y):(F._visibility|=2,Na(f,y,T,I,h)),h&&U&2048&&Ff(y.alternate,y);break;case 24:Na(f,y,T,I,h),h&&U&2048&&Qf(y.alternate,y);break;default:Na(f,y,T,I,h)}n=n.sibling}}function no(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:no(r,l),h&2048&&Ff(l.alternate,l);break;case 24:no(r,l),h&2048&&Qf(l.alternate,l);break;default:no(r,l)}n=n.sibling}}var io=8192;function Da(t,n,r){if(t.subtreeFlags&io)for(t=t.child;t!==null;)py(t,n,r),t=t.sibling}function py(t,n,r){switch(t.tag){case 26:Da(t,n,r),t.flags&io&&t.memoizedState!==null&&fb(r,Kn,t.memoizedState,t.memoizedProps);break;case 5:Da(t,n,r);break;case 3:case 4:var l=Kn;Kn=pc(t.stateNode.containerInfo),Da(t,n,r),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=io,io=16777216,Da(t,n,r),io=l):Da(t,n,r));break;default:Da(t,n,r)}}function gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function so(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,_y(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:so(t),t.flags&2048&&As(9,t,t.return);break;case 3:so(t);break;case 12:so(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):so(t);break;default:so(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,_y(l,t)}gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function _y(t,n){for(;Pt!==null;){var r=Pt;switch(r.tag){case 0:case 11:case 15:As(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pt=l;else e:for(r=t;Pt!==null;){l=Pt;var h=l.sibling,f=l.return;if(oy(l),l===r){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var R1={getCacheForType:function(t){var n=qt(St),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qt(St).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,Re=null,Ie=0,Ke=0,_n=null,ws=!1,Oa=!1,Kf=!1,Ki=0,ht=0,xs=0,kr=0,Yf=0,vn=0,Ma=0,ro=null,un=null,Xf=!1,ic=0,vy=0,sc=1/0,rc=null,Rs=null,Dt=0,Cs=null,Va=null,Yi=0,$f=0,Jf=null,Ey=null,ao=0,Zf=null;function En(){return(qe&2)!==0&&Ie!==0?Ie&-Ie:G.T!==null?sd():au()}function Ty(){if(vn===0)if((Ie&536870912)===0||Ve){var t=or;or<<=1,(or&3932160)===0&&(or=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function cn(t,n,r){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ka(t,0),Is(t,Ie,vn,!1)),ur(t,r),((qe&2)===0||t!==We)&&(t===We&&((qe&2)===0&&(kr|=r),ht===4&&Is(t,Ie,vn,!1)),Ei(t))}function by(t,n,r){if((qe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),h=l?D1(t,n):ed(t,n,!0),f=l;do{if(h===0){Oa&&!l&&Is(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!I1(r)){h=ed(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=ro;var I=T.current.memoizedState.isDehydrated;if(I&&(ka(T,y).flags|=256),y=ed(T,y,!1),y!==2){if(Kf&&!I){T.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ka(t,0),Is(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(l,n,vn,!ws);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-Wt(),10<h)){if(Is(l,n,vn,!ws),ni(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=Wy(Sy.bind(null,l,r,un,rc,Xf,n,vn,kr,Ma,ws,f,"Throttled",-0,0),h);break e}Sy(l,r,un,rc,Xf,n,vn,kr,Ma,ws,f,null,-0,0)}}break}while(!0);Ei(t)}function Sy(t,n,r,l,h,f,y,T,I,U,F,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},py(n,f,Y);var re=(f&62914560)===f?ic-Wt():(f&4194048)===f?vy-Wt():0;if(re=db(Y,re),re!==null){Yi=f,t.cancelPendingCommit=re(Dy.bind(null,t,n,f,r,l,h,y,T,I,F,Y,null,z,q)),Is(t,f,y,!U);return}}Dy(t,n,f,r,l,h,y,T,I)}function I1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(t,n,r,l){n&=~Yf,n&=~kr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),y=1<<f;l[f]=-1,h&=~y}r!==0&&cr(t,r,n)}function ac(){return(qe&6)===0?(lo(0),!1):!0}function Wf(){if(Re!==null){if(Ke===0)var t=Re.return;else t=Re,Pi=xr=null,pf(t),wa=null,Hl=0,t=Re;for(;t!==null;)ey(t.alternate,t),t=t.return;Re=null}}function ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,X1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Yi=0,Wf(),We=t,Re=r=ki(t.current,null),Ie=n,Ke=0,_n=null,ws=!1,Oa=jn(t,n),Kf=!1,Ma=vn=Yf=kr=xs=ht=0,un=ro=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),f=1<<h;n|=t[h],l&=~f}return Ki=n,Ru(),r}function Ay(t,n){Se=null,G.H=Jl,n===Aa||n===ku?(n=zp(),Ke=3):n===nf?(n=zp(),Ke=4):Ke=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Re===null&&(ht=1,Xu(t,Rn(n,t.current)))}function wy(){var t=gn.current;return t===null?!0:(Ie&4194048)===Ie?Dn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===Dn:!1}function xy(){var t=G.H;return G.H=Jl,t===null?Jl:t}function Ry(){var t=G.A;return G.A=R1,t}function lc(){ht=4,ws||(Ie&4194048)!==Ie&&gn.current!==null||(Oa=!0),(xs&134217727)===0&&(kr&134217727)===0||We===null||Is(We,Ie,vn,!1)}function ed(t,n,r){var l=qe;qe|=2;var h=xy(),f=Ry();(We!==t||Ie!==n)&&(rc=null,ka(t,n)),n=!1;var y=ht;e:do try{if(Ke!==0&&Re!==null){var T=Re,I=_n;switch(Ke){case 8:Wf(),y=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var U=Ke;if(Ke=0,_n=null,La(t,T,I,U),r&&Oa){y=0;break e}break;default:U=Ke,Ke=0,_n=null,La(t,T,I,U)}}N1(),y=ht;break}catch(F){Ay(t,F)}while(!0);return n&&t.shellSuspendCounter++,Pi=xr=null,qe=l,G.H=h,G.A=f,Re===null&&(We=null,Ie=0,Ru()),y}function N1(){for(;Re!==null;)Cy(Re)}function D1(t,n){var r=qe;qe|=2;var l=xy(),h=Ry();We!==t||Ie!==n?(rc=null,sc=Wt()+500,ka(t,n)):Oa=jn(t,n);e:do try{if(Ke!==0&&Re!==null){n=Re;var f=_n;t:switch(Ke){case 1:Ke=0,_n=null,La(t,n,f,1);break;case 2:case 9:if(jp(f)){Ke=0,_n=null,Iy(n);break}n=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Ei(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:jp(f)?(Ke=0,_n=null,Iy(n)):(Ke=0,_n=null,La(t,n,f,7));break;case 5:var y=null;switch(Re.tag){case 26:y=Re.memoizedState;case 5:case 27:var T=Re;if(y?m_(y):T.stateNode.complete){Ke=0,_n=null;var I=T.sibling;if(I!==null)Re=I;else{var U=T.return;U!==null?(Re=U,oc(U)):Re=null}break t}}Ke=0,_n=null,La(t,n,f,5);break;case 6:Ke=0,_n=null,La(t,n,f,6);break;case 8:Wf(),ht=6;break e;default:throw Error(a(462))}}O1();break}catch(F){Ay(t,F)}while(!0);return Pi=xr=null,G.H=l,G.A=h,qe=r,Re!==null?0:(We=null,Ie=0,Ru(),ht)}function O1(){for(;Re!==null&&!Ih();)Cy(Re)}function Cy(t){var n=Zg(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,n===null?oc(t):Re=n}function Iy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Qg(r,n,n.pendingProps,n.type,void 0,Ie);break;case 11:n=Qg(r,n,n.pendingProps,n.type.render,n.ref,Ie);break;case 5:pf(n);default:ey(r,n),n=Re=Rp(n,Ki),n=Zg(r,n,Ki)}t.memoizedProps=t.pendingProps,n===null?oc(t):Re=n}function La(t,n,r,l){Pi=xr=null,pf(n),wa=null,Hl=0;var h=n.return;try{if(E1(t,h,n,r,Ie)){ht=1,Xu(t,Rn(r,t.current)),Re=null;return}}catch(f){if(h!==null)throw Re=h,f;ht=1,Xu(t,Rn(r,t.current)),Re=null;return}n.flags&32768?(Ve||l===1?t=!0:Oa||(Ie&536870912)!==0?t=!1:(ws=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Ny(n,ws);return}t=n.return;var r=S1(n.alternate,n,Ki);if(r!==null){Re=r;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=t}while(n!==null);ht===0&&(ht=5)}function Ny(t,n){do{var r=A1(t.alternate,t);if(r!==null){r.flags&=32767,Re=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Re=t;return}Re=t=r}while(t!==null);ht=6,Re=null}function Dy(t,n,r,l,h,f,y,T,I){t.cancelPendingCommit=null;do uc();while(Dt!==0);if((qe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(t,r,f,y,T,I),t===We&&(Re=We=null,Ie=0),Va=n,Cs=t,Yi=r,$f=f,Jf=h,Ey=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,L1(rs,function(){return Ly(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=te.p,te.p=2,y=qe,qe|=4;try{w1(t,n,r)}finally{qe=y,te.p=h,G.T=l}}Dt=1,Oy(),My(),Vy()}}function Oy(){if(Dt===1){Dt=0;var t=Cs,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=qe;qe|=4;try{fy(n,t);var f=fd,y=_p(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&yp(T.ownerDocument.documentElement,T)){if(I!==null&&Lh(T)){var U=I.start,F=I.end;if(F===void 0&&(F=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),re=T.textContent.length,de=Math.min(I.start,re),Ze=I.end===void 0?de:Math.min(I.end,re);!q.extend&&de>Ze&&(y=Ze,Ze=de,de=y);var k=gp(T,de),O=gp(T,Ze);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var j=Y.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),de>Ze?(q.addRange(j),q.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),q.addRange(j))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!hd,fd=hd=null}finally{qe=h,te.p=l,G.T=r}}t.current=n,Dt=2}}function My(){if(Dt===2){Dt=0;var t=Cs,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=qe;qe|=4;try{ly(t,n.alternate,n)}finally{qe=h,te.p=l,G.T=r}}Dt=3}}function Vy(){if(Dt===4||Dt===3){Dt=0,Wo();var t=Cs,n=Va,r=Yi,l=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Va=Cs=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rs=null),Di(r),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{G.T=n,te.p=h}}(Yi&3)!==0&&uc(),Ei(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Zf?ao++:(ao=0,Zf=t):ao=0,lo(0)}}function ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Bl(n)))}function uc(){return Oy(),My(),Vy(),Ly()}function Ly(){if(Dt!==5)return!1;var t=Cs,n=$f;$f=0;var r=Di(Yi),l=G.T,h=te.p;try{te.p=32>r?32:r,G.T=null,r=Jf,Jf=null;var f=Cs,y=Yi;if(Dt=0,Va=Cs=null,Yi=0,(qe&6)!==0)throw Error(a(331));var T=qe;if(qe|=4,yy(f.current),my(f,f.current,y,r),qe=T,lo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{te.p=h,G.T=l,ky(t,n)}}function Py(t,n,r){n=Rn(r,n),n=Nf(t.stateNode,n,2),t=Ts(t,n,2),t!==null&&(ur(t,2),Ei(t))}function Ye(t,n,r){if(t.tag===3)Py(t,t,r);else for(;n!==null;){if(n.tag===3){Py(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rs===null||!Rs.has(l))){t=Rn(r,t),r=jg(2),l=Ts(n,r,2),l!==null&&(Ug(r,l,n,t),ur(l,2),Ei(l));break}}n=n.return}}function td(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new C1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Kf=!0,h.add(r),t=M1.bind(null,t,n,r),n.then(t,t))}function M1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,We===t&&(Ie&r)===r&&(ht===4||ht===3&&(Ie&62914560)===Ie&&300>Wt()-ic?(qe&2)===0&&ka(t,0):Yf|=r,Ma===Ie&&(Ma=0)),Ei(t)}function jy(t,n){n===0&&(n=ru()),t=Sr(t,n),t!==null&&(ur(t,n),Ei(t))}function V1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(t,r)}function k1(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jy(t,r)}function L1(t,n){return Nt(t,n)}var cc=null,Pa=null,nd=!1,hc=!1,id=!1,Ns=0;function Ei(t){t!==Pa&&t.next===null&&(Pa===null?cc=Pa=t:Pa=Pa.next=t),hc=!0,nd||(nd=!0,j1())}function lo(t,n){if(!id&&hc){id=!0;do for(var r=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qy(l,f))}else f=Ie,f=ni(l,l===We?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(r=!0,qy(l,f));l=l.next}while(r);id=!1}}function P1(){Uy()}function Uy(){hc=nd=!1;var t=0;Ns!==0&&Y1()&&(t=Ns);for(var n=Wt(),r=null,l=cc;l!==null;){var h=l.next,f=zy(l,n);f===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(Pa=r)):(r=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}Dt!==0&&Dt!==5||lo(t),Ns!==0&&(Ns=0)}function zy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-dt(f),T=1<<y,I=h[y];I===-1?((T&r)===0||(T&l)!==0)&&(h[y]=Dh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=We,r=Ie,r=ni(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||jn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ss(l),Di(r)){case 2:case 8:r=yl;break;case 32:r=rs;break;case 268435456:r=eu;break;default:r=rs}return l=By.bind(null,t),r=Nt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ss(l),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var l=Ie;return l=ni(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,n),zy(t,Wt()),t.callbackNode!=null&&t.callbackNode===r?By.bind(null,t):null)}function qy(t,n){if(uc())return null;by(t,n,!0)}function j1(){$1(function(){(qe&6)!==0?Nt(gl,P1):Uy()})}function sd(){if(Ns===0){var t=ba;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ns=t}return Ns}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function Gy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function U1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Hy((h[kt]||null).action),y=l.submitter;y&&(n=(n=y[kt]||null)?Hy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new di("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var I=y?Gy(h,y):new FormData(h);Af(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=y?Gy(h,y):new FormData(h),Af(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var ad=zh[rd],z1=ad.toLowerCase(),B1=ad[0].toUpperCase()+ad.slice(1);Qn(z1,"on"+B1)}Qn(Tp,"onAnimationEnd"),Qn(bp,"onAnimationIteration"),Qn(Sp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(i1,"onTransitionRun"),Qn(s1,"onTransitionStart"),Qn(r1,"onTransitionCancel"),Qn(Ap,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Fy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(F){xu(F)}h.currentTarget=null,f=I}else for(y=0;y<l.length;y++){if(T=l[y],I=T.instance,U=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(F){xu(F)}h.currentTarget=null,f=I}}}}function Ce(t,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var l=t+"__bubble";r.has(l)||(Qy(n,t,2,!1),r.add(l))}function ld(t,n,r){var l=0;n&&(l|=4),Qy(r,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[fc]){t[fc]=!0,El.forEach(function(r){r!=="selectionchange"&&(q1.has(r)||ld(r,!1,t),ld(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,ld("selectionchange",!1,n))}}function Qy(t,n,r,l){switch(T_(n)){case 2:var h=gb;break;case 8:h=yb;break;default:h=Sd}r=h.bind(null,n,r,t),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function ud(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=ai(T),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){l=f=y;continue e}T=T.parentNode}}l=l.return}hs(function(){var U=f,F=Sn(r),Y=[];e:{var z=wp.get(t);if(z!==void 0){var q=di,re=t;switch(t){case"keypress":if(yr(r)===0)break e;case"keydown":case"keyup":q=Su;break;case"focusin":re="focus",q=vr;break;case"focusout":re="blur",q=vr;break;case"beforeblur":case"afterblur":q=vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tp:case bp:case Sp:q=gu;break;case Ap:q=b;break;case"scroll":case"scrollend":q=Ol;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=be}var de=(n&4)!==0,Ze=!de&&(t==="scroll"||t==="scrollend"),k=de?z!==null?z+"Capture":null:z;de=[];for(var O=U,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=qn(O,k),Q!=null&&de.push(uo(O,Q,j))),Ze)break;O=O.return}0<de.length&&(z=new q(z,re,null,r,F),Y.push({event:z,listeners:de}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Il&&(re=r.relatedTarget||r.fromElement)&&(ai(re)||re[si]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(re=r.relatedTarget||r.toElement,q=U,re=re?ai(re):null,re!==null&&(Ze=c(re),de=re.tag,re!==Ze||de!==5&&de!==27&&de!==6)&&(re=null)):(q=null,re=U),q!==re)){if(de=Ml,Q="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(de=Vi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),Ze=q==null?z:fn(q),j=re==null?z:fn(re),z=new de(Q,O+"leave",q,r,F),z.target=Ze,z.relatedTarget=j,Q=null,ai(F)===U&&(de=new de(k,O+"enter",re,r,F),de.target=j,de.relatedTarget=Ze,Q=de),Ze=Q,q&&re)t:{for(de=H1,k=q,O=re,j=0,Q=k;Q;Q=de(Q))j++;Q=0;for(var ce=O;ce;ce=de(ce))Q++;for(;0<j-Q;)k=de(k),j--;for(;0<Q-j;)O=de(O),Q--;for(;j--;){if(k===O||O!==null&&k===O.alternate){de=k;break t}k=de(k),O=de(O)}de=null}else de=null;q!==null&&Ky(Y,z,q,de,!1),re!==null&&Ze!==null&&Ky(Y,Ze,re,de,!0)}}e:{if(z=U?fn(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var je=cp;else if(op(z))if(hp)je=e1;else{je=ZT;var ae=JT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&aa(U.elementType)&&(je=cp):je=WT;if(je&&(je=je(t,U))){up(Y,je,r,F);break e}ae&&ae(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&xl(z,"number",z.value)}switch(ae=U?fn(U):window,t){case"focusin":(op(ae)||ae.contentEditable==="true")&&(ma=ae,Ph=U,jl=null);break;case"focusout":jl=Ph=ma=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,vp(Y,r,F);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":vp(Y,r,F)}var we;if(Be)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else da?Er(t,r)&&(Ne="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(gi&&r.locale!=="ko"&&(da||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&da&&(we=Dl()):(fi=F,Nl="value"in fi?fi.value:fi.textContent,da=!0)),ae=dc(U,Ne),0<ae.length&&(Ne=new pi(Ne,t,null,r,F),Y.push({event:Ne,listeners:ae}),we?Ne.data=we:(we=fa(r),we!==null&&(Ne.data=we)))),(we=wn?KT(t,r):YT(t,r))&&(Ne=dc(U,"onBeforeInput"),0<Ne.length&&(ae=new pi("onBeforeInput","beforeinput",null,r,F),Y.push({event:ae,listeners:Ne}),ae.data=we)),U1(Y,t,U,r,F)}Fy(Y,n)})}function uo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(t,r),h!=null&&l.unshift(uo(t,h,f)),h=qn(t,n),h!=null&&l.push(uo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function H1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,n,r,l,h){for(var f=n._reactName,y=[];r!==null&&r!==l;){var T=r,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||U===null||(I=U,h?(U=qn(r,f),U!=null&&y.unshift(uo(r,U,I))):h||(U=qn(r,f),U!=null&&y.push(uo(r,U,I)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var G1=/\r\n?/g,F1=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(G1,`
`).replace(F1,"")}function Xy(t,n){return n=Yy(n),Yy(t)===n}function Je(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,r,l);break;case"style":Cl(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=la(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=la(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),sa(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,sa(t,r,l))}}function cd(t,n,r,l,h,f){switch(r){case"style":Cl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[kt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):sa(t,r,l)}}}function Gt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Je(t,n,f,y,r,null)}}h&&Je(t,n,"srcSet",r.srcSet,r,null),l&&Je(t,n,"src",r.src,r,null);return;case"input":Ce("invalid",t);var T=f=y=h=null,I=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":y=F;break;case"checked":I=F;break;case"defaultChecked":U=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Je(t,n,l,F,r,null)}}cu(t,f,T,I,U,y,h,!1);return;case"select":Ce("invalid",t),l=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:Je(t,n,h,T,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ls(t,!!l,n,!1):r!=null&&ls(t,!!l,r,!0);return;case"textarea":Ce("invalid",t),f=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(T=r[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Je(t,n,y,T,r,null)}os(t,l,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,n,I,l,r,null));return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<oo.length;l++)Ce(oo[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Je(t,n,U,l,r,null)}return;default:if(aa(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&cd(t,n,F,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Je(t,n,T,l,r,null))}function Q1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,I=null,U=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(q)||Je(t,n,q,null,l,Y)}}for(var z in l){var q=l[z];if(Y=r[z],l.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Je(t,n,z,q,l,Y)}}ra(t,y,T,I,U,F,f,h);return;case"select":q=y=T=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Je(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==I&&Je(t,n,h,f,l,I)}n=T,r=y,l=q,z!=null?ls(t,!!r,z,!1):!!l!=!!r&&(n!=null?ls(t,!!r,n,!0):ls(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=r[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Je(t,n,y,h,l,f)}hu(t,z,q);return;case"option":for(var re in r)z=r[re],r.hasOwnProperty(re)&&z!=null&&!l.hasOwnProperty(re)&&(re==="selected"?t.selected=!1:Je(t,n,re,null,l,z));for(I in l)z=l[I],q=r[I],l.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":Je(t,n,I,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in r)z=r[de],r.hasOwnProperty(de)&&z!=null&&!l.hasOwnProperty(de)&&Je(t,n,de,null,l,z);for(U in l)if(z=l[U],q=r[U],l.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Je(t,n,U,z,l,q)}return;default:if(aa(n)){for(var Ze in r)z=r[Ze],r.hasOwnProperty(Ze)&&z!==void 0&&!l.hasOwnProperty(Ze)&&cd(t,n,Ze,void 0,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||cd(t,n,F,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Je(t,n,k,null,l,z);for(Y in l)z=l[Y],q=r[Y],!l.hasOwnProperty(Y)||z===q||z==null&&q==null||Je(t,n,Y,z,l,q)}function $y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&$y(y)){for(y=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],U=I.startTime;if(U>T)break;var F=I.transferSize,Y=I.initiatorType;F&&$y(Y)&&(I=I.responseEnd,y+=F*(I<T?1:(T-U)/(I-U)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hd=null,fd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function Y1(){var t=window.event;return t&&t.type==="popstate"?t===md?!1:(md=t,!0):(md=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(J1)}:Wy;function J1(t){setTimeout(function(){throw t})}function Ds(t){return t==="head"}function t_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ba(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")co(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,co(r);for(var f=r.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&co(t.ownerDocument.body);r=h}while(r);Ba(n)}function n_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pd(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Z1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function W1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function i_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function eb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _d=null;function s_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return On(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function r_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function a_(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ia(t)}var Mn=new Map,l_=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=te.d;te.d={f:tb,r:nb,D:ib,C:sb,L:rb,m:ab,X:ob,S:lb,M:ub};function tb(){var t=Xi.f(),n=ac();return t||n}function nb(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Ag(n):Xi.r(t)}var ja=typeof document>"u"?null:document;function o_(t,n,r){var l=ja;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),l_.has(h)||(l_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",t),Tt(n),l.head.appendChild(n)))}}function ib(t){Xi.D(t),o_("dns-prefetch",t,null)}function sb(t,n){Xi.C(t,n),o_("preconnect",t,n)}function rb(t,n,r){Xi.L(t,n,r);var l=ja;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Ua(t);break;case"script":f=za(t)}Mn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ho(f))||n==="script"&&l.querySelector(fo(f))||(n=l.createElement("link"),Gt(n,"link",t),Tt(n),l.head.appendChild(n)))}}function ab(t,n){Xi.m(t,n);var r=ja;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(t)}if(!Mn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Mn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fo(f)))return}l=r.createElement("link"),Gt(l,"link",t),Tt(l),r.head.appendChild(l)}}}function lb(t,n,r){Xi.S(t,n,r);var l=ja;if(l&&t){var h=li(l).hoistableStyles,f=Ua(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(ho(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Mn.get(f))&&vd(t,r);var I=y=l.createElement("link");Tt(I),Gt(I,"link",t),I._p=new Promise(function(U,F){I.onload=U,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function ob(t,n){Xi.X(t,n);var r=ja;if(r&&t){var l=li(r).hoistableScripts,h=za(t),f=l.get(h);f||(f=r.querySelector(fo(h)),f||(t=w({src:t,async:!0},n),(n=Mn.get(h))&&Ed(t,n),f=r.createElement("script"),Tt(f),Gt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ub(t,n){Xi.M(t,n);var r=ja;if(r&&t){var l=li(r).hoistableScripts,h=za(t),f=l.get(h);f||(f=r.querySelector(fo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&Ed(t,n),f=r.createElement("script"),Tt(f),Gt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u_(t,n,r,l){var h=(h=Ae.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ua(r.href),r=li(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ua(r.href);var f=li(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ho(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(t,r),f||cb(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=li(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ua(t){return'href="'+sn(t)+'"'}function ho(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function cb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",r),Tt(n),t.head.appendChild(n))}function za(t){return'[src="'+sn(t)+'"]'}function fo(t){return"script[async]"+t}function h_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,Tt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),gc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ua(r.href);var f=t.querySelector(ho(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;l=c_(r),(h=Mn.get(h))&&vd(l,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(T,I){y.onload=T,y.onerror=I}),Gt(f,"link",l),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=za(r.src),(h=t.querySelector(fo(f)))?(n.instance=h,Tt(h),h):(l=r,(h=Mn.get(f))&&(l=w({},r),Ed(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function f_(t,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function d_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function hb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ua(l.href),f=n.querySelector(ho(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,l=c_(l),(h=Mn.get(h))&&vd(l,h),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(T,I){y.onload=T,y.onerror=I}),Gt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function db(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*K1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(mb,t),vc=null,_c.call(t))}function mb(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var l=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,h),r.set(y,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var mo={$$typeof:he,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function pb(t,n,r,l,h,f,y,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p_(t,n,r,l,h,f,y,T,I,U,F,Y){return t=new pb(t,n,r,y,I,U,F,Y,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=Wh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},sf(f),t}function g_(t){return t?(t=ya,t):ya}function y_(t,n,r,l,h,f){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=Es(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ts(t,l,n),r!==null&&(cn(r,t,n),Fl(r,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function bd(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function v_(t){if(t.tag===13||t.tag===31){var n=Sr(t,67108864);n!==null&&cn(n,t,67108864),bd(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=En();n=hr(n);var r=Sr(t,n);r!==null&&cn(r,t,n),bd(t,n)}}var Tc=!0;function gb(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=2,Sd(t,n,r,l)}finally{te.p=f,G.T=h}}function yb(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=8,Sd(t,n,r,l)}finally{te.p=f,G.T=h}}function Sd(t,n,r,l){if(Tc){var h=Ad(l);if(h===null)ud(t,n,l,bc,r),b_(t,l);else if(vb(h,t,n,r,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<_b.indexOf(t)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ti(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var I=1<<31-dt(y);T.entanglements[1]|=I,y&=~I}Ei(f),(qe&6)===0&&(sc=Wt()+500,lo(0))}}break;case 31:case 13:T=Sr(f,2),T!==null&&cn(T,f,2),ac(),bd(f,2)}if(f=Ad(l),f===null&&ud(t,n,l,bc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else ud(t,n,l,null,r)}}function Ad(t){return t=Sn(t),wd(t)}var bc=null;function wd(t){if(bc=null,t=ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case gl:return 2;case yl:return 8;case rs:case Nh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var xd=!1,Os=null,Ms=null,Vs=null,po=new Map,go=new Map,ks=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function yo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function vb(t,n,r,l,h){switch(n){case"focusin":return Os=yo(Os,t,n,r,l,h),!0;case"dragenter":return Ms=yo(Ms,t,n,r,l,h),!0;case"mouseover":return Vs=yo(Vs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return po.set(f,yo(po.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,go.set(f,yo(go.get(f)||null,t,n,r,l,h)),!0}return!1}function S_(t){var n=ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Un(t.priority,function(){E_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Un(t.priority,function(){E_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ad(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Il=l,r.target.dispatchEvent(l),Il=null}else return n=bn(r),n!==null&&v_(n),t.blockedOn=r,!1;n.shift()}return!0}function A_(t,n,r){Sc(t)&&r.delete(n)}function Eb(){xd=!1,Os!==null&&Sc(Os)&&(Os=null),Ms!==null&&Sc(Ms)&&(Ms=null),Vs!==null&&Sc(Vs)&&(Vs=null),po.forEach(A_),go.forEach(A_)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Eb)))}var wc=null;function w_(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(wd(l||r)===null)continue;break}var f=bn(r);f!==null&&(t.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ba(t){function n(I){return Ac(I,t)}Os!==null&&Ac(Os,t),Ms!==null&&Ac(Ms,t),Vs!==null&&Ac(Vs,t),po.forEach(n),go.forEach(n);for(var r=0;r<ks.length;r++){var l=ks[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)S_(r),r.blockedOn===null&&ks.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],y=h[kt]||null;if(typeof f=="function")y||w_(r);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[kt]||null)T=y.formAction;else if(wd(h)!==null)continue}else T=y.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),w_(r)}}}function x_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(t){this._internalRoot=t}xc.prototype.render=Rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=En();y_(r,l,t,n,null,null)},xc.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),ac(),n[si]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ks.length&&n!==0&&n<ks[r].priority;r++);ks.splice(r,0,t),r===0&&S_(t)}};var R_=e.version;if(R_!=="19.2.3")throw Error(a(527,R_,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Pn=Rc.inject(Tb),Ut=Rc}catch{}}return vo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Vg,f=kg,y=Lg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=p_(t,1,!1,null,null,r,l,null,h,f,y,x_),t[si]=n.current,od(t),new Rd(n)},vo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Vg,y=kg,T=Lg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=p_(t,1,!0,n,r??null,l,h,I,f,y,T,x_),n.context=g_(null),r=n.current,l=En(),l=hr(l),h=Es(l),h.callback=null,Ts(r,h,l),r=l,n.current.lanes=r,ur(n,r),Ei(n),t[si]=n.current,od(t),new xc(n)},vo.version="19.2.3",vo}var P_;function Ob(){if(P_)return Nd.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nd.exports=Db(),Nd.exports}var Mb=Ob();const Vb=()=>{};var j_={};const mv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,H=_&63;g||(H=64,d||(V=64)),a.push(i[S],i[w],i[V],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||w==null)throw new Lb;const V=c<<2|p>>4;if(a.push(V),_!==64){const H=p<<4&240|_>>2;if(a.push(H),w!==64){const W=_<<6&192|w;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(s){const e=mv(s);return pv.encodeByteArray(e,!0)},Gc=function(s){return Pb(s).replace(/\./g,"")},gv=function(s){try{return pv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ub=()=>jb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Bb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&gv(s[1]);return e&&JSON.parse(e)},hh=()=>{try{return Vb()||Ub()||zb()||Bb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},yv=s=>hh()?.emulatorHosts?.[s],qb=s=>{const e=yv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},_v=()=>hh()?.config,vv=s=>hh()?.[`_${s}`];class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ev(s){return(await fetch(s,{credentials:"include"})).ok}function Gb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Ro={};function Fb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ro))Ro[e]?s.emulator.push(e):s.prod.push(e);return s}function Qb(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let U_=!1;function Tv(s,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Ro[s]===e||Ro[s]||U_)return;Ro[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Fb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function g(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{U_=!0,d()},V}function S(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=Qb(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),Z=i("learnmore"),J=document.getElementById(Z)||document.createElement("a"),le=i("preprendIcon"),me=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const he=V.element;p(he),S(J,Z);const ze=_();g(me,le),he.append(me,W,J,ze),document.body.appendChild(he)}c?(W.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Yb(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const nS="FirebaseError";class is extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=nS,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?iS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new is(o,p,a)}}function iS(s,e){return s.replace(sS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const sS=/\{\$([^}]+)}/g;function rS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Br(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(z_(c)&&z_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function z_(s){return s!==null&&typeof s=="object"}function Ho(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function To(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function bo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function aS(s,e){const i=new lS(s,e);return i.subscribe.bind(i)}class lS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");oS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Vd),o.error===void 0&&(o.error=Vd),o.complete===void 0&&(o.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vd(){}function nn(s){return s&&s._delegate?s._delegate:s}class qr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lr="[DEFAULT]";class uS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Hb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(s){return s===Lr?void 0:s}function hS(s){return s.instantiationMode==="EAGER"}class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const dS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},mS=De.INFO,pS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},gS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=pS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const yS=(s,e)=>e.some(i=>s instanceof i);let B_,q_;function _S(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bv=new WeakMap,Qd=new WeakMap,Sv=new WeakMap,kd=new WeakMap,Tm=new WeakMap;function ES(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Fs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&bv.set(i,s)}).catch(()=>{}),Tm.set(e,s),e}function TS(s){if(Qd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,e)}let Kd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Qd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Sv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bS(s){Kd=s(Kd)}function SS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ld(this),e,...i);return Sv.set(a,e.sort?e.sort():[e]),Fs(a)}:vS().includes(s)?function(...e){return s.apply(Ld(this),e),Fs(bv.get(this))}:function(...e){return Fs(s.apply(Ld(this),e))}}function AS(s){return typeof s=="function"?SS(s):(s instanceof IDBTransaction&&TS(s),yS(s,_S())?new Proxy(s,Kd):s)}function Fs(s){if(s instanceof IDBRequest)return ES(s);if(kd.has(s))return kd.get(s);const e=AS(s);return e!==s&&(kd.set(s,e),Tm.set(e,s)),e}const Ld=s=>Tm.get(s);function wS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Fs(d);return a&&d.addEventListener("upgradeneeded",g=>{a(Fs(d.result),g.oldVersion,g.newVersion,Fs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const xS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],Pd=new Map;function H_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=RS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||xS.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&g.done]))[0]};return Pd.set(e,c),c}bS(s=>({...s,get:(e,i,a)=>H_(e,i)||s.get(e,i,a),has:(e,i)=>!!H_(e,i)||s.has(e,i)}));class CS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function IS(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",G_="0.14.6";const Wi=new Em("@firebase/app"),NS="@firebase/app-compat",DS="@firebase/analytics-compat",OS="@firebase/analytics",MS="@firebase/app-check-compat",VS="@firebase/app-check",kS="@firebase/auth",LS="@firebase/auth-compat",PS="@firebase/database",jS="@firebase/data-connect",US="@firebase/database-compat",zS="@firebase/functions",BS="@firebase/functions-compat",qS="@firebase/installations",HS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",QS="@firebase/performance",KS="@firebase/performance-compat",YS="@firebase/remote-config",XS="@firebase/remote-config-compat",$S="@firebase/storage",JS="@firebase/storage-compat",ZS="@firebase/firestore",WS="@firebase/ai",eA="@firebase/firestore-compat",tA="firebase",nA="12.6.0";const Xd="[DEFAULT]",iA={[Yd]:"fire-core",[NS]:"fire-core-compat",[OS]:"fire-analytics",[DS]:"fire-analytics-compat",[VS]:"fire-app-check",[MS]:"fire-app-check-compat",[kS]:"fire-auth",[LS]:"fire-auth-compat",[PS]:"fire-rtdb",[jS]:"fire-data-connect",[US]:"fire-rtdb-compat",[zS]:"fire-fn",[BS]:"fire-fn-compat",[qS]:"fire-iid",[HS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[QS]:"fire-perf",[KS]:"fire-perf-compat",[YS]:"fire-rc",[XS]:"fire-rc-compat",[$S]:"fire-gcs",[JS]:"fire-gcs-compat",[ZS]:"fire-fst",[eA]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[tA]:"fire-js-all"};const Fc=new Map,sA=new Map,$d=new Map;function F_(s,e){try{s.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Za(s){const e=s.name;if($d.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,s);for(const i of Fc.values())F_(i,s);for(const i of sA.values())F_(i,s);return!0}function bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new qo("app","Firebase",rA);class aA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const ll=nA;function Av(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Xd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=_v()),!i)throw Qs.create("no-options");const c=Fc.get(o);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new fS(o);for(const g of $d.values())d.addComponent(g);const p=new aA(i,a,d);return Fc.set(o,p),p}function wv(s=Xd){const e=Fc.get(s);if(!e&&s===Xd&&_v())return Av();if(!e)throw Qs.create("no-app",{appName:s});return e}function Ks(s,e,i){let a=iA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Za(new qr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const lA="firebase-heartbeat-database",oA=1,Mo="firebase-heartbeat-store";let jd=null;function xv(){return jd||(jd=wS(lA,oA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Mo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),jd}async function uA(s){try{const i=(await xv()).transaction(Mo),a=await i.objectStore(Mo).get(Rv(s));return await i.done,a}catch(e){if(e instanceof is)Wi.warn(e.message);else{const i=Qs.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function Q_(s,e){try{const a=(await xv()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(e,Rv(s)),await a.done}catch(i){if(i instanceof is)Wi.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function Rv(s){return`${s.name}!${s.options.appId}`}const cA=1024,hA=30;class fA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hA){const o=pA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K_(),{heartbeatsToSend:i,unsentEntries:a}=dA(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function K_(){return new Date().toISOString().substring(0,10)}function dA(s,e=cA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Y_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Y_(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function pA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function gA(s){Za(new qr("platform-logger",e=>new CS(e),"PRIVATE")),Za(new qr("heartbeat",e=>new fA(e),"PRIVATE")),Ks(Yd,G_,s),Ks(Yd,G_,"esm2020"),Ks("fire-js","")}gA("");function Cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yA=Cv,Iv=new qo("auth","Firebase",Cv());const Qc=new Em("@firebase/auth");function _A(s,...e){Qc.logLevel<=De.WARN&&Qc.warn(`Auth (${ll}): ${s}`,...e)}function Vc(s,...e){Qc.logLevel<=De.ERROR&&Qc.error(`Auth (${ll}): ${s}`,...e)}function Zn(s,...e){throw Sm(s,...e)}function Si(s,...e){return Sm(s,...e)}function Nv(s,e,i){const a={...yA(),[e]:i};return new qo("auth","Firebase",a).create(e,{appName:s.name})}function Zi(s){return Nv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Iv.create(s,...e)}function pe(s,e,...i){if(!s)throw Sm(e,...i)}function $i(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Vc(e),new Error(e)}function es(s,e){s||$i(e)}function Jd(){return typeof self<"u"&&self.location?.href||""}function vA(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function EA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||$b()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Go{constructor(e,i){this.shortDelay=e,this.longDelay=i,es(i>e,"Short delay should be less than long delay!"),this.isMobile=Kb()||Jb()}get(){return EA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(s,e){es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Dv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AA=new Go(3e4,6e4);function ir(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function sr(s,e,i,a,o={}){return Ov(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ho({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return Xb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&al(s.emulatorConfig.host)&&(_.credentials="include"),Dv.fetch()(await Mv(s,s.config.apiHost,i,p),_)})}async function Ov(s,e,i){s._canInitEmulator=!1;const a={...bA,...e};try{const o=new xA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Cc(s,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Nv(s,S,_);Zn(s,S)}}catch(o){if(o instanceof is)throw o;Zn(s,"network-request-failed",{message:String(o)})}}async function Fo(s,e,i,a,o={}){const c=await sr(s,e,i,a,o);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Mv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Am(s.config,o):`${s.config.apiScheme}://${o}`;return SA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function wA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Si(this.auth,"network-request-failed")),AA.get())})}}function Cc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Si(s,e,a);return o.customData._tokenResponse=i,o}function $_(s){return s!==void 0&&s.enterprise!==void 0}class RA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return wA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CA(s,e){return sr(s,"GET","/v2/recaptchaConfig",ir(s,e))}async function IA(s,e){return sr(s,"POST","/v1/accounts:delete",e)}async function Kc(s,e){return sr(s,"POST","/v1/accounts:lookup",e)}function Co(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NA(s,e=!1){const i=nn(s),a=await i.getIdToken(e),o=wm(a);pe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Co(Ud(o.auth_time)),issuedAtTime:Co(Ud(o.iat)),expirationTime:Co(Ud(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function wm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=gv(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(s){const e=wm(s);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof is&&DA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function DA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const e=s.auth,i=await s.getIdToken(),a=await Vo(s,Kc(e,{idToken:i}));pe(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Vv(o.providerUserInfo):[],d=VA(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,_=p?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function MA(s){const e=nn(s);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Vv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kA(s,e){const i=await Ov(s,{},async()=>{const a=Ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Mv(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return s.emulatorConfig&&al(s.emulatorConfig.host)&&(g.credentials="include"),Dv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(s,e){return sr(s,"POST","/v2/accounts:revokeToken",ir(s,e))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=J_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await kA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ka;return a&&(pe(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(pe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Ps(s,e){pe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new OA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NA(this,e)}reload(){return MA(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Vo(this,IA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:H,providerData:W,stsTokenManager:Z}=i;pe(w&&Z,e,"internal-error");const J=Ka.fromJSON(this.name,Z);pe(typeof w=="string",e,"internal-error"),Ps(a,e.name),Ps(o,e.name),pe(typeof V=="boolean",e,"internal-error"),pe(typeof H=="boolean",e,"internal-error"),Ps(c,e.name),Ps(d,e.name),Ps(p,e.name),Ps(g,e.name),Ps(_,e.name),Ps(S,e.name);const le=new Xn({uid:w,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(le.providerData=W.map(me=>({...me}))),g&&(le._redirectEventId=g),le}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ka;o.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];pe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Vv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const g=new Xn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const Z_=new Map;function Ji(s){es(s instanceof Function,"Expected a class definition");let e=Z_.get(s);return e?(es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Z_.set(s,e),e)}class kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}kv.type="NONE";const W_=kv;function kc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ya{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Kc(this.auth,{idToken:e}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ya(Ji(W_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Ji(W_);const d=kc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const V=await Kc(e,{idToken:S}).catch(()=>{});if(!V)break;w=await Xn._fromGetAccountInfoResponse(e,V,S)}else w=Xn._fromJSON(e,S);_!==c&&(p=w),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ya(c,e,a):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,e,a))}}function e0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bv(e))return"Blackberry";if(qv(e))return"Webos";if(Pv(e))return"Safari";if((e.includes("chrome/")||jv(e))&&!e.includes("edge/"))return"Chrome";if(zv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Lv(s=Zt()){return/firefox\//i.test(s)}function Pv(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jv(s=Zt()){return/crios\//i.test(s)}function Uv(s=Zt()){return/iemobile/i.test(s)}function zv(s=Zt()){return/android/i.test(s)}function Bv(s=Zt()){return/blackberry/i.test(s)}function qv(s=Zt()){return/webos/i.test(s)}function xm(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function PA(s=Zt()){return xm(s)&&!!window.navigator?.standalone}function jA(){return Zb()&&document.documentMode===10}function Hv(s=Zt()){return xm(s)||zv(s)||qv(s)||Bv(s)||/windows phone/i.test(s)||Uv(s)}function Gv(s,e=[]){let i;switch(s){case"Browser":i=e0(Zt());break;case"Worker":i=`${e0(Zt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ll}/${a}`}class UA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zA(s,e={}){return sr(s,"GET","/v2/passwordPolicy",ir(s,e))}const BA=6;class qA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class HA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new UA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Kc(this,{idToken:e}),a=await Xn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Zi(this));const i=e?nn(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zA(this),i=new qA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ji(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_A(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kr(s){return nn(s)}class t0{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GA(s){fh=s}function Fv(s){return fh.loadJS(s)}function FA(){return fh.recaptchaEnterpriseScript}function QA(){return fh.gapiScript}function KA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class YA{constructor(){this.enterprise=new XA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class XA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const $A="recaptcha-enterprise",Qv="NO_RECAPTCHA";class JA{constructor(e){this.type=$A,this.auth=Kr(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{CA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new RA(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;$_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(Qv)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&$_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=FA();g.length!==0&&(g+=p),Fv(g).then(()=>{o(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function n0(s,e,i,a=!1,o=!1){const c=new JA(s);let d;if(o)d=Qv;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wd(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await n0(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await n0(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function ZA(s,e){const i=bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Br(c,e??{}))return o;Zn(o,"already-initialized")}return i.initialize({options:e})}function WA(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function ew(s,e,i){const a=Kr(s);pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Kv(e),{host:d,port:p}=tw(e),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pe(Br(_,a.config.emulator)&&Br(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,al(d)?(Ev(`${c}//${d}${g}`),Tv("Auth",!0)):nw()}function Kv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function tw(s){const e=Kv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:i0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:i0(d)}}}function i0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function nw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,i){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function iw(s,e){return sr(s,"POST","/v1/accounts:signUp",e)}async function sw(s,e){return Fo(s,"POST","/v1/accounts:signInWithPassword",ir(s,e))}async function rw(s,e){return Fo(s,"POST","/v1/accounts:signInWithEmailLink",ir(s,e))}async function aw(s,e){return Fo(s,"POST","/v1/accounts:signInWithEmailLink",ir(s,e))}class ko extends Rm{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new ko(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new ko(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,i,"signInWithPassword",sw);case"emailLink":return rw(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,a,"signUpPassword",iw);case"emailLink":return aw(e,{idToken:i,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xa(s,e){return Fo(s,"POST","/v1/accounts:signInWithIdp",ir(s,e))}const lw="http://localhost";class Hr extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Hr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Xa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Xa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Xa(e,i)}buildRequest(){const e={requestUri:lw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ho(i)}return e}}function ow(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uw(s){const e=To(bo(s)).link,i=e?To(bo(e)).deep_link_id:null,a=To(bo(s)).deep_link_id;return(a?To(bo(a)).link:null)||a||i||e||s}class Cm{constructor(e){const i=To(bo(e)),a=i.apiKey??null,o=i.oobCode??null,c=ow(i.mode??null);pe(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=uw(e);try{return new Cm(i)}catch{return null}}}class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,i){return ko._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Cm.parseLink(i);return pe(a,"argument-error"),ko._fromEmailAndCode(e,a.code,a.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qo extends Yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class js extends Qo{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Us extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Hr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Us.credential(i,a)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class zs extends Qo{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Bs extends Qo{constructor(){super("twitter.com")}static credential(e,i){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function cw(s,e){return Fo(s,"POST","/v1/accounts:signUp",ir(s,e))}class Gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Xn._fromIdTokenResponse(e,a,o),d=s0(a);return new Gr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=s0(a);return new Gr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function s0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends is{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Xc(e,i,a,o)}}function Xv(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,e,a):c})}async function hw(s,e,i=!1){const a=await Vo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Gr._forOperation(s,"link",a)}async function fw(s,e,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject(Zi(a));const o="reauthenticate";try{const c=await Vo(s,Xv(a,o,e,s),i);pe(c.idToken,a,"internal-error");const d=wm(c.idToken);pe(d,a,"internal-error");const{sub:p}=d;return pe(s.uid===p,a,"user-mismatch"),Gr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function $v(s,e,i=!1){if(Vn(s.app))return Promise.reject(Zi(s));const a="signIn",o=await Xv(s,a,e),c=await Gr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function dw(s,e){return $v(Kr(s),e)}async function Jv(s){const e=Kr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mw(s,e,i){if(Vn(s.app))return Promise.reject(Zi(s));const a=Kr(s),d=await Wd(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Jv(s),g}),p=await Gr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function pw(s,e,i){return Vn(s.app)?Promise.reject(Zi(s)):dw(nn(s),ol.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Jv(s),a})}function gw(s,e,i,a){return nn(s).onIdTokenChanged(e,i,a)}function yw(s,e,i){return nn(s).beforeAuthStateChanged(e,i)}function _w(s,e,i,a){return nn(s).onAuthStateChanged(e,i,a)}function vw(s){return nn(s).signOut()}const $c="__sak";class Zv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ew=1e3,Tw=10;class Wv extends Zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Tw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wv.type="LOCAL";const bw=Wv;class eE extends Zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}eE.type="SESSION";const tE=eE;function Sw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await Sw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Im(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Aw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=Im("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function ww(s){Ai().location.href=s}function nE(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function xw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rw(){return navigator?.serviceWorker?.controller||null}function Cw(){return nE()?self:null}const iE="firebaseLocalStorageDb",Iw=1,Jc="firebaseLocalStorage",sE="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,e){return s.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function Nw(){const s=indexedDB.deleteDatabase(iE);return new Ko(s).toPromise()}function em(){const s=indexedDB.open(iE,Iw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:sE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await Nw(),e(await em()))})})}async function r0(s,e,i){const a=mh(s,!0).put({[sE]:e,value:i});return new Ko(a).toPromise()}async function Dw(s,e){const i=mh(s,!1).get(e),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function a0(s,e){const i=mh(s,!0).delete(e);return new Ko(i).toPromise()}const Ow=800,Mw=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(Cw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xw(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await r0(e,$c,"1"),await a0(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>r0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Dw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>a0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=mh(o,!1).getAll();return new Ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const Vw=rE;new Go(3e4,6e4);function kw(s,e){return e?Ji(e):(pe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Nm extends Rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Xa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Lw(s){return $v(s.auth,new Nm(s),s.bypassAuthState)}function Pw(s){const{auth:e,user:i}=s;return pe(i,e,"internal-error"),fw(i,new Nm(s),s.bypassAuthState)}async function jw(s){const{auth:e,user:i}=s;return pe(i,e,"internal-error"),hw(i,new Nm(s),s.bypassAuthState)}class aE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return Pw;default:Zn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uw=new Go(2e3,1e4);class Qa extends aE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uw.get())};e()}}Qa.currentPopupAction=null;const zw="pendingRedirect",Lc=new Map;class Bw extends aE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(s,e){const i=Fw(e),a=Gw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Hw(s,e){Lc.set(s._key(),e)}function Gw(s){return Ji(s._redirectPersistence)}function Fw(s){return kc(zw,s.config.apiKey,s.name)}async function Qw(s,e,i=!1){if(Vn(s.app))return Promise.reject(Zi(s));const a=Kr(s),o=kw(a,e),d=await new Bw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Kw=600*1e3;class Yw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!lE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function lE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(s);default:return!1}}async function $w(s,e={}){return sr(s,"GET","/v1/projects",e)}const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function Ww(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $w(s);for(const i of e)try{if(e2(i))return}catch{}Zn(s,"unauthorized-domain")}function e2(s){const e=Jd(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if(Jw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const t2=new Go(3e4,6e4);function o0(){const s=Ai().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function n2(s){return new Promise((e,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Si(s,"network-request-failed"))},timeout:t2.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const o=KA("iframefcb");return Ai()[o]=()=>{gapi.load?a():i(Si(s,"network-request-failed"))},Fv(`${QA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function i2(s){return Pc=Pc||n2(s),Pc}const s2=new Go(5e3,15e3),r2="__/auth/iframe",a2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(s){const e=s.config;pe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Am(e,a2):`https://${s.config.authDomain}/${r2}`,a={apiKey:e.apiKey,appName:s.name,v:ll},o=o2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ho(a).slice(1)}`}async function c2(s){const e=await i2(s),i=Ai().gapi;return pe(i,s,"internal-error"),e.open({where:document.body,url:u2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Si(s,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},s2.get());function g(){Ai().clearTimeout(p),o(a)}a.ping(g).then(g,()=>{c(d)})}))}const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",p2="http://localhost";class u0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g2(s,e,i,a=f2,o=d2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...h2,width:a.toString(),height:o.toString(),top:c,left:d},_=Zt().toLowerCase();i&&(p=jv(_)?m2:i),Lv(_)&&(e=e||p2,g.scrollbars="yes");const S=Object.entries(g).reduce((V,[H,W])=>`${V}${H}=${W},`,"");if(PA(_)&&p!=="_self")return y2(e||"",p),new u0(null);const w=window.open(e||"",p,S);pe(w,s,"popup-blocked");try{w.focus()}catch{}return new u0(w)}function y2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function c0(s,e,i,a,o,c){pe(s.config.authDomain,s,"auth-domain-config-required"),pe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ll,eventId:o};if(e instanceof Yv){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",rS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof Qo){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const g=await s._getAppCheckToken(),_=g?`#${E2}=${encodeURIComponent(g)}`:"";return`${T2(s)}?${Ho(p).slice(1)}${_}`}function T2({config:s}){return s.emulator?Am(s,v2):`https://${s.authDomain}/${_2}`}const zd="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=Qw,this._overrideRedirectResult=Hw}async _openPopup(e,i,a,o){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c0(e,i,a,Jd(),o);return g2(e,c,Im())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await c0(e,i,a,Jd(),o);return ww(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await c2(e),a=new Yw(e);return i.register("authEvent",o=>(pe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Hv()||Pv()||xm()}}const S2=b2;var h0="@firebase/auth",f0="1.12.0";class A2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(s){Za(new qr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gv(s)},_=new HA(a,o,c,g);return WA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Za(new qr("auth-internal",e=>{const i=Kr(e.getProvider("auth").getImmediate());return(a=>new A2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(h0,f0,w2(s)),Ks(h0,f0,"esm2020")}const R2=300,C2=vv("authIdTokenMaxAge")||R2;let d0=null;const I2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>C2)return;const o=i?.token;d0!==o&&(d0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function N2(s=wv()){const e=bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=ZA(s,{popupRedirectResolver:S2,persistence:[Vw,bw,tE]}),a=vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=I2(c.toString());yw(i,d,()=>d(i.currentUser)),gw(i,p=>d(p))}}const o=yv("auth");return o&&ew(i,`http://${o}`),i}function D2(){return document.getElementsByTagName("head")?.[0]??document}GA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Si("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",D2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,oE;(function(){var s;function e(R,x){function A(){}A.prototype=x.prototype,R.F=x.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(M,D,L){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return x.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,A){A||(A=0);const M=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)M[D]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(D=0;D<16;++D)M[D]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=R.g[0],A=R.g[1],D=R.g[2];let L=R.g[3],C;C=x+(L^A&(D^L))+M[0]+3614090360&4294967295,x=A+(C<<7&4294967295|C>>>25),C=L+(D^x&(A^D))+M[1]+3905402710&4294967295,L=x+(C<<12&4294967295|C>>>20),C=D+(A^L&(x^A))+M[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(x^D&(L^x))+M[3]+3250441966&4294967295,A=D+(C<<22&4294967295|C>>>10),C=x+(L^A&(D^L))+M[4]+4118548399&4294967295,x=A+(C<<7&4294967295|C>>>25),C=L+(D^x&(A^D))+M[5]+1200080426&4294967295,L=x+(C<<12&4294967295|C>>>20),C=D+(A^L&(x^A))+M[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(x^D&(L^x))+M[7]+4249261313&4294967295,A=D+(C<<22&4294967295|C>>>10),C=x+(L^A&(D^L))+M[8]+1770035416&4294967295,x=A+(C<<7&4294967295|C>>>25),C=L+(D^x&(A^D))+M[9]+2336552879&4294967295,L=x+(C<<12&4294967295|C>>>20),C=D+(A^L&(x^A))+M[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(x^D&(L^x))+M[11]+2304563134&4294967295,A=D+(C<<22&4294967295|C>>>10),C=x+(L^A&(D^L))+M[12]+1804603682&4294967295,x=A+(C<<7&4294967295|C>>>25),C=L+(D^x&(A^D))+M[13]+4254626195&4294967295,L=x+(C<<12&4294967295|C>>>20),C=D+(A^L&(x^A))+M[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(x^D&(L^x))+M[15]+1236535329&4294967295,A=D+(C<<22&4294967295|C>>>10),C=x+(D^L&(A^D))+M[1]+4129170786&4294967295,x=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(x^A))+M[6]+3225465664&4294967295,L=x+(C<<9&4294967295|C>>>23),C=D+(x^A&(L^x))+M[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^x&(D^L))+M[0]+3921069994&4294967295,A=D+(C<<20&4294967295|C>>>12),C=x+(D^L&(A^D))+M[5]+3593408605&4294967295,x=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(x^A))+M[10]+38016083&4294967295,L=x+(C<<9&4294967295|C>>>23),C=D+(x^A&(L^x))+M[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^x&(D^L))+M[4]+3889429448&4294967295,A=D+(C<<20&4294967295|C>>>12),C=x+(D^L&(A^D))+M[9]+568446438&4294967295,x=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(x^A))+M[14]+3275163606&4294967295,L=x+(C<<9&4294967295|C>>>23),C=D+(x^A&(L^x))+M[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^x&(D^L))+M[8]+1163531501&4294967295,A=D+(C<<20&4294967295|C>>>12),C=x+(D^L&(A^D))+M[13]+2850285829&4294967295,x=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(x^A))+M[2]+4243563512&4294967295,L=x+(C<<9&4294967295|C>>>23),C=D+(x^A&(L^x))+M[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^x&(D^L))+M[12]+2368359562&4294967295,A=D+(C<<20&4294967295|C>>>12),C=x+(A^D^L)+M[5]+4294588738&4294967295,x=A+(C<<4&4294967295|C>>>28),C=L+(x^A^D)+M[8]+2272392833&4294967295,L=x+(C<<11&4294967295|C>>>21),C=D+(L^x^A)+M[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^x)+M[14]+4259657740&4294967295,A=D+(C<<23&4294967295|C>>>9),C=x+(A^D^L)+M[1]+2763975236&4294967295,x=A+(C<<4&4294967295|C>>>28),C=L+(x^A^D)+M[4]+1272893353&4294967295,L=x+(C<<11&4294967295|C>>>21),C=D+(L^x^A)+M[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^x)+M[10]+3200236656&4294967295,A=D+(C<<23&4294967295|C>>>9),C=x+(A^D^L)+M[13]+681279174&4294967295,x=A+(C<<4&4294967295|C>>>28),C=L+(x^A^D)+M[0]+3936430074&4294967295,L=x+(C<<11&4294967295|C>>>21),C=D+(L^x^A)+M[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^x)+M[6]+76029189&4294967295,A=D+(C<<23&4294967295|C>>>9),C=x+(A^D^L)+M[9]+3654602809&4294967295,x=A+(C<<4&4294967295|C>>>28),C=L+(x^A^D)+M[12]+3873151461&4294967295,L=x+(C<<11&4294967295|C>>>21),C=D+(L^x^A)+M[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^x)+M[2]+3299628645&4294967295,A=D+(C<<23&4294967295|C>>>9),C=x+(D^(A|~L))+M[0]+4096336452&4294967295,x=A+(C<<6&4294967295|C>>>26),C=L+(A^(x|~D))+M[7]+1126891415&4294967295,L=x+(C<<10&4294967295|C>>>22),C=D+(x^(L|~A))+M[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~x))+M[5]+4237533241&4294967295,A=D+(C<<21&4294967295|C>>>11),C=x+(D^(A|~L))+M[12]+1700485571&4294967295,x=A+(C<<6&4294967295|C>>>26),C=L+(A^(x|~D))+M[3]+2399980690&4294967295,L=x+(C<<10&4294967295|C>>>22),C=D+(x^(L|~A))+M[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~x))+M[1]+2240044497&4294967295,A=D+(C<<21&4294967295|C>>>11),C=x+(D^(A|~L))+M[8]+1873313359&4294967295,x=A+(C<<6&4294967295|C>>>26),C=L+(A^(x|~D))+M[15]+4264355552&4294967295,L=x+(C<<10&4294967295|C>>>22),C=D+(x^(L|~A))+M[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~x))+M[13]+1309151649&4294967295,A=D+(C<<21&4294967295|C>>>11),C=x+(D^(A|~L))+M[4]+4149444226&4294967295,x=A+(C<<6&4294967295|C>>>26),C=L+(A^(x|~D))+M[11]+3174756917&4294967295,L=x+(C<<10&4294967295|C>>>22),C=D+(x^(L|~A))+M[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~x))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}a.prototype.v=function(R,x){x===void 0&&(x=R.length);const A=x-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<x;){if(D==0)for(;L<=A;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<x;)if(M[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,M),D=0;break}}else for(;L<x;)if(M[D++]=R[L++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,A=0;A<4;++A)for(let M=0;M<32;M+=8)R[x++]=this.g[A]>>>M&255;return R};function c(R,x){var A=p;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=x(R)}function d(R,x){this.h=x;const A=[];let M=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;M&&L==x||(A[D]=L,M=!1)}this.g=A}var p={};function g(R){return-128<=R&&R<128?c(R,function(x){return new d([x|0],x<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return J(_(-R));const x=[];let A=1;for(let M=0;R>=A;M++)x[M]=R/A|0,A*=4294967296;return new d(x,0)}function S(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return J(S(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(x,8));let M=w;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+D),x);D<8?(D=_(Math.pow(x,D)),M=M.j(D).add(_(C))):(M=M.j(A),M=M.add(_(C)))}return M}var w=g(0),V=g(1),H=g(16777216);s=d.prototype,s.m=function(){if(Z(this))return-J(this).m();let R=0,x=1;for(let A=0;A<this.g.length;A++){const M=this.i(A);R+=(M>=0?M:4294967296+M)*x,x*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(Z(this))return"-"+J(this).toString(R);const x=_(Math.pow(R,6));var A=this;let M="";for(;;){const D=ze(A,x).g;A=le(A,D.j(x));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=D,W(A))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function Z(R){return R.h==-1}s.l=function(R){return R=le(this,R),Z(R)?-1:W(R)?0:1};function J(R){const x=R.g.length,A=[];for(let M=0;M<x;M++)A[M]=~R.g[M];return new d(A,~R.h).add(V)}s.abs=function(){return Z(this)?J(this):this},s.add=function(R){const x=Math.max(this.g.length,R.g.length),A=[];let M=0;for(let D=0;D<=x;D++){let L=M+(this.i(D)&65535)+(R.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=C>>>16,L&=65535,C&=65535,A[D]=C<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function le(R,x){return R.add(J(x))}s.j=function(R){if(W(this)||W(R))return w;if(Z(this))return Z(R)?J(this).j(J(R)):J(J(this).j(R));if(Z(R))return J(this.j(J(R)));if(this.l(H)<0&&R.l(H)<0)return _(this.m()*R.m());const x=this.g.length+R.g.length,A=[];for(var M=0;M<2*x;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const L=this.i(M)>>>16,C=this.i(M)&65535,et=R.i(D)>>>16,ft=R.i(D)&65535;A[2*M+2*D]+=C*ft,me(A,2*M+2*D),A[2*M+2*D+1]+=L*ft,me(A,2*M+2*D+1),A[2*M+2*D+1]+=C*et,me(A,2*M+2*D+1),A[2*M+2*D+2]+=L*et,me(A,2*M+2*D+2)}for(R=0;R<x;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=x;R<2*x;R++)A[R]=0;return new d(A,0)};function me(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function he(R,x){this.g=R,this.h=x}function ze(R,x){if(W(x))throw Error("division by zero");if(W(R))return new he(w,w);if(Z(R))return x=ze(J(R),x),new he(J(x.g),J(x.h));if(Z(x))return x=ze(R,J(x)),new he(J(x.g),x.h);if(R.g.length>30){if(Z(R)||Z(x))throw Error("slowDivide_ only works with positive integers.");for(var A=V,M=x;M.l(R)<=0;)A=He(A),M=He(M);var D=xe(A,1),L=xe(M,1);for(M=xe(M,2),A=xe(A,2);!W(M);){var C=L.add(M);C.l(R)<=0&&(D=D.add(A),L=C),M=xe(M,1),A=xe(A,1)}return x=le(R,D.j(x)),new he(D,x)}for(D=w;R.l(x)>=0;){for(A=Math.max(1,Math.floor(R.m()/x.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(A),C=L.j(x);Z(C)||C.l(R)>0;)A-=M,L=_(A),C=L.j(x);W(L)&&(L=V),D=D.add(L),R=le(R,C)}return new he(D,R)}s.B=function(R){return ze(this,R).h},s.and=function(R){const x=Math.max(this.g.length,R.g.length),A=[];for(let M=0;M<x;M++)A[M]=this.i(M)&R.i(M);return new d(A,this.h&R.h)},s.or=function(R){const x=Math.max(this.g.length,R.g.length),A=[];for(let M=0;M<x;M++)A[M]=this.i(M)|R.i(M);return new d(A,this.h|R.h)},s.xor=function(R){const x=Math.max(this.g.length,R.g.length),A=[];for(let M=0;M<x;M++)A[M]=this.i(M)^R.i(M);return new d(A,this.h^R.h)};function He(R){const x=R.g.length+1,A=[];for(let M=0;M<x;M++)A[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(A,R.h)}function xe(R,x){const A=x>>5;x%=32;const M=R.g.length-A,D=[];for(let L=0;L<M;L++)D[L]=x>0?R.i(L+A)>>>x|R.i(L+A+1)<<32-x:R.i(L+A);return new d(D,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Ys=d}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,So,cE,jc,tm,hE,fE,dE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break e;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,B){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return m.prototype[P].apply(b,ee)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=P[ee]}else u.push(P)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function le(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const b=he.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var he=new Z(()=>new ze,u=>u.reset());class ze{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let He,xe=!1,R=new me,x=()=>{const u=Promise.resolve(void 0);He=()=>{u.then(A)}};function A(){for(var u;u=le();){try{u.h.call(u.g)}catch(v){J(v)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function et(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(et,D),et.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++G,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ye(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Pe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,b,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ae(u,m,b,P);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,B,!!b,P),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(b,P,1),B&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,b){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return P}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),It={};function at(u,m,v,b,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)at(u,m[B],v,b,P);return null}return v=pl(v),u&&u[ft]?u.J(m,v,p(b)?!!b.capture:!1,P):rr(u,m,v,!1,b,P)}function rr(u,m,v,b,P,B){if(!m)throw Error("Invalid event type");const ee=p(P)?!!P.capture:!!P;let be=ar(u);if(be||(u[ke]=be=new se(u)),v=be.add(m,v,b,ee,B),v.proxy)return v;if(b=Zr(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(P=ee),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zr(){function u(v){return m.call(u.src,u.listener,v)}const m=dl;return u}function Wr(u,m,v,b,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Wr(u,m[B],v,b,P);else b=p(b)?!!b.capture:!!b,v=pl(v),u&&u[ft]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ae(m,v,b,P),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,b,P)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])_e(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Wn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ar(m))?(_e(v,u),v.h==0&&(v.src=null,m[ke]=null)):ue(u)}}}function Wn(u){return u in It?It[u]:It[u]="on"+u}function dl(u,m){if(u.da)u=!0;else{m=new et(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ea(u),u=v.call(b,m)}return u}function ar(u){return u=u[ke],u instanceof se?u:null}var ml="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(u){return typeof u=="function"?u:(u[ml]||(u[ml]=function(m){return u.handleEvent(m)}),u[ml])}function _t(){M.call(this),this.i=new se(this),this.M=this,this.G=null}w(_t,M),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(u,m,v,b){Wr(this,u,m,v,b)};function Nt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(b,u),ne(m,P)}P=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],P=ss(B,b,!0,m)&&P;if(B=m.g=u,P=ss(B,b,!0,m)&&P,P=ss(B,b,!1,m)&&P,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],P=ss(B,b,!1,m)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ue(v[b]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_t.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ss(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const be=ee.listener,mt=ee.ha||ee.src;ee.fa&&_e(u.i,ee),P=be.call(mt,b)!==!1&&P}}return P&&!b.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){M.call(this),this.h=u,this.g={}}w(lr,M);var gl=[];function yl(u){ye(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),yl(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Nh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){D.call(this,"d")}w(Ut,D);function Tn(){D.call(this,"c")}w(Tn,D);var dt={},iu=null;function ta(){return iu=iu||new _t}dt.Ia="serverreachability";function su(u){D.call(this,dt.Ia,u)}w(su,D);function ei(u){const m=ta();Nt(m,new su(m))}dt.STAT_EVENT="statevent";function or(u,m){D.call(this,dt.STAT_EVENT,u),this.stat=m}w(or,D);function vt(u){const m=ta();Nt(m,new or(m,u))}dt.Ja="timingevent";function ti(u,m){D.call(this,dt.Ja,u),this.size=m}w(ti,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,P,B){u.info(function(){if(u.g)if(B){var ee="",be=B.split("&");for(let Be=0;Be<be.length;Be++){var mt=be[Be].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const wn=lt.split("_");ee=wn.length>=2&&wn[1]=="type"?ee+(lt+"="+mt+"&"):ee+(lt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+ee})}function ru(u,m,v,b,P,B,ee){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+ee})}function ii(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return rs(B)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function hr(){}w(hr,tu),hr.prototype.g=function(){return new XMLHttpRequest},vl=new hr;function Di(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Un(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function si(u,m,v){u.M=1,u.A=fr(bt(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),ri(u),u.B=bt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new zn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Wt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(gl[0]=P.toString()),P=gl);for(let B=0;B<P.length;B++){const ee=at(v,P[B],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const be=Hn(this.g),mt=this.g.ya(),Be=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||be!=4||mt==7||(mt==8||Be<=0?ei(3):ei(2)),ai(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var B=b;break t}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,vt(12),fn(this),bn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=ou(this,v),lt==kt){be==4&&(this.m=4,vt(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,vt(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,lt,null),li(this,lt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vl(ee),ee.P=!0,vt(11))}}else ii(this.i,this.l,v,null),li(this,v);be==4&&fn(this),this.o&&!this.K&&(be==4?yu(this.j,this):(this.o=!1,ri(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),fn(this),bn(this)}}}catch{}};function Mh(u){if(!lu(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const b=m.length,P=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?kt:(v=Number(m.substring(v,b)),isNaN(v)?Et:(b+=1,b+v>m.length?kt:(m=m.slice(b,b+v),u.C=b+v,m)))}Un.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(ei(),vt(17)),fn(this),this.m=2,bn(this)):ia(this,this.T-u)};function bn(u){u.j.I==0||u.K||yu(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),ds(v);else break e;vr(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&ha(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Be=P[m];const lt=Be[0];if(!(lt<=v.K))if(v.K=lt,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const wn=Be[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const gi=Be[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Gn=Be[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(b=1.5*Gn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Fn=u.g;if(Fn){const Er=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var B=b.h;B.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bl(B,B.h),B.h=null))}if(b.G){const fa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(b.wa=fa,Qe(b.J,b.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ee=u;if(b.na=Eu(b,b.L?b.ba:null,b.W),ee.L){Sl(b.h,ee);var be=ee,mt=b.O;mt&&(be.H=mt),be.D&&(ai(be),ri(be)),b.g=ee}else pu(b);v.i.length>0&&mi(v)}else Be[0]!="stop"&&Be[0]!="close"||pi(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?pi(v,7):Ol(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}ei(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function El(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bl(u,m){u.g?u.g.add(m):u.h=m}function Sl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}El.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Al(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,B=null;b>=0?(P=u[v].substring(0,b),B=u[v].substring(b+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,wl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),as(this,m[4]),this.h=ci(m[5]||"",!0),wl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ra,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(dr(v,v.charAt(0)=="/"?xl:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",dr(v,hu)),u.join("")},dn.prototype.resolve=function(u){const m=bt(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)as(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let ee=0;ee<P.length;){const be=P[ee++];be=="."?b&&ee==P.length&&B.push(""):be==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ee==P.length&&B.push("")):(B.push(be),b=!0)}b=B.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?wl(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bt(u){return new dn(u)}function Lt(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wl(u,m,v){m instanceof os?(u.i=m,la(u.i,u.l)):(v||(m=dr(m,ls)),u.i=new os(m,u.l))}function Qe(u,m,v){u.i.set(m,v)}function fr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,cu=/[#\?:]/g,xl=/[#\?]/g,ls=/[#\?@]/g,hu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(u,m){rn(this),this.i=null,u=us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){rn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Rl(u,m){return rn(u),m=us(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Cl(u,m){rn(u);let v=[];if(typeof m=="string")Rl(u,m)&&(v=v.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=us(this,u),Rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Cl(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(us(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Di(v);v=Cl(this,v);for(let B=0;B<v.length;B++){let ee=P;v[B]!==""&&(ee+="="+Di(v[B])),u.push(ee)}}return this.i=u.join("&")};function du(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(fu(this,b),aa(this,P,v))},u)),u.j=m}function Bn(u,m){const v=new jn;if(d.Image){const b=new Image;b.onload=S(Sn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Sn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Sn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Sn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Il(u,m){const v=new jn,b=new AbortController,P=setTimeout(()=>{b.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(P),B.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function cs(){this.g=new eu}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,tu),hi.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(mr,_t),s=mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):qn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},s.Na=function(u){this.g&&(this.response=u,hs(this))},s.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return ye(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function pr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=An(v),typeof u=="string"?v!=null&&Di(v):Qe(u,m,v))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xe,_t);var fi=/^https?$/i,Nl=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){gr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Nl,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){gr(this,B)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Dl(u),Oi(u)}function Dl(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},s.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ee=String(u.D).match(uu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),b=!fi.test(ee?ee.toLowerCase():"")}v=b}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var P=Hn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Dl(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=au(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Pe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new El(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){vt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Eu(this,null,this.W),mi(this)};function Ol(u){if(ua(u),u.I==3){var m=u.V++,v=bt(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),_r(u,v),m=new Un(u,u.j,m),m.M=2,m.A=fr(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}vu(u)}function ds(u){u.g&&(Vl(u),u.g.cancel(),u.g=null)}function ua(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;He||x(),xe||(He(),xe=!0),R.add(m,u),u.D=0}}function ca(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Un(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,P,m),v=bt(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),_r(this,v),B&&(this.R?m="headers="+Di(An(B))+"&"+m:this.u&&pr(v,this.u,B)),bl(this.h,P),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(u?Ml(this,u):this.i.length==0||Tl(this.h)||Ml(this))};function Ml(u,m){var v;m?v=m.l:v=u.V++;const b=bt(u.J);Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"AID",u.K),_r(u,b),u.u&&u.o&&pr(b,u.u,u.o),v=new Un(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bl(u.h,v),si(v,b,m)}function _r(u,m){u.H&&ye(u.H,function(v,b){Qe(m,b,v)}),u.l&&ye({},function(v,b){Qe(m,b,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let be=-1;for(;;){const mt=["count="+v];be==-1?v>0?(be=P[0].g,mt.push("ofs="+be)):be=0:mt.push("ofs="+be);let Be=!0;for(let lt=0;lt<v;lt++){var B=P[lt].g;const wn=P[lt].map;if(B-=be,B<0)be=Math.max(0,P[lt].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var ee=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Gn]of ee){let Fn=Gn;p(Gn)&&(Fn=rs(Gn)),mt.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw mt.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{b&&b(wn)}}if(Be){ee=mt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;He||x(),xe||(He(),xe=!0),R.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ds(this),gu(this))};function Vl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bt(u.na);Qe(m,"RID","rpc"),Qe(m,"SID",u.M),Qe(m,"AID",u.K),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(m,"TO",u.ia),Qe(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fr(bt(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ds(this),vr(this),vt(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ha(u),Vl(u),u.g=null;var b=2}else if(ui(u.h,m))v=m.G,Sl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=ta(),Nt(b,new ti(b,v)),mi(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ca(u,m)||b==2&&vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const P=!b;b=new dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(b,"https"),fr(b),P?Bn(b.toString(),v):Il(b.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),vu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Al(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var b=v instanceof dn?bt(v):new dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),as(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new dn(null);b&&Lt(B,b),m&&(B.g=m),P&&as(B,P),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Qe(b,v,m),Qe(b,"VER",u.ka),_r(u,b),b}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new hi({ab:v})):new Xe(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_t.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ol(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rs(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,en.Z.N.call(this)};function Su(u){Ut.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Ut);function Au(){Tn.call(this),this.status=1}w(Au,Tn);function Vi(u){this.g=u}w(Vi,bu),Vi.prototype.ra=function(){Nt(this.g,"a")},Vi.prototype.qa=function(u){Nt(this.g,new Su(u))},Vi.prototype.pa=function(u){Nt(this.g,new Au)},Vi.prototype.oa=function(){Nt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,dE=function(){return new ms},fE=function(){return ta()},hE=dt,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,jc=cr,_l.COMPLETE="complete",cE=_l,nu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,So=nu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,uE=Xe}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",g0="4.9.3";let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let ul="12.7.0";const Fr=new Em("@firebase/firestore");function qa(){return Fr.logLevel}function ie(s,...e){if(Fr.logLevel<=De.DEBUG){const i=e.map(Dm);Fr.debug(`Firestore (${ul}): ${s}`,...i)}}function ts(s,...e){if(Fr.logLevel<=De.ERROR){const i=e.map(Dm);Fr.error(`Firestore (${ul}): ${s}`,...i)}}function Wa(s,...e){if(Fr.logLevel<=De.WARN){const i=e.map(Dm);Fr.warn(`Firestore (${ul}): ${s}`,...i)}}function Dm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ge(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,mE(s,a,i)}function mE(s,e,i){let a=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Fe(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||mE(e,o,a)}function Te(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class pE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new pE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class k2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new k2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const a=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function j2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=j2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Oe(s,e){return s<e?-1:s>e?1:0}function nm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Bd(o)===Bd(c)?Oe(o,c):Bd(o)?1:-1}return Oe(s.length,e.length)}const U2=55296,z2=57343;function Bd(s){const e=s.charCodeAt(0);return e>=U2&&e<=z2}function el(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const _0="__name__";class Ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ge(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Oe(e.length,i.length)}static compareSegments(e,i){const a=Ti.isNumericId(e),o=Ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class st extends Ti{construct(e,i,a){return new st(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ti{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return B2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Qt([_0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(st.fromString(e))}static fromName(e){return new fe(st.fromString(e).popFirst(5))}static empty(){return new fe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new st(e.slice()))}}function gE(s,e,i){if(!i)throw new oe($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function q2(s,e,i,a){if(e===!0&&a===!0)throw new oe($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function v0(s){if(!fe.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function E0(s){if(fe.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function yE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Mm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge(12329,{type:typeof s})}function Xs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(s);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ct(s,e){const i={typeString:s};return e&&(i.value=e),i}function Yo(s,e){if(!yE(s))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new oe($.INVALID_ARGUMENT,i);return!0}const T0=-62135596800,b0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*b0);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<T0)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new rt(0,0))}static max(){return new ve(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lo=-1;function H2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new Js(o,fe.empty(),e)}function G2(s){return new Js(s.readTime,s.key,Lo)}class Js{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(ve.min(),fe.empty(),Lo)}static max(){return new Js(ve.max(),fe.empty(),Lo)}}function F2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(s.documentKey,e.documentKey),i!==0?i:Oe(s.largestBatchId,e.largestBatchId))}const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Q2)throw s;ie("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(g=>a(g)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Y2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function hl(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Vm=-1;function gh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function X2(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const _E="";function $2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=S0(e)),e=J2(s.get(i),e);return S0(e)}function J2(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case _E:i+="";break;default:i+=c}}return i}function S0(s){return s+_E+""}function A0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Yr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function vE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Ft.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Ft.RED,this.left=o??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Ft(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Ft(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new $n([])}unionWith(e){let i=new Vt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new $n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EE("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const i=Z2.exec(s);if(Fe(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ws(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const TE="server_timestamp",bE="__type__",SE="__previous_value__",AE="__local_write_time__";function km(s){return(s?.mapValue?.fields||{})[bE]?.stringValue===TE}function yh(s){const e=s.mapValue.fields[SE];return km(e)?yh(e):e}function Po(s){const e=Zs(s.mapValue.fields[AE].timestampValue);return new rt(e.seconds,e.nanos)}class W2{constructor(e,i,a,o,c,d,p,g,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S}}const Wc="(default)";class jo{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}const wE="__type__",ex="__max__",Dc={mapValue:{}},xE="__vector__",eh="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?km(s)?4:nx(s)?9007199254740991:tx(s)?10:11:ge(28295,{value:s})}function Ii(s,e){if(s===e)return!0;const i=er(s);if(i!==er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Po(s).isEqual(Po(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),p=Zs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ws(o.bytesValue).isEqual(Ws(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),p=yt(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return el(s.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(A0(d)!==A0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ii(d[g],p[g])))return!1;return!0})(s,e);default:return ge(52216,{left:s})}}function Uo(s,e){return(s.values||[]).find((i=>Ii(i,e)))!==void 0}function tl(s,e){if(s===e)return 0;const i=er(s),a=er(e);if(i!==a)return Oe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Oe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=yt(c.integerValue||c.doubleValue),g=yt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return x0(s.timestampValue,e.timestampValue);case 4:return x0(Po(s),Po(e));case 5:return nm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ws(c),g=Ws(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const S=Oe(p[_],g[_]);if(S!==0)return S}return Oe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Oe(yt(c.latitude),yt(d.latitude));return p!==0?p:Oe(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return R0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[eh]?.arrayValue,S=g[eh]?.arrayValue,w=Oe(_?.values?.length||0,S?.values?.length||0);return w!==0?w:R0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let w=0;w<g.length&&w<S.length;++w){const V=nm(g[w],S[w]);if(V!==0)return V;const H=tl(p[g[w]],_[S[w]]);if(H!==0)return H}return Oe(g.length,S.length)})(s.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function x0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Oe(s,e);const i=Zs(s),a=Zs(e),o=Oe(i.seconds,a.seconds);return o!==0?o:Oe(i.nanos,a.nanos)}function R0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=tl(i[o],a[o]);if(c)return c}return Oe(i.length,a.length)}function nl(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return fe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=im(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${im(i.fields[d])}`;return o+"}"})(s.mapValue):ge(61005,{value:s})}function Uc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Yr(a.fields,((c,d)=>{o+=c.length+Uc(d)})),o})(s.mapValue);default:throw ge(13486,{value:s})}}function sm(s){return!!s&&"integerValue"in s}function Lm(s){return!!s&&"arrayValue"in s}function C0(s){return!!s&&"nullValue"in s}function I0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function tx(s){return(s?.mapValue?.fields||{})[wE]?.stringValue===xE}function Io(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Yr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Io(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Io(s.arrayValue.values[i]);return e}return{...s}}function nx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ex}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Io(i)}setAll(e){let i=Qt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Io(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Yr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new kn(Io(this.value))}}function RE(s){const e=[];return Yr(s.fields,((i,a)=>{const o=new Qt([i]);if(zc(a)){const c=RE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new $n(e)}class Jt{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,ve.min(),ve.min(),ve.min(),kn.empty(),0)}static newFoundDocument(e,i,a,o){return new Jt(e,1,i,ve.min(),a,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,ve.min(),ve.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,ve.min(),ve.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function N0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=fe.comparator(fe.fromName(d.referenceValue),i.key):a=tl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function D0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],e.position[i]))return!1;return!0}class nh{constructor(e,i="asc"){this.field=e,this.dir=i}}function ix(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class CE{}class Ot extends CE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new rx(e,i,a):i==="array-contains"?new ox(e,a):i==="in"?new ux(e,a):i==="not-in"?new cx(e,a):i==="array-contains-any"?new hx(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new ax(e,a):new lx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends CE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ni(e,i)}matches(e){return IE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(s){return s.op==="and"}function NE(s){return sx(s)&&IE(s)}function sx(s){for(const e of s.filters)if(e instanceof Ni)return!1;return!0}function rm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+nl(s.value);if(NE(s))return s.filters.map((e=>rm(e))).join(",");{const e=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${e})`}}function DE(s,e){return s instanceof Ot?(function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&Ii(a.value,o.value)})(s,e):s instanceof Ni?(function(a,o){return o instanceof Ni&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&DE(d,o.filters[p])),!0):!1})(s,e):void ge(19439)}function OE(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${nl(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(OE).join(" ,")+"}"})(s):"Filter"}class rx extends Ot{constructor(e,i,a){super(e,i,a),this.key=fe.fromName(a.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class ax extends Ot{constructor(e,i){super(e,"in",i),this.keys=ME("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class lx extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=ME("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ME(s,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class ox extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&Uo(i.arrayValue,this.value)}}class ux extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class cx extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class hx extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Uo(this.value.arrayValue,a)))}}class fx{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function O0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new fx(s,e,i,a,o,c,d)}function Pm(s){const e=Te(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>nl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>nl(a))).join(",")),e.Te=i}return e.Te}function jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ix(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!DE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!D0(s.startAt,e.startAt)&&D0(s.endAt,e.endAt)}function am(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dx(s,e,i,a,o,c,d,p){return new _h(s,e,i,a,o,c,d,p)}function Um(s){return new _h(s)}function M0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mx(s){return s.collectionGroup!==null}function No(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Qt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new nh(Qt.keyField(),a))}return e.Ie}function wi(s){const e=Te(s);return e.Ee||(e.Ee=px(e,No(s))),e.Ee}function px(s,e){if(s.limitType==="F")return O0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return O0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function lm(s,e,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vh(s,e){return jm(wi(s),wi(e))&&s.limitType===e.limitType}function VE(s){return`${Pm(wi(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>OE(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>nl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>nl(o))).join(",")),`Target(${a})`})(wi(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):fe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of No(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,g){const _=N0(d,p,g);return d.inclusive?_<=0:_<0})(a.startAt,No(a),o)||a.endAt&&!(function(d,p,g){const _=N0(d,p,g);return d.inclusive?_>=0:_>0})(a.endAt,No(a),o))})(s,e)}function gx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kE(s){return(e,i)=>{let a=!1;for(const o of No(s)){const c=yx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function yx(s,e,i){const a=s.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?tl(g,_):ge(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ge(19790,{direction:s.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}const _x=new ut(fe.comparator);function ns(){return _x}const LE=new ut(fe.comparator);function Ao(...s){let e=LE;for(const i of s)e=e.insert(i.key,i);return e}function PE(s){let e=LE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Pr(){return Do()}function jE(){return Do()}function Do(){return new Xr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const vx=new ut(fe.comparator),Ex=new Vt(fe.comparator);function Me(...s){let e=Ex;for(const i of s)e=e.add(i);return e}const Tx=new Vt(Oe);function bx(){return Tx}function zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function UE(s){return{integerValue:""+s}}function Sx(s,e){return X2(e)?UE(e):zm(s,e)}class Th{constructor(){this._=void 0}}function Ax(s,e,i){return s instanceof ih?(function(o,c){const d={fields:{[bE]:{stringValue:TE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&km(c)&&(c=yh(c)),c&&(d.fields[SE]=c),{mapValue:d}})(i,e):s instanceof zo?BE(s,e):s instanceof Bo?qE(s,e):(function(o,c){const d=zE(o,c),p=V0(d)+V0(o.Ae);return sm(d)&&sm(o.Ae)?UE(p):zm(o.serializer,p)})(s,e)}function wx(s,e,i){return s instanceof zo?BE(s,e):s instanceof Bo?qE(s,e):i}function zE(s,e){return s instanceof sh?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ih extends Th{}class zo extends Th{constructor(e){super(),this.elements=e}}function BE(s,e){const i=HE(e);for(const a of s.elements)i.some((o=>Ii(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Bo extends Th{constructor(e){super(),this.elements=e}}function qE(s,e){let i=HE(e);for(const a of s.elements)i=i.filter((o=>!Ii(o,a)));return{arrayValue:{values:i}}}class sh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function V0(s){return yt(s.integerValue||s.doubleValue)}function HE(s){return Lm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function xx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof zo&&o instanceof zo||a instanceof Bo&&o instanceof Bo?el(a.elements,o.elements,Ii):a instanceof sh&&o instanceof sh?Ii(a.Ae,o.Ae):a instanceof ih&&o instanceof ih})(s.transform,e.transform)}class Rx{constructor(e,i){this.version=e,this.transformResults=i}}class Jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class bh{}function GE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Bm(s.key,Jn.none()):new Xo(s.key,s.data,Jn.none());{const i=s.data,a=kn.empty();let o=new Vt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new $r(s.key,a,new $n(o.toArray()),Jn.none())}}function Cx(s,e,i){s instanceof Xo?(function(o,c,d){const p=o.value.clone(),g=L0(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof $r?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=L0(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(FE(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,a){return s instanceof Xo?(function(c,d,p,g){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),S=P0(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof $r?(function(c,d,p,g){if(!Bc(c.precondition,d))return p;const _=P0(c.fieldTransforms,g,d),S=d.data;return S.setAll(FE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Ix(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=zE(a.transform,o||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function k0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&el(a,o,((c,d)=>xx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xo extends bh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends bh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function L0(s,e,i){const a=new Map;Fe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,wx(d,p,i[o]))}return a}function P0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Ax(c,d,e))}return a}class Bm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Cx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=jE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const g=GE(d,p);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(ve.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Me())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((i,a)=>k0(i,a)))&&el(this.baseMutations,e.baseMutations,((i,a)=>k0(i,a)))}}class qm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Fe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return vx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new qm(e,i,a,o)}}class Ox{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Rt,Le;function Vx(s){switch(s){case $.OK:return ge(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ge(15467,{code:s})}}function QE(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Rt.OK:return $.OK;case Rt.CANCELLED:return $.CANCELLED;case Rt.UNKNOWN:return $.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return $.INTERNAL;case Rt.UNAVAILABLE:return $.UNAVAILABLE;case Rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Rt.NOT_FOUND:return $.NOT_FOUND;case Rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Rt.ABORTED:return $.ABORTED;case Rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Rt.DATA_LOSS:return $.DATA_LOSS;default:return ge(39323,{code:s})}}(Le=Rt||(Rt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function kx(){return new TextEncoder}const Lx=new Ys([4294967295,4294967295],0);function j0(s){const e=kx().encode(s),i=new oE;return i.update(e),new Uint8Array(i.digest())}function U0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ys([i,a],0),new Ys([o,c],0)]}class Hm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wo(`Invalid padding: ${i}`);if(a<0)throw new wo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new wo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ys.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Ys.fromNumber(a)));return o.compare(Lx)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=j0(e),[a,o]=U0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Hm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=j0(e),[a,o]=U0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(ve.min(),o,new ut(Oe),ns(),Me())}}class $o{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new $o(a,i,Me(),Me(),Me())}}class qc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class KE{constructor(e,i){this.targetId=e,this.Ce=i}}class YE{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class z0{constructor(){this.ve=0,this.Fe=B0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),i=Me(),a=Me();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ge(38017,{changeType:c})}})),new $o(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=B0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Px{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=Oc(),this.He=Oc(),this.Ye=new ut(Oe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(am(c))if(a===0){const d=new fe(c.path);this.et(i,d,Jt.newNoDocument(d,ve.min()))}else Fe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ws(a).toUint8Array()}catch(g){if(g instanceof EE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Hm(d,o,c)}catch(g){return Wa(g instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const g=new fe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Jt.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Me();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Sh(e,i,this.Ye,this.je,a);return this.je=ns(),this.Je=Oc(),this.He=Oc(),this.Ye=new ut(Oe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new z0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(Oe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(Oe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ie("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new ut(fe.comparator)}function B0(){return new ut(fe.comparator)}const jx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Bx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function om(s,e){return s.useProto3Json||gh(e)?e:{value:e}}function rh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function qx(s,e){return rh(s,e.toTimestamp())}function xi(s){return Fe(!!s,49232),ve.fromTimestamp((function(i){const a=Zs(i);return new rt(a.seconds,a.nanos)})(s))}function Gm(s,e){return um(s,e).canonicalString()}function um(s,e){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function $E(s){const e=st.fromString(s);return Fe(tT(e),10190,{key:e.toString()}),e}function cm(s,e){return Gm(s.databaseId,e.path)}function qd(s,e){const i=$E(e);if(i.get(1)!==s.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new fe(ZE(i))}function JE(s,e){return Gm(s.databaseId,e)}function Hx(s){const e=$E(s);return e.length===4?st.emptyPath():ZE(e)}function hm(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ZE(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function q0(s,e,i){return{name:cm(s,e),fields:i.value.mapValue.fields}}function Gx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Fe(S===void 0||typeof S=="string",58123),Kt.fromBase64String(S||"")):(Fe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Kt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:QE(_.code);return new oe(S,_.message||"")})(d);i=new YE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qd(s,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):ve.min(),p=new kn({mapValue:{fields:a.document.fields}}),g=Jt.newFoundDocument(o,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new qc(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qd(s,a.document),c=a.readTime?xi(a.readTime):ve.min(),d=Jt.newNoDocument(o,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Mx(o,c),p=a.targetId;i=new KE(p,d)}}return i}function Fx(s,e){let i;if(e instanceof Xo)i={update:q0(s,e.key,e.value)};else if(e instanceof Bm)i={delete:cm(s,e.key)};else if(e instanceof $r)i={update:q0(s,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof Nx))return ge(16599,{Vt:e.type});i={verify:cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:qx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(s,e.precondition)),i}function Qx(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?xi(o.updateTime):xi(c);return d.isEqual(ve.min())&&(d=xi(c)),new Rx(d,o.transformResults||[])})(i,e)))):[]}function Kx(s,e){return{documents:[JE(s,e.path)]}}function Yx(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=JE(s,o);const c=(function(_){if(_.length!==0)return eT(Ni.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(V){return{field:Ga(V.field),direction:Jx(V.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Xx(s){let e=Hx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const V=WE(w);return V instanceof Ni&&NE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(W){return new nh(Fa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,gh(V)?null:V})(i.limit));let g=null;i.startAt&&(g=(function(w){const V=!!w.before,H=w.values||[];return new th(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const V=!w.before,H=w.values||[];return new th(H,V)})(i.endAt)),dx(e,o,d,c,p,"F",g,_)}function $x(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(Fa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>WE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(s):ge(30097,{filter:s})}function Jx(s){return jx[s]}function Zx(s){return Ux[s]}function Wx(s){return zx[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Qt.fromServerFormat(s.fieldPath)}function eT(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(I0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(C0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(I0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(C0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:Zx(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const a=i.getFilters().map((o=>eT(o)));return a.length===1?a[0]:{compositeFilter:{op:Wx(i.op),filters:a}}})(s):ge(54877,{filter:s})}function eR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function tT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Gs{constructor(e,i,a,o,c=ve.min(),d=ve.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tR{constructor(e){this.yt=e}}function nR(s){const e=Xx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(e,e.limit,"L"):e}class iR{constructor(){this.Cn=new sR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Js.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class sR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Vt(st.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(nT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const G0="LruGarbageCollector",rR=1048576;function F0([s,e],[i,a]){const o=Oe(s,i);return o===0?Oe(e,a):o}class aR{constructor(e){this.Ir=e,this.buffer=new Vt(F0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();F0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(G0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){hl(i)?ie(G0,"Ignoring IndexedDB error during garbage collection: ",i):await cl(i)}await this.Vr(3e5)}))}}class oR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ph.ce);const a=new aR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(H0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),qa()<=De.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function uR(s,e){return new oR(s,e)}class cR{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class fR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Oo(a.mutation,o,$n.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Me()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Me()){const o=Pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Ao();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Pr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Me())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=ns();const d=Do(),p=(function(){return Do()})();return i.forEach(((g,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof $r)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Oo(S.mutation,_,S.mutation.getFieldMask(),rt.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new hR(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Do();let o=new ut(((d,p)=>d-p)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||$n.empty();S=p.applyToLocalView(_,S),a.set(g,S);const w=(o.get(p.batchId)||Me()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,S=g.value,w=jE();S.forEach((V=>{if(!c.has(V)){const H=GE(i.get(V),a.get(V));H!==null&&w.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(Pr());let p=Lo,g=c;return d.next((_=>X.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((V=>{g=g.insert(S,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Me()))).next((S=>({batchId:p,changes:PE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((a=>{let o=Ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(g=>{const _=(function(w,V){return new _h(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Jt.newInvalidDocument(S)))}));let p=Ao();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&Oo(S.mutation,_,$n.empty(),rt.now()),Eh(i,_)&&(p=p.insert(g,_))})),p}))}}class dR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nR(o.bundledQuery),readTime:xi(o.readTime)}})(i)),X.resolve()}}class mR{constructor(){this.overlays=new ut(fe.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Pr();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=Pr(),c=i.length+1,d=new fe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ut(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Pr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Pr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ox(i,a));let c=this.qr.get(i);c===void 0&&(c=Me(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class pR{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Fm{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new jt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new jt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new fe(new st([])),a=new jt(i,e),o=new jt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new st([])),a=new jt(i,e),o=new jt(i,e+1);let c=Me();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new jt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||Oe(e.Yr,i.Yr)}static Kr(e,i){return Oe(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class gR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Dx(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new jt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Vt(Oe);return i.forEach((o=>{const c=new jt(o,0),d=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;fe.isDocumentKey(c)||(c=c.child(""));const d=new jt(new fe(c),0);let p=new Vt(Oe);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Fe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new jt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new jt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yR{constructor(e){this.ri=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let a=ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ns();const d=i.path,p=new fe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||F2(G2(S),a)<=0||(o.has(S.key)||Eh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ge(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new _R(this)}getSize(e){return X.resolve(this.size)}}class _R extends cR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class vR{constructor(e){this.persistence=e,this.si=new Xr((i=>Pm(i)),jm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new il(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class iT{constructor(e,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new pR,this.referenceDelegate=e(this),this.Pi=new vR(this),this.indexManager=new iR,this.remoteDocumentCache=(function(o){return new yR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new tR(i),this.Ii=new dR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new gR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ie("MemoryPersistence","Starting transaction:",e);const o=new ER(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class ER extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Ri=new Fm,this.Vi=null}static mi(e){return new Qm(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=fe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ah{constructor(e,i){this.persistence=e,this.pi=new Xr((a=>$2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=uR(this,i)}static mi(e,i){return new ah(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Me(),o=Me();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Km(e,i.fromCache,a,o)}}class TR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wb()?8:Y2(Zt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(qa()<=De.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qa()<=De.DEBUG&&ie("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(qa()<=De.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(i))):X.resolve())}ys(e,i){if(M0(i))return X.resolve(null);let a=wi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Me(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(e,lm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,a,o){return M0(i)||o.isEqual(ve.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(qa()<=De.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(i)),this.vs(e,d,i,H2(o,Lo)).next((p=>p)))}))}Ds(e,i){let a=new Vt(kE(e));return i.forEach(((o,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return qa()<=De.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(e,i,Js.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",SR=3e8;class AR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ut(Oe),this.xs=new Xr((c=>Pm(c)),jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function wR(s,e,i,a){return new AR(s,e,i,a)}async function sT(s,e){const i=Te(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let g=Me();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function xR(s,e){const i=Te(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,S){const w=_.batch,V=w.keys();let H=X.resolve();return V.forEach((W=>{H=H.next((()=>S.getEntry(g,W))).next((Z=>{const J=_.docVersions.get(W);Fe(J!==null,48541),Z.version.compareTo(J)<0&&(w.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),S.addEntry(Z)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=Me();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function rT(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function RR(s,e){const i=Te(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((S,w)=>{const V=o.get(w);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let H=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(Kt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),o=o.insert(w,H),(function(Z,J,le){return Z.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=SR?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(V,H,S)&&p.push(i.Pi.updateTargetData(c,H))}));let g=ns(),_=Me();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(CR(c,d,e.documentUpdates).next((S=>{g=S.ks,_=S.qs}))),!a.isEqual(ve.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function CR(s,e,i){let a=Me(),o=Me();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ns();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ie(Ym,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function IR(s,e){const i=Te(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function NR(s,e){const i=Te(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Gs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fm(s,e,i){const a=Te(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!hl(d))throw d;ie(Ym,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Q0(s,e,i){const a=Te(s);let o=ve.min(),c=Me();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const w=Te(g),V=w.xs.get(S);return V!==void 0?X.resolve(w.Ms.get(V)):w.Pi.getTargetData(_,S)})(a,d,wi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:ve.min(),i?c:Me()))).next((p=>(DR(a,gx(e),p),{documents:p,Qs:c})))))}function DR(s,e,i){let a=s.Os.get(e)||ve.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class K0{constructor(){this.activeTargetIds=bx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OR{constructor(){this.Mo=new K0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MR{Oo(e){}shutdown(){}}const Y0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(Y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(Y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function dm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Hd="RestConnection",VR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=dm(),p=this.zo(e,i.toUriEncodedString());ie(Hd,`Sending RPC '${e}' ${d}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:_}=new URL(p),S=al(_);return this.Jo(e,p,g,a,S).then((w=>(ie(Hd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Wa(Hd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=VR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class LR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class PR extends kR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=dm();return new Promise(((p,g)=>{const _=new uE;_.setWithCredentials(!0),_.listenOnce(cE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const w=_.getResponseJson();ie(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case jc.TIMEOUT:ie(Xt,`RPC '${e}' ${d} timed out`),g(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const V=_.getStatus();if(ie(Xt,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const Z=(function(le){const me=le.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(me)>=0?me:$.UNKNOWN})(W.status);g(new oe(Z,W.message))}else g(new oe($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new oe($.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ie(Xt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ie(Xt,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=dE(),p=fE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const S=c.join("");ie(Xt,`Creating RPC '${e}' stream ${o}: ${S}`,g);const w=d.createWebChannel(S,g);this.I_(w);let V=!1,H=!1;const W=new LR({Yo:J=>{H?ie(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(V||(ie(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),V=!0),ie(Xt,`RPC '${e}' stream ${o} sending:`,J),w.send(J))},Zo:()=>w.close()}),Z=(J,le,me)=>{J.listen(le,(he=>{try{me(he)}catch(ze){setTimeout((()=>{throw ze}),0)}}))};return Z(w,So.EventType.OPEN,(()=>{H||(ie(Xt,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),Z(w,So.EventType.CLOSE,(()=>{H||(H=!0,ie(Xt,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(w))})),Z(w,So.EventType.ERROR,(J=>{H||(H=!0,Wa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),Z(w,So.EventType.MESSAGE,(J=>{if(!H){const le=J.data[0];Fe(!!le,16349);const me=le,he=me?.error||me[0]?.error;if(he){ie(Xt,`RPC '${e}' stream ${o} received error:`,he);const ze=he.status;let He=(function(x){const A=Rt[x];if(A!==void 0)return QE(A)})(ze),xe=he.message;He===void 0&&(He=$.INTERNAL,xe="Unknown error status: "+ze+" with message "+he.message),H=!0,W.a_(new oe(He,xe)),w.close()}else ie(Xt,`RPC '${e}' stream ${o} received:`,le),W.u_(le)}})),Z(p,hE.STAT_EVENT,(J=>{J.stat===tm.PROXY?ie(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&ie(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Gd(){return typeof document<"u"?document:null}function Ah(s){return new Bx(s,!0)}class aT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $0="PersistentStream";class lT{constructor(e,i,a,o,c,d,p,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ie($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jR extends lT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Gx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?xi(d.readTime):ve.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=am(g)?{documents:Kx(c,g)}:{query:Yx(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XE(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(ve.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=$x(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.q_(i)}}class UR extends lT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Qx(e.writeResults,e.commitTime),a=xi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Fx(this.serializer,a)))};this.q_(i)}}class zR{}class BR extends zR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,um(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):ie("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class HR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Jr(this)&&(ie(Qr,"Restarting streams for network reachability change."),await(async function(g){const _=Te(g);_.Ea.add(4),await Jo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new qR(a,o)}}async function wh(s){if(Jr(s))for(const e of s.da)await e(!0)}async function Jo(s){for(const e of s.da)await e(!1)}function oT(s,e){const i=Te(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zm(i)?Jm(i):fl(i).O_()&&$m(i,e))}function Xm(s,e){const i=Te(s),a=fl(i);i.Ia.delete(e),a.O_()&&uT(i,e),i.Ia.size===0&&(a.O_()?a.L_():Jr(i)&&i.Ra.set("Unknown"))}function $m(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}fl(s).Y_(e)}function uT(s,e){s.Va.Ue(e),fl(s).Z_(e)}function Jm(s){s.Va=new Px({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),fl(s).start(),s.Ra.ua()}function Zm(s){return Jr(s)&&!fl(s).x_()&&s.Ia.size>0}function Jr(s){return Te(s).Ea.size===0}function cT(s){s.Va=void 0}async function GR(s){s.Ra.set("Online")}async function FR(s){s.Ia.forEach(((e,i)=>{$m(s,e)}))}async function QR(s,e){cT(s),Zm(s)?(s.Ra.ha(e),Jm(s)):s.Ra.set("Unknown")}async function KR(s,e,i){if(s.Ra.set("Online"),e instanceof YE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){ie(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await lh(s,a)}else if(e instanceof qc?s.Va.Ze(e):e instanceof KE?s.Va.st(e):s.Va.tt(e),!i.isEqual(ve.min()))try{const a=await rT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(Kt.EMPTY_BYTE_STRING,S.snapshotVersion)),uT(c,g);const w=new Gs(S.target,g,_,S.sequenceNumber);$m(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ie(Qr,"Failed to raise snapshot:",a),await lh(s,a)}}async function lh(s,e,i){if(!hl(e))throw e;s.Ea.add(1),await Jo(s),s.Ra.set("Offline"),i||(i=()=>rT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ie(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function hT(s,e){return e().catch((i=>lh(s,i,e)))}async function xh(s){const e=Te(s),i=tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vm;for(;YR(e);)try{const o=await IR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,XR(e,o)}catch(o){await lh(e,o)}fT(e)&&dT(e)}function YR(s){return Jr(s)&&s.Ta.length<10}function XR(s,e){s.Ta.push(e);const i=tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function fT(s){return Jr(s)&&!tr(s).x_()&&s.Ta.length>0}function dT(s){tr(s).start()}async function $R(s){tr(s).ra()}async function JR(s){const e=tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function ZR(s,e,i){const a=s.Ta.shift(),o=qm.from(a,e,i);await hT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xh(s)}async function WR(s,e){e&&tr(s).X_&&await(async function(a,o){if((function(d){return Vx(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();tr(a).B_(),await hT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(s,e),fT(s)&&dT(s)}async function J0(s,e){const i=Te(s);i.asyncQueue.verifyOperationInProgress(),ie(Qr,"RemoteStore received new credentials");const a=Jr(i);i.Ea.add(3),await Jo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function eC(s,e){const i=Te(s);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Jo(i),i.Ra.set("Unknown"))}function fl(s){return s.ma||(s.ma=(function(i,a,o){const c=Te(i);return c.sa(),new jR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:GR.bind(null,s),t_:FR.bind(null,s),r_:QR.bind(null,s),H_:KR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Zm(s)?Jm(s):s.Ra.set("Unknown")):(await s.ma.stop(),cT(s))}))),s.ma}function tr(s){return s.fa||(s.fa=(function(i,a,o){const c=Te(i);return c.sa(),new UR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$R.bind(null,s),r_:WR.bind(null,s),ta:JR.bind(null,s),na:ZR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ie(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Wm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new Wm(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(s,e){if(ts("AsyncQueue",`${e}: ${s}`),hl(s))return new oe($.UNAVAILABLE,`${e}: ${s}`);throw s}class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||fe.comparator(i.key,a.key):(i,a)=>fe.comparator(i.key,a.key),this.keyedMap=Ao(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Z0{constructor(){this.ga=new ut(fe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class sl{constructor(e,i,a,o,c,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new sl(e,i,$a.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class tC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nC{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Te(i),c=o.queries;o.queries=W0(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function W0(){return new Xr((s=>VE(s)),vh)}async function iC(s,e){const i=Te(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new tC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ep(d,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&tp(i)}async function sC(s,e){const i=Te(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rC(s,e){const i=Te(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&tp(i)}function aC(s,e,i){const a=Te(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function tp(s){s.Ca.forEach((e=>{e.next()}))}var mm,ev;(ev=mm||(mm={})).Ma="default",ev.Cache="cache";class lC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class mT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class oC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=kE(e),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Z0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const V=o.get(S),H=Eh(this.query,w)?w:null,W=!!V&&this.mutatedKeys.has(V.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;V&&H?V.data.isEqual(H.data)?W!==Z&&(a.track({type:3,doc:H}),J=!0):this.su(V,H)||(a.track({type:2,doc:H}),J=!0,(g&&this.eu(H,g)>0||_&&this.eu(H,_)<0)&&(p=!0)):!V&&H?(a.track({type:0,doc:H}),J=!0):V&&!H&&(a.track({type:1,doc:V}),J=!0,(g||_)&&(p=!0)),J&&(H?(d=d.add(H),c=Z?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(H,W){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:J})}};return Z(H)-Z(W)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new sl(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new pT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new mT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Me();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class uC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class cC{constructor(e){this.key=e,this.hu=!1}}class hC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((p=>VE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(fe.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fC(s,e,i=!0){const a=TT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await gT(a,e,i,!0),o}async function dC(s,e){const i=TT(s);await gT(i,e,!0,!1)}async function gT(s,e,i,a){const o=await NR(s.localStore,wi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await mC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&oT(s.remoteStore,o),p}async function mC(s,e,i,a,o){s.pu=(w,V,H)=>(async function(Z,J,le,me){let he=J.view.ru(le);he.Cs&&(he=await Q0(Z.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,he))));const ze=me&&me.targetChanges.get(J.targetId),He=me&&me.targetMismatches.get(J.targetId)!=null,xe=J.view.applyChanges(he,Z.isPrimaryClient,ze,He);return nv(Z,J.targetId,xe.au),xe.snapshot})(s,w,V,H);const c=await Q0(s.localStore,e,!0),d=new oC(e,c.Qs),p=d.ru(c.documents),g=$o.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,g);nv(s,i,_.au);const S=new uC(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function pC(s,e,i){const a=Te(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Xm(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(cl)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function gC(s,e){const i=Te(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function yC(s,e,i){const a=AC(s);try{const o=await(function(d,p){const g=Te(d),_=rt.now(),S=p.reduce(((H,W)=>H.add(W.key)),Me());let w,V;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=ns(),Z=Me();return g.Ns.getEntries(H,S).next((J=>{W=J,W.forEach(((le,me)=>{me.isValidDocument()||(Z=Z.add(le))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,W))).next((J=>{w=J;const le=[];for(const me of p){const he=Ix(me,w.get(me.key).overlayedDocument);he!=null&&le.push(new $r(me.key,he,RE(he.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,le,p)})).next((J=>{V=J;const le=J.applyToLocalDocumentSet(w,Z);return g.documentOverlayCache.saveOverlays(H,J.batchId,le)}))})).then((()=>({batchId:V.batchId,changes:PE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new ut(Oe)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Zo(a,o.changes),await xh(a.remoteStore)}catch(o){const c=ep(o,"Failed to persist write");i.reject(c)}}async function yT(s,e){const i=Te(s);try{const a=await RR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Fe(d.hu,14607):o.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await Zo(i,a,e)}catch(a){await cl(a)}}function tv(s,e,i){const a=Te(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Te(d);g.onlineState=p;let _=!1;g.queries.forEach(((S,w)=>{for(const V of w.Sa)V.va(p)&&(_=!0)})),_&&tp(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function _C(s,e,i){const a=Te(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ut(fe.comparator);d=d.insert(c,Jt.newNoDocument(c,ve.min()));const p=Me().add(c),g=new Sh(ve.min(),new Map,new ut(Oe),d,p);await yT(a,g),a.du=a.du.remove(c),a.Au.delete(e),ip(a)}else await fm(a.localStore,e,!1).then((()=>pm(a,e,i))).catch(cl)}async function vC(s,e){const i=Te(s),a=e.batch.batchId;try{const o=await xR(i.localStore,e);vT(i,a,null),_T(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zo(i,o)}catch(o){await cl(o)}}async function EC(s,e,i){const a=Te(s);try{const o=await(function(d,p){const g=Te(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,p).next((w=>(Fe(w!==null,37113),S=w.keys(),g.mutationQueue.removeMutationBatch(_,w)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);vT(a,e,i),_T(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Zo(a,o)}catch(o){await cl(o)}}function _T(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function vT(s,e,i){const a=Te(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||ET(s,a)}))}function ET(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Xm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),ip(s))}function nv(s,e,i){for(const a of i)a instanceof mT?(s.Ru.addReference(a.key,e),TC(s,a)):a instanceof pT?(ie(np,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||ET(s,a.key)):ge(19791,{wu:a})}function TC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ie(np,"New document in limbo: "+i),s.Eu.add(a),ip(s))}function ip(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new fe(st.fromString(e)),a=s.fu.next();s.Au.set(a,new cC(i)),s.du=s.du.insert(i,a),oT(s.remoteStore,new Gs(wi(Um(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Zo(s,e,i){const a=Te(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Km.As(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(g,_){const S=Te(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(V=>X.forEach(V.Es,(H=>S.persistence.referenceDelegate.addReference(w,V.targetId,H))).next((()=>X.forEach(V.ds,(H=>S.persistence.referenceDelegate.removeReference(w,V.targetId,H)))))))))}catch(w){if(!hl(w))throw w;ie(Ym,"Failed to update sequence numbers: "+w)}for(const w of _){const V=w.targetId;if(!w.fromCache){const H=S.Ms.get(V),W=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(V,Z)}}})(a.localStore,c))}async function bC(s,e){const i=Te(s);if(!i.currentUser.isEqual(e)){ie(np,"User change. New user:",e.toKey());const a=await sT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zo(i,a.Ls)}}function SC(s,e){const i=Te(s),a=i.Au.get(e);if(a&&a.hu)return Me().add(a.key);{let o=Me();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function TT(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_C.bind(null,e),e.Pu.H_=rC.bind(null,e.eventManager),e.Pu.yu=aC.bind(null,e.eventManager),e}function AC(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EC.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wR(this.persistence,new bR,e.initialUser,this.serializer)}Cu(e){return new iT(Qm.mi,this.serializer)}Du(e){return new OR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class wC extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new iT((a=>ah.mi(a,i)),this.serializer)}}class gm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),await eC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nC})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new PR(c)})(e.databaseInfo);return(function(c,d,p,g){return new BR(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new HR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>tv(this.syncEngine,i,0)),(function(){return X0.v()?new X0:new MR})())}createSyncEngine(e,i){return(function(o,c,d,p,g,_,S){const w=new hC(o,c,d,p,g,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Te(i);ie(Qr,"RemoteStore shutting down."),a.Ea.add(5),await Jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class xC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const nr="FirestoreClient";class RC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ie(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ie(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ep(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fd(s,e){s.asyncQueue.verifyOperationInProgress(),ie(nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await sT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function iv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CC(s);ie(nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>J0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>J0(e.remoteStore,o))),s._onlineComponents=e}async function CC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ie(nr,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new oh)}}else ie(nr,"Using default OfflineComponentProvider"),await Fd(s,new wC(void 0));return s._offlineComponents}async function bT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ie(nr,"Using user provided OnlineComponentProvider"),await iv(s,s._uninitializedComponentsProvider._online)):(ie(nr,"Using default OnlineComponentProvider"),await iv(s,new gm))),s._onlineComponents}function IC(s){return bT(s).then((e=>e.syncEngine))}async function sv(s){const e=await bT(s),i=e.eventManager;return i.onListen=fC.bind(null,e.syncEngine),i.onUnlisten=pC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=gC.bind(null,e.syncEngine),i}function ST(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const rv=new Map;const AT="firestore.googleapis.com",av=!0;class lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=av}else this.host=e.host,this.ssl=e.ssl??av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rR)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new O2;switch(a.type){case"firstParty":return new L2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=rv.get(i);a&&(ie("ComponentProvider","Removing Datastore"),rv.delete(i),a.terminate())})(this),Promise.resolve()}}function NC(s,e,i,a={}){s=Xs(s,Rh);const o=al(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(Ev(`https://${p}`),Tv("Firestore",!0)),c.host!==AT&&c.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:a};if(!Br(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=$t.MOCK_USER;else{_=Gb(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $t(w)}s._authCredentials=new M2(new pE(_,S))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Yo(i,Mt._jsonSchema))return new Mt(e,a||null,new fe(st.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ct("string",Mt._jsonSchemaVersion),referencePath:Ct("string")};class $s extends Ch{constructor(e,i,a){super(e,i,Um(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new fe(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function ym(s,e,...i){if(s=nn(s),gE("collection","path",e),s instanceof Rh){const a=st.fromString(e,...i);return E0(a),new $s(s,null,a)}{if(!(s instanceof Mt||s instanceof $s))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...i));return E0(a),new $s(s.firestore,null,a)}}function qs(s,e,...i){if(s=nn(s),arguments.length===1&&(e=Om.newId()),gE("doc","path",e),s instanceof Rh){const a=st.fromString(e,...i);return v0(a),new Mt(s,null,new fe(a))}{if(!(s instanceof Mt||s instanceof $s))throw new oe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...i));return v0(a),new Mt(s.firestore,s instanceof $s?s.converter:null,new fe(a))}}const ov="AsyncQueue";class uv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&ie(ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;ie(ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",cv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Wm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function cv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function hv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class rl extends Rh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new uv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function DC(s,e){const i=typeof s=="object"?s:wv(),a=typeof s=="string"?s:Wc,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=qb("firestore");c&&NC(o,...c)}return o}function wT(s){if(s._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||OC(s),s._firestoreClient}function OC(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new W2(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ST(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(i){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ct("string",Ln._jsonSchemaVersion),bytes:Ct("string")};class sp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xT{constructor(e){this._methodName=e}}class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Yo(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ct("string",Ri._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Ci{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yo(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ci(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ct("string",Ci._jsonSchemaVersion),vectorValues:Ct("object")};const MC=/^__.*__$/;class VC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xo(e,this.data,i,this.fieldTransforms)}}function RT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:s})}}class rp{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RT(this.Ac)&&MC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,o=!1){return new rp({Ac:e,methodName:i,Dc:a,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(s){const e=s._freezeSettings(),i=Ah(s._databaseId);return new kC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function IT(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);MT("Data must be an object, but it was:",d,a);const p=DT(a,d);let g,_;if(c.merge)g=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const V=LC(e,w,i);if(!d.contains(V))throw new oe($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);jC(S,V)||S.push(V)}g=new $n(S),_=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,_=d.fieldTransforms;return new VC(new kn(p),g,_)}function NT(s,e){if(OT(s=nn(s)))return MT("Unsupported field value:",e,s),DT(s,e);if(s instanceof xT)return(function(a,o){if(!RT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let g=NT(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Sx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:rh(o.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:XE(o.serializer,a._byteString)};if(a instanceof Mt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,p){return{mapValue:{fields:{[wE]:{stringValue:xE},[eh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return zm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Mm(a)}`)})(s,e)}function DT(s,e){const i={};return vE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(s,((a,o)=>{const c=NT(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function OT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof Ri||s instanceof Ln||s instanceof Mt||s instanceof xT||s instanceof Ci)}function MT(s,e,i){if(!OT(i)||!yE(i)){const a=Mm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function LC(s,e,i){if((e=nn(e))instanceof sp)return e._internalPath;if(typeof e=="string")return VT(s,e);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const PC=new RegExp("[~\\*/\\[\\]]");function VT(s,e,i){if(e.search(PC)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new sp(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new oe($.INVALID_ARGUMENT,p+s+g)}function jC(s,e){return s.some((i=>i.isEqual(e)))}class kT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends kT{data(){return super.data()}}function LT(s,e){return typeof e=="string"?VT(s,e):e instanceof sp?e._internalPath:e._delegate._internalPath}function zC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{convertValue(e,i="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Yr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Ci(i)}convertGeoPoint(e){return new Ri(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=st.fromString(e);Fe(tT(a),9688,{name:e});const o=new jo(a.get(1),a.get(3)),c=new fe(a.popFirst(5));return o.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function PT(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ur extends kT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(LT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Ct("string",Ur._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Hc extends Ur{data(e={}){return super.data(e)}}class Ja{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new xo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:qC(p.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:s})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ct("string",Ja._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class jT extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function _m(s,e,i){s=Xs(s,Mt);const a=Xs(s.firestore,rl),o=PT(s.converter,e,i);return ap(a,[IT(CT(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Jn.none())])}function HC(s){return ap(Xs(s.firestore,rl),[new Bm(s._key,Jn.none())])}function GC(s,e){const i=Xs(s.firestore,rl),a=qs(s),o=PT(s.converter,e);return ap(i,[IT(CT(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function Eo(s,...e){s=nn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||hv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(hv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof Mt)d=Xs(s.firestore,rl),p=Um(s._key.path),c={next:g=>{e[a]&&e[a](FC(d,s,g))},error:e[a+1],complete:e[a+2]};else{const g=Xs(s,Ch);d=Xs(g.firestore,rl),p=g._query;const _=new jT(d);c={next:S=>{e[a]&&e[a](new Ja(d,_,g,S))},error:e[a+1],complete:e[a+2]},zC(s._query)}return(function(_,S,w,V){const H=new xC(V),W=new lC(S,H,w);return _.asyncQueue.enqueueAndForget((async()=>iC(await sv(_),W))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>sC(await sv(_),W)))}})(wT(d),p,o,c)}function ap(s,e){return(function(a,o){const c=new jr;return a.asyncQueue.enqueueAndForget((async()=>yC(await IC(a),o,c))),c.promise})(wT(s),e)}function FC(s,e,i){const a=i.docs.get(e._key),o=new jT(s);return new Ur(s,o,e._key,a,new xo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ul=o})(ll),Za(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new rl(new V2(a.getProvider("auth-internal")),new P2(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(p0,g0,e),Ks(p0,g0,"esm2020")})();const QC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),fv=s=>{const e=KC(s);return e.charAt(0).toUpperCase()+e.slice(1)},UT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),YC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $C=Ge.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},g)=>Ge.createElement("svg",{ref:g,...XC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:UT("lucide",o),...!c&&!YC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Ge.createElement(_,S)),...Array.isArray(c)?c:[c]]));const tt=(s,e)=>{const i=Ge.forwardRef(({className:a,...o},c)=>Ge.createElement($C,{ref:c,iconNode:e,className:UT(`lucide-${QC(fv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=fv(s),i};const JC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZC=tt("activity",JC);const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],eI=tt("arrow-right",WC);const tI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nI=tt("award",tI);const iI=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],zT=tt("brain-circuit",iI);const sI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],BT=tt("calendar",sI);const rI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aI=tt("chevron-right",rI);const lI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oI=tt("circle-alert",lI);const uI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cI=tt("circle-check",uI);const hI=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],fI=tt("dumbbell",hI);const dI=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],mI=tt("flame",dI);const pI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gI=tt("history",pI);const yI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_I=tt("log-out",yI);const vI=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],EI=tt("message-square-quote",vI);const TI=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bI=tt("moon",TI);const SI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],AI=tt("play",SI);const wI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xI=tt("plus",wI);const RI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zr=tt("refresh-cw",RI);const CI=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],II=tt("ruler",CI);const NI=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],DI=tt("scan",NI);const OI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qT=tt("sparkles",OI);const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],VI=tt("target",MI);const kI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],LI=tt("trash-2",kI);const PI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jI=tt("trending-up",PI);const UI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HT=tt("user",UI);const zI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],GT=tt("utensils",zI);const BI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],FT=tt("zap",BI);var qI="firebase",HI="12.7.0";Ks(qI,HI,"app");const GI={apiKey:"AIzaSyCW3ZudReJyVVkwt2c5D3j1Rc5qDwPz5N8",authDomain:"ai-trainer-505cb.firebaseapp.com",projectId:"ai-trainer-505cb",storageBucket:"ai-trainer-505cb.firebasestorage.app",messagingSenderId:"252641026404",appId:"1:252641026404:web:8b1be7153ca252787b1a71"},QT=Av(GI),ch=N2(QT),bi=DC(QT),FI="AIzaSyCalpfORPYHP8RRsj3JHJLMelFinlzM8hI",dv=s=>new Promise(e=>setTimeout(e,s)),lp=async(s,e,i=!1)=>{const a={contents:[{parts:[{text:s}]}],systemInstruction:{parts:[{text:e}]},generationConfig:i?{responseMimeType:"application/json"}:{}};let o=0;const c=5;for(;o<=c;)try{const d=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${FI}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(d.status===429){if(o++,o>c)return console.error("Gemini API: Max retries exceeded (429)."),alert("  (Server Busy)"),null;const g=2e3*Math.pow(2,o-1),_=Math.random()*1e3,S=g+_;console.warn(`Gemini API Rate Limit (429). Retrying in ${Math.round(S)}ms... (Attempt ${o}/${c})`),await dv(S);continue}if(!d.ok){const g=await d.text();return console.error(`Gemini API Error: ${d.status} ${d.statusText}`,g),null}return(await d.json()).candidates?.[0]?.content?.parts?.[0]?.text}catch(d){if(console.error("Gemini API Network Error:",d),o++,o>c)return null;await dv(2e3)}return null},QI=()=>{const[s,e]=Ge.useState(!1),[i,a]=Ge.useState(""),[o,c]=Ge.useState(""),[d,p]=Ge.useState(""),[g,_]=Ge.useState(!1),S=async w=>{w.preventDefault(),p(""),_(!0);try{s?await mw(ch,i,o):await pw(ch,i,o)}catch{p(" ")}_(!1)};return E.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 inset-x-0 h-96 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 rounded-b-[3rem] shadow-2xl skew-y-3 origin-top-left scale-110"}),E.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white/20 rounded-full blur-3xl animate-pulse"}),E.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),E.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[E.jsxs("div",{className:"text-center mb-10 space-y-2",children:[E.jsx("div",{className:"bg-white p-4 rounded-3xl w-24 h-24 mx-auto shadow-2xl shadow-indigo-500/30 flex items-center justify-center mb-6 animate-bounce-slow",children:E.jsx(zT,{className:"w-12 h-12 text-indigo-600"})}),E.jsx("h1",{className:"text-4xl font-black text-white tracking-tight drop-shadow-md",children:"Trainer Pro"}),E.jsxs("p",{className:"text-indigo-100 font-medium text-sm tracking-widest uppercase flex items-center justify-center gap-2",children:[E.jsx(qT,{className:"w-3 h-3"})," Personal Fitness AI"]})]}),E.jsx("div",{className:"glass-panel p-8 rounded-3xl backdrop-blur-2xl bg-white/90 shadow-2xl shadow-slate-300",children:E.jsxs("form",{onSubmit:S,className:"space-y-5",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-3",children:"Email Address"}),E.jsx("input",{type:"email",value:i,onChange:w=>a(w.target.value),className:"input-field w-full",placeholder:"hello@example.com",required:!0})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-3",children:"Password"}),E.jsx("input",{type:"password",value:o,onChange:w=>c(w.target.value),className:"input-field w-full",placeholder:"",required:!0})]}),d&&E.jsx("div",{className:"bg-rose-50 text-rose-500 text-xs py-3 px-4 rounded-xl border border-rose-100 text-center font-medium animate-in fade-in slide-in-from-top-1",children:d}),E.jsx("button",{disabled:g,className:"btn-primary w-full py-4 rounded-xl font-bold uppercase tracking-widest text-sm flex items-center justify-center gap-2 mt-4",children:g?E.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):E.jsxs(E.Fragment,{children:[s?"Create Account":"Sign In Now",E.jsx(eI,{className:"w-4 h-4"})]})})]})}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("button",{onClick:()=>e(!s),className:"text-slate-500 text-sm font-semibold hover:text-indigo-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:s?"Already have an account? Log In":"New here? Create Account"})})]})]})},KI=({dailyData:s,saveDailyData:e,isConsulting:i,getTrainerAnalysis:a,trainerAdvice:o,foodLogs:c=[],profile:d,workoutPlan:p})=>{const[g,_]=Hs.useState(s),[S,w]=Hs.useState(!1),[V,H]=Hs.useState(!1),W=c.reduce((A,M)=>A+(Number(M.kcal)||0),0),Z=c.reduce((A,M)=>A+(Number(M.protein)||0),0),J=d?.targets?.calories||2e3,le=d?.targets?.protein||120,me=Math.min(W/J*100,100),he=Math.min(Z/le*100,100),He=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],xe=p?.find(A=>A.day===He);Hs.useEffect(()=>{s&&_(s)},[s]);const R=(A,M)=>{_(D=>({...D,[A]:M})),H(!1)},x=async()=>{w(!0),await e(g),w(!1),H(!0),setTimeout(()=>H(!1),3e3)};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-24",children:[E.jsxs("section",{className:"bg-white rounded-[2.5rem] p-6 shadow-xl border border-slate-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"font-extrabold text-lg text-slate-800 flex items-center gap-2",children:[E.jsx(zr,{className:"w-5 h-5 text-green-500"}),E.jsx("span",{children:"Nutrition Today"})]}),E.jsxs("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-400 px-2 py-1 rounded-full uppercase tracking-widest",children:["Target: ",J," kcal"]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[E.jsx("span",{className:"text-slate-600",children:"Calories"}),E.jsxs("span",{className:W>J?"text-rose-500":"text-slate-800",children:[W," ",E.jsxs("span",{className:"text-slate-300",children:["/ ",J]})]})]}),E.jsx("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden",children:E.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${W>J?"bg-gradient-to-r from-rose-400 to-rose-600":"bg-gradient-to-r from-green-400 to-emerald-500"}`,style:{width:`${me}%`}})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[E.jsx("span",{className:"text-slate-600",children:"Protein"}),E.jsxs("span",{className:"text-indigo-600",children:[Z,"g ",E.jsxs("span",{className:"text-slate-300",children:["/ ",le,"g"]})]})]}),E.jsx("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-indigo-400 to-indigo-600 transition-all duration-1000",style:{width:`${he}%`}})})]})]})]}),E.jsxs("section",{className:"relative overflow-hidden bg-slate-900 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-slate-900/20",children:[E.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("h3",{className:"font-extrabold text-xl mb-6 flex items-center gap-3",children:[E.jsx("span",{className:"bg-indigo-500/20 p-2.5 rounded-2xl backdrop-blur-md border border-white/10 text-indigo-300",children:E.jsx(ZC,{className:"w-6 h-6"})}),E.jsx("span",{children:"Daily Log"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[E.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2 transition-transform hover:scale-105",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Weight"}),E.jsxs("div",{className:"flex items-baseline gap-1",children:[E.jsx("input",{type:"number",value:g.weight,onChange:A=>R("weight",Number(A.target.value)),className:"bg-transparent border-none p-0 text-4xl font-black w-24 text-center focus:ring-0 text-white drop-shadow-sm"}),E.jsx("span",{className:"text-sm font-medium text-slate-400",children:"kg"})]})]}),E.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2 transition-transform hover:scale-105",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sleep"}),E.jsxs("div",{className:"flex items-baseline gap-1",children:[E.jsx("input",{type:"number",value:g.sleepHours,onChange:A=>R("sleepHours",Number(A.target.value)),className:"bg-transparent border-none p-0 text-4xl font-black w-20 text-center focus:ring-0 text-white drop-shadow-sm"}),E.jsx("span",{className:"text-sm font-medium text-slate-400",children:"hr"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[E.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2 transition-transform hover:scale-105",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Water"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>R("waterIntake",Math.max(0,g.waterIntake-1)),className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20",children:"-"}),E.jsx("span",{className:"text-2xl font-black w-8 text-center",children:g.waterIntake}),E.jsx("button",{onClick:()=>R("waterIntake",g.waterIntake+1),className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20",children:"+"})]}),E.jsx("span",{className:"text-[10px] text-slate-400",children:"glasses"})]}),E.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Workout"}),E.jsx("input",{type:"text",placeholder:"Type",value:g.workoutType,onChange:A=>R("workoutType",A.target.value),className:"bg-transparent border-b border-white/20 w-full text-center text-sm font-bold placeholder:text-slate-600 focus:outline-none focus:border-indigo-400"}),E.jsxs("div",{className:"flex items-center gap-1 w-full",children:[E.jsx("input",{type:"number",value:g.workoutDuration,onChange:A=>R("workoutDuration",Number(A.target.value)),className:"bg-transparent border-b border-white/20 w-1/2 text-center text-sm font-bold focus:outline-none focus:border-indigo-400"}),E.jsx("span",{className:"text-[10px] text-slate-400",children:"min"})]}),E.jsxs("select",{value:g.workoutIntensity,onChange:A=>R("workoutIntensity",A.target.value),className:"bg-white/10 border-none rounded-lg text-[10px] text-slate-300 w-full p-1 mt-1 text-center outline-none",children:[E.jsx("option",{value:"Low",className:"text-slate-800",children:"Low Intensity"}),E.jsx("option",{value:"Medium",className:"text-slate-800",children:"Medium"}),E.jsx("option",{value:"High",className:"text-slate-800",children:"High Intensity"})]})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-end",children:[E.jsxs("div",{className:"flex items-center gap-2 text-indigo-300 text-sm font-bold uppercase tracking-wide",children:[E.jsx(FT,{className:"w-4 h-4"})," Energy"]}),E.jsxs("span",{className:"text-2xl font-black",children:[g.energyLevel,"/5"]})]}),E.jsx("input",{type:"range",min:"1",max:"5",value:g.energyLevel,onChange:A=>R("energyLevel",Number(A.target.value)),className:"w-full h-3 bg-white/10 rounded-full appearance-none cursor-pointer accent-indigo-500 hover:accent-indigo-400 transition-all"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-end",children:[E.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-sm font-bold uppercase tracking-wide",children:[E.jsx(oI,{className:"w-4 h-4"})," Stress"]}),E.jsxs("span",{className:"text-2xl font-black",children:[g.stressLevel,"/5"]})]}),E.jsx("input",{type:"range",min:"1",max:"5",value:g.stressLevel,onChange:A=>R("stressLevel",Number(A.target.value)),className:"w-full h-3 bg-white/10 rounded-full appearance-none cursor-pointer accent-purple-500 hover:accent-purple-400 transition-all"})]}),E.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-4 space-y-4",children:[E.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full"})," Body Stats (in)"]}),E.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Waist"}),E.jsx("input",{type:"number",placeholder:"-",value:g.waist||"",onChange:A=>R("waist",Number(A.target.value)),className:"w-full bg-slate-800 border-none rounded-lg text-center font-bold text-white text-sm py-2 focus:ring-1 focus:ring-pink-500"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Hip"}),E.jsx("input",{type:"number",placeholder:"-",value:g.hip||"",onChange:A=>R("hip",Number(A.target.value)),className:"w-full bg-slate-800 border-none rounded-lg text-center font-bold text-white text-sm py-2 focus:ring-1 focus:ring-pink-500"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Chest"}),E.jsx("input",{type:"number",placeholder:"-",value:g.chest||"",onChange:A=>R("chest",Number(A.target.value)),className:"w-full bg-slate-800 border-none rounded-lg text-center font-bold text-white text-sm py-2 focus:ring-1 focus:ring-pink-500"})]})]})]})]}),E.jsx("button",{onClick:x,disabled:S,className:`w-full mt-6 py-4 rounded-2xl font-bold text-sm tracking-wide transition-all flex items-center justify-center gap-2 shadow-lg ${V?"bg-green-500 text-white shadow-green-500/50":"bg-white text-slate-900 hover:bg-slate-50"}`,children:S?E.jsx(zr,{className:"w-5 h-5 animate-spin"}):V?"Saved Automatically!":"Save Daily Log"}),V&&E.jsx("p",{className:"text-center text-[10px] text-green-400 font-bold mt-2 uppercase tracking-widest animate-pulse",children:"Changes saved successfully"})]})]}),E.jsxs("section",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl"}),E.jsxs("h3",{className:"font-extrabold text-xl text-slate-800 flex items-center gap-2 mb-6 relative z-10",children:[E.jsx("span",{className:"bg-indigo-600 text-white p-2 rounded-xl",children:E.jsx(fI,{className:"w-5 h-5"})}),E.jsx("span",{children:"Today's Plan"})]}),xe?E.jsxs("div",{className:"relative z-10 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"font-black text-2xl text-slate-700 uppercase tracking-tight",children:He}),E.jsx("span",{className:"text-xs font-bold bg-indigo-50 text-indigo-500 px-3 py-1 rounded-full uppercase tracking-widest",children:xe.type})]}),xe.exercises?.length>0?E.jsx("div",{className:"space-y-3 bg-slate-50/50 p-4 rounded-2xl border border-slate-100",children:xe.exercises.map((A,M)=>E.jsxs("div",{className:"flex justify-between items-center text-sm",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-black",children:M+1}),E.jsx("span",{className:"font-bold text-slate-700",children:A.name})]}),E.jsxs("span",{className:"font-bold text-slate-400 text-xs bg-white px-2 py-1 rounded-md shadow-sm border border-slate-100",children:[A.sets," x ",A.reps]})]},M))}):E.jsx("div",{className:"text-center py-6 text-slate-400 font-medium bg-slate-50 rounded-2xl border-dashed border-2 border-slate-200",children:"Rest Day - Recover & Sleep well "})]}):E.jsxs("div",{className:"text-center py-8",children:[E.jsx("p",{className:"text-slate-400 text-sm font-bold mb-4",children:"No plan for today yet."}),E.jsx("button",{className:"text-xs font-black text-indigo-500 uppercase tracking-widest border-b-2 border-indigo-100 hover:border-indigo-500 transition-all",children:"Go to Plan Tab to create one"})]})]}),E.jsxs("section",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-bl-[100%] z-0 transition-transform group-hover:scale-110 duration-700"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"font-extrabold text-xl text-slate-800 flex items-center gap-2",children:[E.jsx(zT,{className:"text-indigo-600 w-6 h-6"}),E.jsx("span",{children:"AI Insights"})]}),E.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mt-1",children:"Smart Health Analysis"})]}),E.jsx("button",{onClick:a,disabled:i,className:"bg-black text-white p-4 rounded-2xl active:scale-90 hover:scale-105 transition-all shadow-lg hover:shadow-indigo-500/25 disabled:opacity-70 disabled:scale-100",children:i?E.jsx(zr,{className:"w-5 h-5 animate-spin"}):E.jsx(aI,{className:"w-5 h-5"})})]}),o?E.jsx("div",{className:"p-6 bg-slate-50/80 rounded-3xl border border-slate-100 text-sm leading-relaxed text-slate-600 font-medium animate-in fade-in slide-in-from-bottom-2 whitespace-pre-wrap",children:o}):E.jsxs("div",{className:"py-12 text-center space-y-4 border-2 border-dashed border-slate-100 rounded-3xl",children:[E.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300",children:E.jsx(EI,{className:"w-8 h-8"})}),E.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Tap the arrow to analyze your day"})]})]})]})]})},YI=({user:s,foodLogs:e})=>{const[i,a]=Ge.useState(""),[o,c]=Ge.useState(!1),d=async()=>{if(!i.trim()||!s)return;c(!0);const p=await lp(`: ${i}`,"  JSON  key : name (), kcal (), protein (), carbs (), fat ()",!0);if(p)try{const g=JSON.parse(p);await GC(ym(bi,"users",s.uid,"foodLogs"),{...g,date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,timestamp:Date.now(),time:new Date().toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),a("")}catch(g){console.error(g)}c(!1)};return E.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-500 pb-8",children:[E.jsx("div",{className:"sticky top-20 z-40",children:E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),E.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl flex items-center p-2 border border-slate-100",children:[E.jsx("div",{className:"pl-4 text-slate-400",children:E.jsx(DI,{className:"w-5 h-5"})}),E.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"What did you eat today?",className:"w-full bg-transparent p-4 outline-none text-slate-700 font-semibold placeholder:text-slate-400"}),E.jsx("button",{onClick:d,disabled:o||!i,className:"btn-primary w-12 h-12 rounded-xl flex items-center justify-center shrink-0 disabled:opacity-50 disabled:scale-100",children:o?E.jsx(zr,{className:"w-5 h-5 animate-spin"}):E.jsx(xI,{className:"w-6 h-6"})})]})]})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"glass-card p-6 rounded-[2rem] flex flex-col items-center justify-center text-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-orange-500/10 rounded-full blur-2xl"}),E.jsx(mI,{className:"w-8 h-8 text-orange-500 mb-3"}),E.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Calories"}),E.jsx("p",{className:"text-4xl font-black text-slate-800",children:e.reduce((p,g)=>p+g.kcal,0)})]}),E.jsxs("div",{className:"glass-card p-6 rounded-[2rem] flex flex-col items-center justify-center text-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-indigo-500/10 rounded-full blur-2xl"}),E.jsx("div",{className:"text-indigo-600 font-black text-2xl mb-3",children:"PRO"}),E.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Protein"}),E.jsxs("p",{className:"text-4xl font-black text-slate-800",children:[e.reduce((p,g)=>p+g.protein,0),E.jsx("span",{className:"text-sm text-slate-400 ml-1",children:"g"})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between px-2",children:[E.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Today's Meals"}),E.jsxs("span",{className:"text-xs font-bold text-slate-300 bg-slate-100 px-2 py-1 rounded-md",children:[e.length," items"]})]}),e.length===0?E.jsxs("div",{className:"py-20 text-center bg-white rounded-[2rem] border-2 border-dashed border-slate-100",children:[E.jsx(GT,{className:"w-12 h-12 mx-auto text-slate-200 mb-4"}),E.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"No meals logged yet."})]}):E.jsx("div",{className:"space-y-3",children:e.map(p=>E.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-sm border border-slate-100 flex justify-between items-center group hover:shadow-md hover:border-indigo-100 transition-all",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-xl font-black text-indigo-500 shadow-inner",children:p.name[0].toUpperCase()}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-800 text-lg leading-tight",children:p.name}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsxs("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-0.5 rounded-full",children:[p.kcal," kcal"]}),E.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:p.time})]})]})]}),E.jsx("button",{onClick:()=>HC(qs(bi,"users",s.uid,"foodLogs",p.id)),className:"w-10 h-10 flex items-center justify-center rounded-xl text-slate-300 hover:text-white hover:bg-rose-500 transition-all active:scale-90",children:E.jsx(LI,{className:"w-5 h-5"})})]},p.id))})]})]})},XI=({data:s,dataKey:e="weight",unit:i="kg",color:a="indigo"})=>{const o=[...s].reverse().slice(-7);if(o.length===0)return E.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400",children:[E.jsx("p",{className:"text-sm font-medium",children:"Not enough data to check trends"}),E.jsx("div",{className:"w-full max-w-[150px] h-1 bg-slate-100 rounded-full mt-4 overflow-hidden",children:E.jsx("div",{className:"w-1/3 h-full bg-slate-300 rounded-full"})})]});const c=o.map(w=>Number(w[e])||0),d=Math.max(...c)+1,p=Math.min(...c)-1,g=d-p||1,_={indigo:{from:"from-indigo-500",to:"to-purple-500",bg:"bg-indigo-500"},rose:{from:"from-rose-500",to:"to-orange-500",bg:"bg-rose-500"},emerald:{from:"from-emerald-500",to:"to-teal-500",bg:"bg-emerald-500"},amber:{from:"from-amber-500",to:"to-yellow-500",bg:"bg-amber-500"}},S=_[a]||_.indigo;return E.jsx("div",{className:"flex items-end justify-between h-48 gap-3 px-2 mt-4",children:o.map((w,V)=>{const H=Number(w[e])||0;return E.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3 group relative h-full justify-end",children:[E.jsxs("div",{className:"absolute -top-10 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0 z-10",children:[E.jsxs("div",{className:"bg-slate-800 text-white text-[10px] font-bold px-3 py-1.5 rounded-lg shadow-xl shadow-slate-900/20 whitespace-nowrap",children:[H," ",i]}),E.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 mx-auto -mt-1"})]}),E.jsxs("div",{className:"w-full relative group-hover:scale-x-110 transition-transform duration-300",style:{height:`${(H-p)/g*100}%`,minHeight:"15%"},children:[E.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${S.from} ${S.to} rounded-t-2xl opacity-80 group-hover:opacity-100 transition-opacity`}),E.jsx("div",{className:"absolute top-0 inset-x-0 h-[2px] bg-white/50"})]}),E.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:new Date(w.date).toLocaleDateString("en-US",{weekday:"short"})})]},V)})})},$I=({historyLogs:s})=>{const[e,i]=Ge.useState("weight"),a={weight:{label:"Weight",unit:"kg",color:"indigo"},waist:{label:"Waist",unit:"in",color:"rose"},hip:{label:"Hip",unit:"in",color:"amber"},chest:{label:"Chest",unit:"in",color:"emerald"}};return E.jsxs("div",{className:"space-y-8 animate-in slide-in-from-left-4 duration-500 pb-8",children:[E.jsxs("section",{className:"bg-white rounded-[2.5rem] p-6 shadow-xl border border-slate-100 relative overflow-hidden",children:[E.jsx("div",{className:`absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-${a[e].color}-500 to-${a[e].color}-300`}),E.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[E.jsxs("h3",{className:"font-extrabold text-slate-800 text-xl flex items-center gap-3",children:[E.jsx("div",{className:`bg-${a[e].color}-50 p-2.5 rounded-2xl text-${a[e].color}-600`,children:e==="weight"?E.jsx(jI,{className:"w-6 h-6"}):E.jsx(II,{className:"w-6 h-6"})}),a[e].label," History"]}),E.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:Object.keys(a).map(o=>E.jsx("button",{onClick:()=>i(o),className:`px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap border ${e===o?`bg-${a[o].color}-500 text-white border-${a[o].color}-500 shadow-lg shadow-${a[o].color}-500/30`:"bg-slate-50 text-slate-400 border-slate-100 hover:bg-slate-100"}`,children:a[o].label},o))})]}),E.jsx(XI,{data:s,dataKey:e,unit:a[e].unit,color:a[e].color})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("h4",{className:"px-2 text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:["History Log ",E.jsx("span",{className:"w-full h-[1px] bg-slate-100"})]}),E.jsx("div",{className:"space-y-3",children:s.map((o,c)=>E.jsx("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex justify-between items-center group hover:shadow-lg hover:border-indigo-100 transition-all duration-300",children:E.jsxs("div",{className:"flex items-center gap-5",children:[E.jsx("div",{className:"w-14 h-14 bg-slate-50 group-hover:bg-indigo-50 rounded-2xl flex items-center justify-center text-slate-400 group-hover:text-indigo-600 transition-all",children:E.jsxs("span",{className:"font-black text-xs uppercase tracking-widest flex flex-col items-center leading-tight",children:[E.jsx("span",{children:new Date(o.date).toLocaleDateString("en-US",{month:"short"})}),E.jsx("span",{className:"text-xl",children:new Date(o.date).getDate()})]})}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-baseline gap-2",children:[E.jsxs("p",{className:"font-black text-slate-800 text-lg",children:[o[e]||"-"," ",E.jsx("span",{className:"text-sm text-slate-400 font-bold",children:a[e].unit})]}),e!=="weight"&&E.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase",children:a[e].label})]}),E.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-slate-400 uppercase mt-1",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(bI,{className:"w-3 h-3"})," ",o.sleepHours,"h"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(FT,{className:"w-3 h-3"})," ",o.energyLevel,"/5"]})]})]})]})},c))})]})]})},JI=({user:s,profile:e,currentWeight:i,saveProfileData:a,signOut:o})=>{const[c,d]=Hs.useState({...e,activityLevel:e?.activityLevel||"Sedentary",targets:e?.targets||{calories:2e3,protein:100}}),[p,g]=Hs.useState(!1),[_,S]=Hs.useState(!1);Hs.useEffect(()=>{e&&d(Z=>({...Z,...e,activityLevel:e.activityLevel||Z.activityLevel||"Sedentary"}))},[e]);const V=(()=>{if(!i||!c.height||!c.age)return null;let Z=10*i+6.25*c.height-5*c.age;Z+=c.gender==="Male"?5:-161;const le=Math.round(Z*({Sedentary:1.2,"Lightly Active":1.375,"Moderately Active":1.55,"Very Active":1.725,"Extra Active":1.9}[c.activityLevel]||1.2));let me=le;c.goal==="Lose Weight"?me-=500:c.goal==="Build Muscle"&&(me+=300);const he=Math.round(i*2);return{calories:me,protein:he,bmr:Z,tdee:le}})(),H=(Z,J)=>{d(le=>({...le,[Z]:J})),S(!1)},W=async()=>{g(!0);const Z={...c,targets:V?{calories:V.calories,protein:V.protein}:c.targets};await a(Z),g(!1),S(!0),setTimeout(()=>S(!1),3e3)};return E.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-24",children:[E.jsxs("section",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 flex flex-col items-center",children:[E.jsxs("div",{className:"relative mb-6 group",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),E.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center text-indigo-600 shadow-inner relative z-10 border-4 border-white",children:E.jsx(HT,{className:"w-10 h-10"})})]}),E.jsx("h3",{className:"font-black text-xl text-slate-800 break-all text-center",children:s.email}),E.jsxs("div",{className:"w-full mt-6 space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Height (cm)"}),E.jsx("input",{type:"number",value:c.height,onChange:Z=>H("height",Number(Z.target.value)),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-center focus:ring-2 focus:ring-indigo-100 outline-none"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Age"}),E.jsx("input",{type:"number",value:c.age,onChange:Z=>H("age",Number(Z.target.value)),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-center focus:ring-2 focus:ring-indigo-100 outline-none"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Gender"}),E.jsxs("select",{value:c.gender,onChange:Z=>H("gender",Z.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-center outline-none appearance-none",children:[E.jsx("option",{value:"Male",children:"Male"}),E.jsx("option",{value:"Female",children:"Female"})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Goal"}),E.jsxs("select",{value:c.goal,onChange:Z=>H("goal",Z.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-center outline-none appearance-none",children:[E.jsx("option",{value:"Lose Weight",children:"Lose Weight"}),E.jsx("option",{value:"Build Muscle",children:"Build Muscle"}),E.jsx("option",{value:"Maintain",children:"Maintain"})]})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Activity Level"}),E.jsxs("select",{value:c.activityLevel,onChange:Z=>H("activityLevel",Z.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-center outline-none",children:[E.jsx("option",{value:"Sedentary",children:"Sedentary (Little to no exercise)"}),E.jsx("option",{value:"Lightly Active",children:"Lightly Active (1-3 days/week)"}),E.jsx("option",{value:"Moderately Active",children:"Moderately Active (3-5 days/week)"}),E.jsx("option",{value:"Very Active",children:"Very Active (6-7 days/week)"}),E.jsx("option",{value:"Extra Active",children:"Extra Active (Physical job/training)"})]})]}),V&&E.jsxs("div",{className:"bg-indigo-50/50 rounded-2xl p-5 border border-indigo-100 mt-4",children:[E.jsxs("h4",{className:"flex items-center gap-2 text-xs font-black text-indigo-400 uppercase tracking-widest mb-3",children:[E.jsx(nI,{className:"w-4 h-4"})," Daily Targets"]}),E.jsxs("div",{className:"flex justify-between items-center text-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Calories"}),E.jsx("p",{className:"text-xl font-black text-slate-800",children:V.calories})]}),E.jsx("div",{className:"w-px h-8 bg-indigo-200/50"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Protein"}),E.jsxs("p",{className:"text-xl font-black text-slate-800",children:[V.protein,"g"]})]}),E.jsx("div",{className:"w-px h-8 bg-indigo-200/50"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"TDEE"}),E.jsx("p",{className:"text-xl font-black text-slate-400",children:V.tdee})]})]})]}),E.jsx("button",{onClick:W,disabled:p,className:`w-full py-4 px-6 rounded-2xl font-bold text-sm tracking-wide transition-all flex items-center justify-center gap-2 shadow-lg ${_?"bg-green-500 text-white shadow-green-500/50":"bg-indigo-600 text-white shadow-indigo-500/30 hover:bg-indigo-700"}`,children:p?E.jsx(zr,{className:"w-5 h-5 animate-spin"}):_?"Settings Saved":"Update Profile & Targets"}),_&&E.jsx("p",{className:"text-center text-[10px] text-green-400 font-bold -mt-2 uppercase tracking-widest animate-pulse",children:"Targets Updated Automatically"}),E.jsx("div",{className:"pt-4 space-y-3 border-t border-slate-100 mt-4",children:E.jsx("button",{onClick:o,className:"w-full py-4 px-6 rounded-2xl bg-rose-50 text-rose-500 font-bold text-sm tracking-wide flex items-center justify-between hover:bg-rose-100 transition-colors group",children:E.jsxs("span",{className:"flex items-center gap-3",children:[E.jsx(_I,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})," Sign Out"]})})})]})]}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Update your personal stats for better AI accuracy."}),E.jsx("p",{className:"text-[10px] text-slate-300 mt-1 uppercase tracking-widest",children:"v1.1.0 (Sync Fix)"}),E.jsx("p",{className:"text-center text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"Trainer Pro v1.0.0"})]})},ZI=({activeTab:s,setActiveTab:e})=>{const i=[{id:"dashboard",icon:VI},{id:"plan",icon:BT},{id:"logs",icon:GT},{id:"history",icon:gI},{id:"profile",icon:HT}];return E.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-auto max-w-md z-[100]",children:E.jsx("nav",{className:"bg-white/80 backdrop-blur-2xl border border-white/50 rounded-3xl shadow-2xl shadow-indigo-900/10 p-2 flex items-center gap-1",children:i.map(a=>E.jsxs("button",{onClick:()=>e(a.id),className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all duration-300 relative group
              ${s===a.id?"text-white shadow-lg shadow-indigo-500/30 ring-4 ring-white/50 scale-110 -translate-y-2":"text-slate-400 hover:text-indigo-500 hover:bg-indigo-50"}
            `,children:[s===a.id&&E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl -z-10 animate-in fade-in zoom-in duration-300"}),E.jsx(a.icon,{strokeWidth:2.5,className:`w-6 h-6 transition-transform duration-300 ${s===a.id?"scale-90":"group-hover:scale-110"}`})]},a.id))})})},WI=({user:s,profile:e})=>{const[i,a]=Ge.useState(!1),[o,c]=Ge.useState(null),[d,p]=Ge.useState({days:3,equipment:"Bodyweight",focus:"Full Body"}),g=async()=>{a(!0);const S=`
            Create a weekly workout plan for a ${e.age} year old ${e.gender} who wants to "${e.goal}".
            Current stats: Height ${e.height}m.
            Preferences: ${d.days} days/week, Equipment: ${d.equipment}, Focus: ${d.focus}.
            
            Return ONLY a valid JSON object with this key: "weekly_plan".
            "weekly_plan" should be an array of objects for each workout day (or rest day).
            Each object format: { "day": "Monday", "type": "Upper Body", "exercises": [{"name": "Pushups", "sets": "3", "reps": "12"}] }.
            For Rest days, exercises should be empty array.
        `,w=await lp(S,"You are a professional fitness coach. Return strictly JSON.",!0);if(w)try{const V=JSON.parse(w);c(V.weekly_plan),await _(V.weekly_plan)}catch(V){console.error("JSON Parse Error",V),alert("AI Error. Please try again.")}a(!1)},_=async S=>{s&&await _m(qs(bi,"users",s.uid,"plans","current"),{plan:S,createdAt:Date.now(),preferences:d})};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500 pb-24",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-bl-full"}),E.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-2 relative z-10",children:[E.jsx(BT,{className:"w-8 h-8 text-indigo-600"}),"Workout Plan"]}),E.jsx("p",{className:"text-slate-400 text-sm font-bold mt-1",children:"AI-Generated Weekly Schedule"})]}),E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 space-y-4",children:[E.jsx("h3",{className:"font-bold text-slate-700",children:"Setup your plan"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Days / Week"}),E.jsx("select",{value:d.days,onChange:S=>p({...d,days:S.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm outline-none",children:[1,2,3,4,5,6,7].map(S=>E.jsxs("option",{value:S,children:[S," Days"]},S))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Equipment"}),E.jsxs("select",{value:d.equipment,onChange:S=>p({...d,equipment:S.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm outline-none",children:[E.jsx("option",{value:"Bodyweight",children:"Bodyweight Only"}),E.jsx("option",{value:"Dumbbells",children:"Dumbbells"}),E.jsx("option",{value:"Full Gym",children:"Full Gym"})]})]})]}),E.jsxs("button",{onClick:g,disabled:i,className:"w-full bg-indigo-600 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2 active:scale-95 transition-all shadow-lg shadow-indigo-500/30",children:[i?E.jsx(zr,{className:"animate-spin"}):E.jsx(AI,{className:"fill-current"}),i?"Designing Plan...":"Generate New Plan"]})]}),E.jsx("div",{className:"space-y-4",children:o?.map((S,w)=>E.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-slate-100 shadow-sm",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("span",{className:"font-black text-indigo-600 uppercase tracking-wider text-sm",children:S.day}),E.jsx("span",{className:"text-xs font-bold bg-indigo-50 text-indigo-400 px-2 py-1 rounded-lg",children:S.type})]}),S.exercises?.length>0?E.jsx("ul",{className:"space-y-2",children:S.exercises.map((V,H)=>E.jsxs("li",{className:"flex justify-between items-center text-sm",children:[E.jsx("span",{className:"font-bold text-slate-700",children:V.name}),E.jsxs("span",{className:"text-slate-400 font-medium text-xs",children:[V.sets," x ",V.reps]})]},H))}):E.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm font-medium italic",children:[E.jsx(cI,{className:"w-4 h-4"})," Rest & Recover"]})]},w))})]})},eN=()=>{const[s,e]=Ge.useState(null),[i,a]=Ge.useState(!0),[o,c]=Ge.useState("dashboard"),[d,p]=Ge.useState({weight:75,sleepHours:7,stressLevel:3,energyLevel:3,soreness:"none",workoutType:"Rest",workoutDuration:0,workoutIntensity:"Low",waterIntake:0,waist:"",hip:"",chest:""}),[g,_]=Ge.useState([]),[S,w]=Ge.useState([]),[V,H]=Ge.useState(null),[W,Z]=Ge.useState(!1),[J,le]=Ge.useState({height:170,age:25,gender:"Male",goal:"Maintain"}),[me,he]=Ge.useState(null);Ge.useEffect(()=>{const R=_w(ch,x=>{e(x),a(!1)});return()=>R()},[]),Ge.useEffect(()=>{if(!s)return;const R=new Date,x=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`,A=qs(bi,"users",s.uid,"dailyLogs",x),M=Eo(A,ye=>{ye.exists()&&p(ye.data())}),D=ym(bi,"users",s.uid,"dailyLogs"),L=Eo(D,ye=>{const Pe=ye.docs.map(N=>({id:N.id,...N.data()}));w(Pe.sort((N,K)=>K.date.localeCompare(N.date)))}),C=ym(bi,"users",s.uid,"foodLogs"),et=Eo(C,ye=>{const Pe=ye.docs.map(N=>({id:N.id,...N.data()})).filter(N=>N.date===x);_(Pe.sort((N,K)=>K.timestamp-N.timestamp))}),ft=qs(bi,"users",s.uid),G=Eo(ft,ye=>{ye.exists()&&le(ye.data())}),te=qs(bi,"users",s.uid,"plans","current"),ue=Eo(te,ye=>{ye.exists()&&he(ye.data().plan)});return()=>{M(),L(),et(),G(),ue()}},[s]);const ze=async R=>{if(!s)return;const x=new Date().toISOString().split("T")[0],A=qs(bi,"users",s.uid,"dailyLogs",x),M={...d,...R,date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`};p(M),await _m(A,M,{merge:!0})},He=async R=>{if(!s)return;const x=qs(bi,"users",s.uid);le(R),await _m(x,R,{merge:!0})},xe=async()=>{if(!s)return;Z(!0);const R=`
      :  ${J.age} ,  ${J.gender},  ${J.height} ., : ${J.goal}.
      :  ${d.weight}kg,  ${d.sleepHours} .,  ${d.waterIntake} .
      : ${d.workoutType} (${d.workoutDuration} ,  ${d.workoutIntensity}).
      : ${d.energyLevel}/5, : ${d.stressLevel}/5.
      : ${g.map(A=>A.name).join(", ")} ( ${g.reduce((A,M)=>A+M.kcal,0)} kcal).
    `,x=await lp(R," AI       ");H(x),Z(!1)};return i?E.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50",children:E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsx(zr,{className:"animate-spin text-indigo-500 w-8 h-8"}),E.jsx("p",{className:"text-slate-400 font-bold text-sm tracking-widest uppercase",children:"Loading..."})]})}):s?E.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 pb-32 text-slate-800 relative shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden max-w-md mx-auto",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-20%] w-[500px] h-[500px] bg-indigo-500/5 rounded-full blur-3xl"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-20%] w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-3xl"})]}),E.jsxs("header",{className:"px-6 py-6 sticky top-0 z-50 flex justify-between items-center bg-slate-50/80 backdrop-blur-xl border-b border-indigo-100/50",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-2xl font-black text-slate-800 tracking-tighter flex items-center gap-1",children:["Trainer",E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Pro"})]}),E.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1.5 pl-0.5",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse shadow-[0_0_8px_rgba(74,222,128,0.5)]"}),"Online"]})]}),E.jsx("div",{className:"w-10 h-10 bg-white rounded-xl shadow-sm border border-slate-100 flex items-center justify-center",children:E.jsx(qT,{className:"w-5 h-5 text-amber-400 opacity-80"})})]}),E.jsxs("main",{className:"px-6 pt-6 space-y-6 relative z-10",children:[o==="dashboard"&&E.jsx(KI,{dailyData:d,saveDailyData:ze,isConsulting:W,getTrainerAnalysis:xe,trainerAdvice:V,foodLogs:g,profile:J,workoutPlan:me}),o==="logs"&&E.jsx(YI,{user:s,foodLogs:g}),o==="history"&&E.jsx($I,{historyLogs:S}),o==="plan"&&E.jsx(WI,{user:s,profile:J}),o==="profile"&&E.jsx(JI,{user:s,profile:J,currentWeight:d.weight,saveProfileData:He,signOut:()=>vw(ch)})]}),E.jsx(ZI,{activeTab:o,setActiveTab:c})]}):E.jsx(QI,{})};Mb.createRoot(document.getElementById("root")).render(E.jsx(Ge.StrictMode,{children:E.jsx(eN,{})}));
