(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},gl={};var w_;function Tb(){if(w_)return gl;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var R_;function bb(){return R_||(R_=1,Rd.exports=Tb()),Rd.exports}var S=bb(),Id={exports:{}},Et={};var I_;function Ab(){if(I_)return Et;I_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),L=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=L&&O[L]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function ht(O,Y,et){this.props=O,this.context=Y,this.refs=Z,this.updater=et||tt}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function dt(O,Y,et){this.props=O,this.context=Y,this.refs=Z,this.updater=et||tt}var qt=dt.prototype=new _t;qt.constructor=dt,nt(qt,ht.prototype),qt.isPureReactComponent=!0;var Rt=Array.isArray;function vt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Y,et){var st=et.ref;return{$$typeof:s,type:O,key:Y,ref:st!==void 0?st:null,props:et}}function M(O,Y){return I(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function te(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function Gt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(vt,vt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,et,st,gt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(St){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case s:case t:kt=!0;break;case b:return kt=O._init,H(kt(O._payload),Y,et,st,gt)}}if(kt)return gt=gt(O),kt=st===""?"."+te(O,0):st,Rt(gt)?(et="",kt!=null&&(et=kt.replace(R,"$&/")+"/"),H(gt,Y,et,"",function(ir){return ir})):gt!=null&&(D(gt)&&(gt=M(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+kt)),Y.push(gt)),1;kt=0;var Ne=st===""?".":st+":";if(Rt(O))for(var re=0;re<O.length;re++)st=O[re],St=Ne+te(st,re),kt+=H(st,Y,et,St,gt);else if(re=K(O),typeof re=="function")for(O=re.call(O),re=0;!(st=O.next()).done;)st=st.value,St=Ne+te(st,re++),kt+=H(st,Y,et,St,gt);else if(St==="object"){if(typeof O.then=="function")return H(Gt(O),Y,et,st,gt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function J(O,Y,et){if(O==null)return O;var st=[],gt=0;return H(O,st,"","",function(St){return Y.call(et,St,gt++)}),st}function lt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:J,forEach:function(O,Y,et){J(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return J(O,function(){Y++}),Y},toArray:function(O){return J(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=w,Et.Children=Ft,Et.Component=ht,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),gt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(gt=""+Y.key),Y)!A.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var kt=Array(St),Ne=0;Ne<St;Ne++)kt[Ne]=arguments[Ne+2];st.children=kt}return I(O.type,gt,st)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,Y,et){var st,gt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)A.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Y[st]);var kt=arguments.length-2;if(kt===1)gt.children=et;else if(1<kt){for(var Ne=Array(kt),re=0;re<kt;re++)Ne[re]=arguments[re+2];gt.children=Ne}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)gt[st]===void 0&&(gt[st]=kt[st]);return I(O,St,gt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=D,Et.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:lt}},Et.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=C.T,et={};C.T=et;try{var st=O(),gt=C.S;gt!==null&&gt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(vt,Ut)}catch(St){Ut(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,Y,et){return C.H.useActionState(O,Y,et)},Et.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,Y,et){return C.H.useImperativeHandle(O,Y,et)},Et.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,et){return C.H.useReducer(O,Y,et)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,Y,et){return C.H.useSyncExternalStore(O,Y,et)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.3",Et}var C_;function gm(){return C_||(C_=1,Id.exports=Ab()),Id.exports}var le=gm(),Cd={exports:{}},yl={},Nd={exports:{}},xd={};var N_;function Sb(){return N_||(N_=1,(function(s){function t(H,J){var lt=H.length;H.push(J);t:for(;0<lt;){var Ut=lt-1>>>1,Ft=H[Ut];if(0<l(Ft,J))H[Ut]=J,H[lt]=Ft,lt=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var J=H[0],lt=H.pop();if(lt!==J){H[0]=lt;t:for(var Ut=0,Ft=H.length,O=Ft>>>1;Ut<O;){var Y=2*(Ut+1)-1,et=H[Y],st=Y+1,gt=H[st];if(0>l(et,lt))st<Ft&&0>l(gt,et)?(H[Ut]=gt,H[st]=lt,Ut=st):(H[Ut]=et,H[Y]=lt,Ut=Y);else if(st<Ft&&0>l(gt,lt))H[Ut]=gt,H[st]=lt,Ut=st;else break t}}return J}function l(H,J){var lt=H.sortIndex-J.sortIndex;return lt!==0?lt:H.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,w=null,L=3,K=!1,tt=!1,nt=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var J=i(_);J!==null;){if(J.callback===null)a(_);else if(J.startTime<=H)a(_),J.sortIndex=J.expirationTime,t(y,J);else break;J=i(_)}}function Rt(H){if(nt=!1,qt(H),!tt)if(i(y)!==null)tt=!0,vt||(vt=!0,k());else{var J=i(_);J!==null&&Gt(Rt,J.startTime-H)}}var vt=!1,C=-1,A=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<A)}function D(){if(Z=!1,vt){var H=s.unstable_now();I=H;var J=!0;try{t:{tt=!1,nt&&(nt=!1,_t(C),C=-1),K=!0;var lt=L;try{e:{for(qt(H),w=i(y);w!==null&&!(w.expirationTime>H&&M());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,L=w.priorityLevel;var Ft=Ut(w.expirationTime<=H);if(H=s.unstable_now(),typeof Ft=="function"){w.callback=Ft,qt(H),J=!0;break e}w===i(y)&&a(y),qt(H)}else a(y);w=i(y)}if(w!==null)J=!0;else{var O=i(_);O!==null&&Gt(Rt,O.startTime-H),J=!1}}break t}finally{w=null,L=lt,K=!1}J=void 0}}finally{J?k():vt=!1}}}var k;if(typeof dt=="function")k=function(){dt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=D,k=function(){te.postMessage(null)}}else k=function(){ht(D,0)};function Gt(H,J){C=ht(function(){H(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_next=function(H){switch(L){case 1:case 2:case 3:var J=3;break;default:J=L}var lt=L;L=J;try{return H()}finally{L=lt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=L;L=H;try{return J()}finally{L=lt}},s.unstable_scheduleCallback=function(H,J,lt){var Ut=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ut+lt:Ut):lt=Ut,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=lt+Ft,H={id:b++,callback:J,priorityLevel:H,startTime:lt,expirationTime:Ft,sortIndex:-1},lt>Ut?(H.sortIndex=lt,t(_,H),i(y)===null&&H===i(_)&&(nt?(_t(C),C=-1):nt=!0,Gt(Rt,lt-Ut))):(H.sortIndex=Ft,t(y,H),tt||K||(tt=!0,vt||(vt=!0,k()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var J=L;return function(){var lt=L;L=J;try{return H.apply(this,arguments)}finally{L=lt}}}})(xd)),xd}var x_;function wb(){return x_||(x_=1,Nd.exports=Sb()),Nd.exports}var Dd={exports:{}},Ye={};var D_;function Rb(){if(D_)return Ye;D_=1;var s=gm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},Ye.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,w=p(b,_.crossOrigin),L=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:L,fetchPriority:K}):b==="script"&&a.d.X(y,{crossOrigin:w,integrity:L,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var O_;function Ib(){if(O_)return Dd.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=Rb(),Dd.exports}var M_;function Cb(){if(M_)return yl;M_=1;var s=wb(),t=gm(),i=Ib();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,L=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case Rt:return"Suspense";case vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var Gt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=Ut[Ft],Ut[Ft]=null,Ft--)}function et(e,n){Ft++,Ut[Ft]=e.current,e.current=n}var st=O(null),gt=O(null),St=O(null),kt=O(null);function Ne(e,n){switch(et(St,n),et(gt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yy(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function re(){Y(st),Y(gt),Y(St)}function ir(e){e.memoizedState!==null&&et(kt,e);var n=st.current,r=Xy(n,e.type);n!==r&&(et(gt,e),et(st,r))}function Xr(e){gt.current===e&&(Y(st),Y(gt)),kt.current===e&&(Y(kt),fl._currentValue=lt)}var $r,Zr;function Wn(e){if($r===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Zr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Zr}var ho=!1;function sr(e,n){if(!e||ho)return"";ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),j=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===j.length)for(o=N.length-1,h=j.length-1;1<=o&&0<=h&&N[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==j[h]){var G=`
`+N[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return Wn("Activity");default:return""}}function mo(e){try{var n="",r=null;do n+=fo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,$l=s.unstable_requestPaint,We=s.unstable_now,rr=s.unstable_getCurrentPriorityLevel,po=s.unstable_ImmediatePriority,go=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Zl=s.unstable_IdlePriority,Jl=s.log,Wl=s.unstable_setDisableYieldValue,Un=null,je=null;function Tn(e){if(typeof Jl=="function"&&Wl(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Un,e)}catch{}}var de=Math.clz32?Math.clz32:eu,tu=Math.log,Jr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Jr|0)|0}var ti=256,ar=262144,ve=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(g&=E,g!==0?h=ei(g):r||(r=E&~e,r!==0&&(h=ei(r))))):(E=o&~f,E!==0?h=ei(E):g!==0?h=ei(g):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-de(r),Q=1<<G;E[G]=0,N[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&lr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function lr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function yo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function _o(e,n){var r=n&-n;return r=(r&42)!==0?1:ur(r),(r&(e.suspendedLanes|n))!==0?0:r}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function jn(e,n){var r=J.p;try{return J.p=e,n()}finally{J.p=r}}var zn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+zn,ke="__reactProps$"+zn,si="__reactContainer$"+zn,Wr="__reactEvents$"+zn,Dh="__reactListeners$"+zn,su="__reactHandles$"+zn,ru="__reactResources$"+zn,ri="__reactMarker$"+zn;function ta(e){delete e[Ee],delete e[ke],delete e[Wr],delete e[Dh],delete e[su]}function ai(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=n_(e);e!==null;){if(r=e[Ee])return r;e=n_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Ee]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ri]=!0}var vo=new Set,Eo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ao={};function au(e){return _e.call(Ao,e)?!0:_e.call(bo,e)?!1:To.test(e)?Ao[e]=!0:(bo[e]=!0,!1)}function ea(e,n,r){if(au(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function sn(e){return e.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,Le(n)):r!=null?wo(e,g,Le(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function ou(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+Le(r):"",n=n!=null?""+Le(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function wo(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function as(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Le(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,r){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Le(r):""}function os(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Gt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Le(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||uu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Io(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Co=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,hi=null;function fr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&cr(o)}break t;case"textarea":lu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&as(e,!!r.multiple,n,!1)}}}var ra=!1;function cs(e,n,r){if(ra)return e(n,r);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(us!==null||hi!==null)&&(ic(),us&&(n=us,e=hi,hi=us=null,fr(n),e)))for(n=0;n<e.length;n++)fr(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ke]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Sn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{dr=!1}var fi=null,No=null,mr=null;function xo(){if(mr)return mr;var e,n=No,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Hn(){return!1}function ze(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Oi),hs=w({},Oi,{view:0,detail:0}),Do=ze(hs),fs,aa,mi,oa=w({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fs=e.screenX-mi.screenX,aa=e.screenY-mi.screenY):aa=fs=0,mi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Oo=ze(oa),gr=w({},oa,{dataTransfer:0}),hu=ze(gr),fu=w({},hs,{relatedTarget:0}),yr=ze(fu),Mo=w({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=ze(Mo),la=w({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=ze(la),pu=w({},Oi,{data:0}),pi=ze(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function ds(){return vu}var tn=w({},hs,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=ze(tn),Tu=w({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(Tu),u=w({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=ze(u),v=w({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=w({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),W=w({},Oi,{newState:0,oldState:0}),bt=ze(W),me=[9,13,27,32],zt=Sn&&"CompositionEvent"in window,ae=null;Sn&&"documentMode"in document&&(ae=document.documentMode);var wn=Sn&&"TextEvent"in window&&!ae,gi=Sn&&(!zt||ae&&8<ae&&11>=ae),Gn=" ",Fn=!1;function _r(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function FT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function QT(e,n){if(ca)return e==="compositionend"||!zt&&_r(e,n)?(e=xo(),mr=No=fi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function ap(e,n,r,o){us?hi?hi.push(o):hi=[o]:us=o,n=cc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Vo=null,ko=null;function YT(e){qy(e,0)}function bu(e){var n=fn(e);if(cr(n))return e}function op(e,n){if(e==="change")return n}var lp=!1;if(Sn){var Oh;if(Sn){var Mh="oninput"in document;if(!Mh){var up=document.createElement("div");up.setAttribute("oninput","return;"),Mh=typeof up.oninput=="function"}Oh=Mh}else Oh=!1;lp=Oh&&(!document.documentMode||9<document.documentMode)}function cp(){Vo&&(Vo.detachEvent("onpropertychange",hp),ko=Vo=null)}function hp(e){if(e.propertyName==="value"&&bu(ko)){var n=[];ap(n,ko,e,An(e)),cs(YT,n)}}function XT(e,n,r){e==="focusin"?(cp(),Vo=n,ko=r,Vo.attachEvent("onpropertychange",hp)):e==="focusout"&&cp()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(ko)}function ZT(e,n){if(e==="click")return bu(n)}function JT(e,n){if(e==="input"||e==="change")return bu(n)}function WT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:WT;function Lo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,n){var r=fp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fp(r)}}function mp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var t1=Sn&&"documentMode"in document&&11>=document.documentMode,ha=null,kh=null,Uo=null,Lh=!1;function gp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||ha==null||ha!==ci(o)||(o=ha,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Lo(Uo,o)||(Uo=o,o=cc(kh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ha)))}function vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var fa={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},Uh={},yp={};Sn&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Er(e){if(Uh[e])return Uh[e];if(!fa[e])return e;var n=fa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in yp)return Uh[e]=n[r];return e}var _p=Er("animationend"),vp=Er("animationiteration"),Ep=Er("animationstart"),e1=Er("transitionrun"),n1=Er("transitionstart"),i1=Er("transitioncancel"),Tp=Er("transitionend"),bp=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Qn(e,n){bp.set(e,n),li(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],da=0,jh=0;function Su(){for(var e=da,n=jh=da=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ap(r,h,f)}}function wu(e,n,r,o){Rn[da++]=e,Rn[da++]=n,Rn[da++]=r,Rn[da++]=o,jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,r,o){return wu(e,n,r,o),Ru(e)}function Tr(e,n){return wu(e,null,null,n),Ru(e)}function Ap(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ru(e){if(50<rl)throw rl=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function s1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new s1(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Sp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=ub(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,r,n,h),e.elementType=I,e.lanes=f,e;case nt:return br(r.children,h,f,n);case Z:g=8,h|=24;break;case ht:return e=pn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case Rt:return e=pn(13,r,n,h),e.elementType=Rt,e.lanes=f,e;case vt:return e=pn(19,r,n,h),e.elementType=vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case qt:g=11;break t;case C:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function br(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function qh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function wp(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rp=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=Rp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:mo(n)},Rp.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var pa=[],ga=0,Cu=null,Po=0,Cn=[],Nn=0,ms=null,yi=1,_i="";function ki(e,n){pa[ga++]=Po,pa[ga++]=Cu,Cu=e,Po=n}function Ip(e,n,r){Cn[Nn++]=yi,Cn[Nn++]=_i,Cn[Nn++]=ms,ms=e;var o=yi;e=_i;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-de(n)+h|r<<h|o,_i=f+e}else yi=1<<f|r<<h|o,_i=e}function Gh(e){e.return!==null&&(ki(e,1),Ip(e,1,0))}function Fh(e){for(;e===Cu;)Cu=pa[--ga],pa[ga]=null,Po=pa[--ga],pa[ga]=null;for(;e===ms;)ms=Cn[--Nn],Cn[Nn]=null,_i=Cn[--Nn],Cn[Nn]=null,yi=Cn[--Nn],Cn[Nn]=null}function Cp(e,n){Cn[Nn++]=yi,Cn[Nn++]=_i,Cn[Nn++]=ms,yi=n.id,_i=n.overflow,ms=e}var Be=null,ee=null,Vt=!1,ps=null,xn=!1,Qh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(In(n,e)),Qh}function Np(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[ke]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)Ct(ol[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),os(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Qy(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(e,!0)}function xp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function ya(e){if(e!==Be)return!1;if(!Vt)return xp(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&ee&&gs(e),xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=e_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=e_(e)}else n===27?(n=ee,xs(e.type)?(e=gd,gd=null,ee=e):ee=n):ee=Be?On(e.stateNode.nextSibling):null;return!0}function Ar(){ee=Be=null,Vt=!1}function Kh(){var e=ps;return e!==null&&(un===null?un=e:un.push.apply(un,e),ps=null),e}function jo(e){ps===null?ps=[e]:ps.push(e)}var Yh=O(null),Sr=null,Li=null;function ys(e,n,r){et(Yh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=Yh.current,Y(Yh)}function Xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Xh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){Sr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Dp(Sr,e)}function xu(e,n){return Sr===null&&wr(e),Dp(e,n)}function Dp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return r}var r1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},a1=s.unstable_scheduleCallback,o1=s.unstable_NormalPriority,Ae={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new r1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&a1(o1,function(){e.controller.abort()})}var Bo=null,Jh=0,va=0,Ea=null;function l1(e,n){if(Bo===null){var r=Bo=[];Jh=0,va=nd(),Ea={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Jh++,n.then(Op,Op),n}function Op(){if(--Jh===0&&Bo!==null){Ea!==null&&(Ea.status="fulfilled");var e=Bo;Bo=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function u1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Mp=H.S;H.S=function(e,n){gy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&l1(e,n),Mp!==null&&Mp(e,n)};var Rr=O(null);function Wh(){var e=Rr.current;return e!==null?e:Wt.pooledCache}function Du(e,n){n===null?et(Rr,Rr.current):et(Rr,n.pool)}function Vp(){var e=Wh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ta=Error(a(460)),tf=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pp(e),e}throw Cr=n,Ta}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cr=r,Ta):r}}var Cr=null;function Up(){if(Cr===null)throw Error(a(459));var e=Cr;return Cr=null,e}function Pp(e){if(e===Ta||e===Ou)throw Error(a(483))}var ba=null,qo=0;function Vu(e){var n=qo;return qo+=1,ba===null&&(ba=[]),Lp(ba,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===L?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jp(e){function n(V,x){if(e){var P=V.deletions;P===null?(V.deletions=[x],V.flags|=16):P.push(x)}}function r(V,x){if(!e)return null;for(;x!==null;)n(V,x),x=x.sibling;return null}function o(V){for(var x=new Map;V!==null;)V.key!==null?x.set(V.key,V):x.set(V.index,V),V=V.sibling;return x}function h(V,x){return V=Vi(V,x),V.index=0,V.sibling=null,V}function f(V,x,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<x?(V.flags|=67108866,x):P):(V.flags|=67108866,x)):(V.flags|=1048576,x)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,x,P,F){return x===null||x.tag!==6?(x=qh(P,V.mode,F),x.return=V,x):(x=h(x,P),x.return=V,x)}function N(V,x,P,F){var ut=P.type;return ut===nt?G(V,x,P.props.children,F,P.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Ir(ut)===x.type)?(x=h(x,P.props),Ho(x,P),x.return=V,x):(x=Iu(P.type,P.key,P.props,null,V.mode,F),Ho(x,P),x.return=V,x)}function j(V,x,P,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Hh(P,V.mode,F),x.return=V,x):(x=h(x,P.children||[]),x.return=V,x)}function G(V,x,P,F,ut){return x===null||x.tag!==7?(x=br(P,V.mode,F,ut),x.return=V,x):(x=h(x,P),x.return=V,x)}function Q(V,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=qh(""+x,V.mode,P),x.return=V,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case K:return P=Iu(x.type,x.key,x.props,null,V.mode,P),Ho(P,x),P.return=V,P;case tt:return x=Hh(x,V.mode,P),x.return=V,x;case A:return x=Ir(x),Q(V,x,P)}if(Gt(x)||k(x))return x=br(x,V.mode,P,null),x.return=V,x;if(typeof x.then=="function")return Q(V,Vu(x),P);if(x.$$typeof===dt)return Q(V,xu(V,x),P);ku(V,x)}return null}function z(V,x,P,F){var ut=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(V,x,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ut?N(V,x,P,F):null;case tt:return P.key===ut?j(V,x,P,F):null;case A:return P=Ir(P),z(V,x,P,F)}if(Gt(P)||k(P))return ut!==null?null:G(V,x,P,F,null);if(typeof P.then=="function")return z(V,x,Vu(P),F);if(P.$$typeof===dt)return z(V,x,xu(V,P),F);ku(V,P)}return null}function q(V,x,P,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(P)||null,E(x,V,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case K:return V=V.get(F.key===null?P:F.key)||null,N(x,V,F,ut);case tt:return V=V.get(F.key===null?P:F.key)||null,j(x,V,F,ut);case A:return F=Ir(F),q(V,x,P,F,ut)}if(Gt(F)||k(F))return V=V.get(P)||null,G(x,V,F,ut,null);if(typeof F.then=="function")return q(V,x,P,Vu(F),ut);if(F.$$typeof===dt)return q(V,x,P,xu(x,F),ut);ku(x,F)}return null}function rt(V,x,P,F){for(var ut=null,Pt=null,at=x,wt=x=0,xt=null;at!==null&&wt<P.length;wt++){at.index>wt?(xt=at,at=null):xt=at.sibling;var jt=z(V,at,P[wt],F);if(jt===null){at===null&&(at=xt);break}e&&at&&jt.alternate===null&&n(V,at),x=f(jt,x,wt),Pt===null?ut=jt:Pt.sibling=jt,Pt=jt,at=xt}if(wt===P.length)return r(V,at),Vt&&ki(V,wt),ut;if(at===null){for(;wt<P.length;wt++)at=Q(V,P[wt],F),at!==null&&(x=f(at,x,wt),Pt===null?ut=at:Pt.sibling=at,Pt=at);return Vt&&ki(V,wt),ut}for(at=o(at);wt<P.length;wt++)xt=q(at,V,wt,P[wt],F),xt!==null&&(e&&xt.alternate!==null&&at.delete(xt.key===null?wt:xt.key),x=f(xt,x,wt),Pt===null?ut=xt:Pt.sibling=xt,Pt=xt);return e&&at.forEach(function(ks){return n(V,ks)}),Vt&&ki(V,wt),ut}function ft(V,x,P,F){if(P==null)throw Error(a(151));for(var ut=null,Pt=null,at=x,wt=x=0,xt=null,jt=P.next();at!==null&&!jt.done;wt++,jt=P.next()){at.index>wt?(xt=at,at=null):xt=at.sibling;var ks=z(V,at,jt.value,F);if(ks===null){at===null&&(at=xt);break}e&&at&&ks.alternate===null&&n(V,at),x=f(ks,x,wt),Pt===null?ut=ks:Pt.sibling=ks,Pt=ks,at=xt}if(jt.done)return r(V,at),Vt&&ki(V,wt),ut;if(at===null){for(;!jt.done;wt++,jt=P.next())jt=Q(V,jt.value,F),jt!==null&&(x=f(jt,x,wt),Pt===null?ut=jt:Pt.sibling=jt,Pt=jt);return Vt&&ki(V,wt),ut}for(at=o(at);!jt.done;wt++,jt=P.next())jt=q(at,V,wt,jt.value,F),jt!==null&&(e&&jt.alternate!==null&&at.delete(jt.key===null?wt:jt.key),x=f(jt,x,wt),Pt===null?ut=jt:Pt.sibling=jt,Pt=jt);return e&&at.forEach(function(Eb){return n(V,Eb)}),Vt&&ki(V,wt),ut}function Jt(V,x,P,F){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:t:{for(var ut=P.key;x!==null;){if(x.key===ut){if(ut=P.type,ut===nt){if(x.tag===7){r(V,x.sibling),F=h(x,P.props.children),F.return=V,V=F;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Ir(ut)===x.type){r(V,x.sibling),F=h(x,P.props),Ho(F,P),F.return=V,V=F;break t}r(V,x);break}else n(V,x);x=x.sibling}P.type===nt?(F=br(P.props.children,V.mode,F,P.key),F.return=V,V=F):(F=Iu(P.type,P.key,P.props,null,V.mode,F),Ho(F,P),F.return=V,V=F)}return g(V);case tt:t:{for(ut=P.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){r(V,x.sibling),F=h(x,P.children||[]),F.return=V,V=F;break t}else{r(V,x);break}else n(V,x);x=x.sibling}F=Hh(P,V.mode,F),F.return=V,V=F}return g(V);case A:return P=Ir(P),Jt(V,x,P,F)}if(Gt(P))return rt(V,x,P,F);if(k(P)){if(ut=k(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),ft(V,x,P,F)}if(typeof P.then=="function")return Jt(V,x,Vu(P),F);if(P.$$typeof===dt)return Jt(V,x,xu(V,P),F);ku(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(r(V,x.sibling),F=h(x,P),F.return=V,V=F):(r(V,x),F=qh(P,V.mode,F),F.return=V,V=F),g(V)):r(V,x)}return function(V,x,P,F){try{qo=0;var ut=Jt(V,x,P,F);return ba=null,ut}catch(at){if(at===Ta||at===Ou)throw at;var Pt=pn(29,at,null,V.mode);return Pt.lanes=F,Pt.return=V,Pt}}}var Nr=jp(!0),zp=jp(!1),_s=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Ap(e,null,r),n}return wu(e,o,n,r),Ru(e)}function Go(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rf=!1;function Fo(){if(rf){var e=Ea;if(e!==null)throw e}}function Qo(e,n,r,o){rf=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,j=N.next;N.next=null,g===null?f=j:g.next=j,g=N;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=N))}if(f!==null){var Q=h.baseState;g=0,G=j=N=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Nt&z)===z:(o&z)===z){z!==0&&z===va&&(rf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;z=n;var Jt=r;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){Q=rt.call(Jt,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,z=typeof rt=="function"?rt.call(Jt,Q,z):rt,z==null)break t;Q=w({},Q,z);break t;case 2:_s=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,N=Q):G=G.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(N=Q),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=Q}}function Bp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Bp(r[e],n)}var Aa=O(null),Lu=O(0);function Hp(e,n){e=Qi,et(Lu,e),et(Aa,n),Qi=e|n.baseLanes}function af(){et(Lu,Qi),et(Aa,Aa.current)}function of(){Qi=Lu.current,Y(Aa),Y(Lu)}var gn=O(null),Dn=null;function Ts(e){var n=e.alternate;et(pe,pe.current&1),et(gn,e),Dn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Dn=e)}function lf(e){et(pe,pe.current),et(gn,e),Dn===null&&(Dn=e)}function Gp(e){e.tag===22?(et(pe,pe.current),et(gn,e),Dn===null&&(Dn=e)):bs()}function bs(){et(pe,pe.current),et(gn,gn.current)}function yn(e){Y(gn),Dn===e&&(Dn=null),Y(pe)}var pe=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,$t=null,Se=null,Pu=!1,Sa=!1,xr=!1,ju=0,Ko=0,wa=null,c1=0;function ce(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function cf(e,n,r,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ig:wf,xr=!1,f=r(o,h),xr=!1,Sa&&(f=Qp(n,r,o,h)),Fp(e),f}function Fp(e){H.H=$o;var n=$t!==null&&$t.next!==null;if(Pi=0,Se=$t=At=null,Pu=!1,Ko=0,wa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function Qp(e,n,r,o){At=e;var h=0;do{if(Sa&&(wa=null),Ko=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Cg,f=n(r,o)}while(Sa);return f}function h1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),n}function hf(){var e=ju!==0;return ju=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Pi=0,Se=$t=At=null,Sa=!1,Ko=ju=0,wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,wa===null&&(wa=[]),e=Lp(wa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ig:wf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===dt)return qe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function ji(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=ge();return pf(n,$t,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,N=null,j=n,G=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(Nt&Q)===Q:(Pi&Q)===Q){var z=j.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===va&&(G=!0);else if((Pi&z)===z){j=j.next,z===va&&(G=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=Q,g=f):N=N.next=Q,At.lanes|=z,ws|=z;Q=j.action,xr&&r(f,Q),f=j.hasEagerState?j.eagerState:r(f,Q)}else z={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=z,g=f):N=N.next=z,At.lanes|=Q,ws|=Q;j=j.next}while(j!==null&&j!==n);if(N===null?g=f:N.next=E,!mn(f,e.memoizedState)&&(we=!0,G&&(r=Ea,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Kp(e,n,r){var o=At,h=ge(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn(($t||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,vf($p.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},Xp.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Pi&127)!==0||Yp(o,n,r)}return r}function Yp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Xp(e,n,r,o){n.value=r,n.getSnapshot=o,Zp(n)&&Jp(e)}function $p(e,n,r){return r(function(){Zp(n)&&Jp(e)})}function Zp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function Jp(e){var n=Tr(e,2);n!==null&&cn(n,e,2)}function yf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),xr){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function Wp(e,n,r,o){return e.baseState=r,pf(e,$t,typeof o=="function"?o:ji)}function f1(e,n,r,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,tg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function tg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),N=H.S;N!==null&&N(g,E),eg(e,n,E)}catch(j){_f(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),eg(e,n,f)}catch(j){_f(e,n,j)}}function eg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ng(e,n,o)},function(o){return _f(e,n,o)}):ng(e,n,r)}function ng(e,n,r){n.status="fulfilled",n.value=r,ig(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,tg(e,r)))}function _f(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ig(n),n=n.next;while(n!==o)}e.action=null}function ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sg(e,n){return n}function rg(e,n){if(Vt){var r=Wt.formState;if(r!==null){t:{var o=At;if(Vt){if(ee){e:{for(var h=ee,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=On(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},r.queue=o,r=Sg.bind(null,At,o),o.dispatch=r,o=yf(!1),f=Sf.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=f1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ag(e){var n=ge();return og(n,$t,e)}function og(e,n,r){if(n=pf(e,n,sg)[0],e=qu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Ta?Ou:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Ra(9,{destroy:void 0},d1.bind(null,h,r),null)),[o,f,e]}function d1(e,n){e.action=n}function lg(e){var n=ge(),r=$t;if(r!==null)return og(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ra(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function ug(){return ge().memoizedState}function Hu(e,n,r,o){var h=en();At.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},r,o===void 0?null:o)}function Gu(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&uf(o,$t.memoizedState.deps)?h.memoizedState=Ra(n,f,r,o):(At.flags|=e,h.memoizedState=Ra(1|n,f,r,o))}function cg(e,n){Hu(8390656,8,e,n)}function vf(e,n){Gu(2048,8,e,n)}function m1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function hg(e){var n=ge().memoizedState;return m1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function fg(e,n){return Gu(4,2,e,n)}function dg(e,n){return Gu(4,4,e,n)}function mg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pg(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,mg.bind(null,n,e),r)}function Ef(){}function gg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function yg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),xr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function Tf(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=_y(),At.lanes|=e,ws|=e,r)}function _g(e,n,r,o){return mn(r,n)?r:Aa.current!==null?(e=Tf(e,r,o),mn(e,n)||(we=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Nt&261930)===0?(we=!0,e.memoizedState=r):(e=_y(),At.lanes|=e,ws|=e,n)}function vg(e,n,r,o,h){var f=J.p;J.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Sf(e,!1,n,r);try{var N=h(),j=H.S;if(j!==null&&j(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=u1(N,o);Xo(e,n,G,En(e))}else Xo(e,n,o,En(e))}catch(Q){Xo(e,n,{then:function(){},status:"rejected",reason:Q},En())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function p1(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Eg(e).queue;vg(e,h,n,lt,r===null?p1:function(){return Tg(e),r(o)})}function Eg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tg(e){var n=Eg(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},En())}function Af(){return qe(fl)}function bg(){return ge().memoizedState}function Ag(){return ge().memoizedState}function g1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=vs(r);var o=Es(n,e,r);o!==null&&(cn(o,n,r),Go(o,n,r)),n={cache:Zh()},e.payload=n;return}n=n.return}}function y1(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(e)?wg(n,r):(r=zh(e,n,r,o),r!==null&&(cn(r,e,o),Rg(r,n,o)))}function Sg(e,n,r){var o=En();Xo(e,n,r,o)}function Xo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))wg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return wu(e,n,h,0),Wt===null&&Su(),!1}catch{}if(r=zh(e,n,h,o),r!==null)return cn(r,e,o),Rg(r,n,o),!0}return!1}function Sf(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=zh(e,r,o,2),n!==null&&cn(n,e,2)}function Fu(e){var n=e.alternate;return e===At||n!==null&&n===At}function wg(e,n){Sa=Pu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Rg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}var $o={readContext:qe,use:Bu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};$o.useEffectEvent=ce;var Ig={readContext:qe,use:Bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:cg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,mg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(xr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(xr){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=y1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=Sg.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=en();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=vg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=en();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||Yp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,cg($p.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},Xp.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Vt){var r=_i,o=yi;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=c1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:rg,useActionState:rg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return en().memoizedState=g1.bind(null,At)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:qe,use:Bu,useCallback:gg,useContext:qe,useEffect:vf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:qu,useRef:ug,useState:function(){return qu(ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ge();return _g(r,$t.memoizedState,e,n)},useTransition:function(){var e=qu(ji)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:Kp,useId:bg,useHostTransitionStatus:Af,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var r=ge();return Wp(r,$t,e,n)},useMemoCache:mf,useCacheRefresh:Ag};wf.useEffectEvent=hg;var Cg={readContext:qe,use:Bu,useCallback:gg,useContext:qe,useEffect:vf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:gf,useRef:ug,useState:function(){return gf(ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ge();return $t===null?Tf(r,e,n):_g(r,$t.memoizedState,e,n)},useTransition:function(){var e=gf(ji)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:Kp,useId:bg,useHostTransitionStatus:Af,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var r=ge();return $t!==null?Wp(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Ag};Cg.useEffectEvent=hg;function Rf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(cn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(cn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=vs(r);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,r),n!==null&&(cn(n,e,r),Go(n,e,r))}};function Ng(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,o)||!Lo(h,f):!0}function xg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Dg(e){Au(e)}function Og(e){console.error(e)}function Mg(e){Au(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function kg(e){return e=vs(e),e.tag=3,e}function Lg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Vg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Vg(n,r,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&_a(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?sc():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),sc(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),jo(In(e,r)))):(o!==Qh&&(n=Error(a(423),{cause:o}),jo(In(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=Cf(e.stateNode,o,h),sf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,r),sl===null?sl=[f]:sl.push(f),he!==4&&(he=2),n===null)return!0;o=In(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=kg(h),Lg(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),we=!1;function He(e,n,r,o){n.child=e===null?zp(n,null,r,o):Nr(n,e.child,r,o)}function Ug(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return wr(n),o=cf(e,n,r,g,f,h),E=hf(),e!==null&&!we?(ff(e,n,h),zi(e,n,h)):(Vt&&E&&Gh(n),n.flags|=1,He(e,n,o,h),n.child)}function Pg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jg(e,n,f,o,h)):(e=Iu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function jg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,zi(e,n,h)}return xf(e,n,r,o,h)}function zg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Bg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Hp(n,f):af(),Gp(n);else return o=n.lanes=536870912,Bg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Du(n,f.cachePool),Hp(n,f),bs(),n.memoizedState=null):(e!==null&&Du(n,null),af(),bs());return He(e,n,h,r),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bg(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Du(n,null),af(),Gp(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qg(e,n,r){return Nr(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function v1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Zo(null,e);if(lf(n),(e=ee)?(e=t_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=wp(e),r.return=n,n.child=r,Be=n,ee=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=qg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||_a(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(g=_o(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(e,g),cn(o,e,g),Nf;sc(),n=qg(e,n,r)}else e=f.treeContext,ee=On(g.nextSibling),Be=n,Vt=!0,ps=null,xn=!1,e!==null&&Cp(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xf(e,n,r,o,h){return wr(n),r=cf(e,n,r,o,void 0,h),o=hf(),e!==null&&!we?(ff(e,n,h),zi(e,n,h)):(Vt&&o&&Gh(n),n.flags|=1,He(e,n,r,h),n.child)}function Hg(e,n,r,o,h,f){return wr(n),n.updateQueue=null,r=Qp(n,o,r,h),Fp(e),o=hf(),e!==null&&!we?(ff(e,n,f),zi(e,n,f)):(Vt&&o&&Gh(n),n.flags|=1,He(e,n,r,f),n.child)}function Gg(e,n,r,o,h){if(wr(n),n.stateNode===null){var f=ma,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ma,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=Dr(r,E);f.props=N;var j=f.context,G=r.contextType;g=ma,typeof G=="object"&&G!==null&&(g=qe(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&xg(n,f,o,g),_s=!1;var z=n.memoizedState;f.state=z,Qo(n,o,f,h),Fo(),j=n.memoizedState,E||z!==j||_s?(typeof Q=="function"&&(Rf(n,r,Q,o),j=n.memoizedState),(N=_s||Ng(n,r,N,o,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),g=n.memoizedProps,G=Dr(r,g),f.props=G,Q=n.pendingProps,z=f.context,j=r.contextType,N=ma,typeof j=="object"&&j!==null&&(N=qe(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==N)&&xg(n,f,o,N),_s=!1,z=n.memoizedState,f.state=z,Qo(n,o,f,h),Fo();var q=n.memoizedState;g!==Q||z!==q||_s||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,o),q=n.memoizedState),(G=_s||Ng(n,r,G,o,z,q,N)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=N,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,h),n.child=Nr(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Fg(e,n,r,o){return Ar(),n.flags|=256,He(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Vp()}}function Mf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function Qg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Ts(n):bs(),(e=ee)?(e=t_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=wp(e),r.return=n,n.child=r,Be=n,ee=null)):e=null,e===null)throw gs(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=br(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,g,r),n.memoizedState=Df,Zo(null,o)):(Ts(n),Vf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=br(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,g,r),n.memoizedState=Df,n=Zo(null,o));else if(Ts(n),pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,jo({value:o,source:null,stack:null}),n=kf(e,n,r)}else if(we||_a(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(o=_o(g,r),o!==0&&o!==N.retryLane))throw N.retryLane=o,Tr(e,o),cn(g,e,o),Nf;md(E)||sc(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ee=On(E.nextSibling),Be=n,Vt=!0,ps=null,xn=!1,e!==null&&Cp(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,N=e.child,j=N.sibling,o=Vi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,j!==null?E=Vi(j,E):(E=br(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(N=Ae._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Vp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,g,r),n.memoizedState=Df,Zo(e.child,o)):(Ts(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Vf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return Nr(n,e.child,null,r),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,r)}function Lf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Yg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(pe,g),He(e,n,o,r),o=Vt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,r,n);else if(e.tag===19)Kg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Uu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(_a(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function E1(e,n,r){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),ys(n,Ae,e.memoizedState.cache),Ar();break;case 27:case 5:ir(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Qg(e,n,r):(Ts(n),e=zi(e,n,r),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(_a(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Yg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(pe,pe.current),o)break;return null;case 22:return n.lanes=0,zg(e,n,r,n.pendingProps);case 24:ys(n,Ae,e.memoizedState.cache)}return zi(e,n,r)}function Xg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return we=!1,E1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&Ip(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Dr(e,o),n.tag=1,n=Gg(null,n,e,o,r)):(n.tag=0,n=xf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Ug(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Pg(null,n,e,o,r);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Dr(o,n.pendingProps),Gg(e,n,o,h,r);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Qo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,ys(n,Ae,o),o!==f.cache&&$h(n,[Ae],r,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fg(e,n,o,r);break t}else if(o!==h){h=In(Error(a(424)),n),jo(h),n=Fg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=On(e.firstChild),Be=n,Vt=!0,ps=null,xn=!0,r=zp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ar(),o===h){n=zi(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Yu(e,n),e===null?(r=a_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=hc(St.current).createElement(r),o[Ee]=n,o[ke]=e,Ge(o,r,e),Te(o),n.stateNode=o):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ir(n),e===null&&Vt&&(o=n.stateNode=i_(n.type,n.pendingProps,St.current),Be=n,xn=!0,h=ee,xs(n.type)?(gd=h,ee=On(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,r),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ee)&&(o=$1(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,Be=n,ee=On(o.firstChild),xn=!1,h=!0):h=!1),h||gs(n)),ir(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:g!==null&&hd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,h1,null,null,r),fl._currentValue=h),Yu(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=ee)&&(r=Z1(r,n.pendingProps,xn),r!==null?(n.stateNode=r,Be=n,ee=null,e=!0):e=!1),e||gs(n)),null;case 13:return Qg(e,n,r);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,r):He(e,n,o,r),n.child;case 11:return Ug(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Pg(e,n,n.type,n.pendingProps,r);case 15:return jg(e,n,n.type,n.pendingProps,r);case 19:return Yg(e,n,r);case 31:return v1(e,n,r);case 22:return zg(e,n,r,n.pendingProps);case 24:return wr(n),o=qe(Ae),e===null?(h=Wh(),h===null&&(h=Wt,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ef(n),ys(n,Ae,h)):((e.lanes&r)!==0&&(nf(e,n),Qo(n,null,null,r),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Ae,o)):(o=f.cache,ys(n,Ae,o),o!==h.cache&&$h(n,[Ae],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Pf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(by())e.flags|=8192;else throw Cr=Mu,tf}else e.flags&=-16777217}function $g(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h_(n))if(by())e.flags|=8192;else throw Cr=Mu,tf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,xa|=n)}function Jo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function T1(e,n,r){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ae),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ne(n),$g(n,f)):(ne(n),Pf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ne(n),$g(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ne(n),Pf(n,h,e,o,r)),null;case 27:if(Xr(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=st.current,ya(n)?Np(n):(e=i_(h,o,r),n.stateNode=e,Bi(n))}return ne(n),null;case 5:if(Xr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=st.current,ya(n))Np(n);else{var g=hc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ne(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,ya(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Qy(e.nodeValue,r)),e||gs(n,!0)}else e=hc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&ad(n.stateNode.containerInfo),ne(n),null;case 10:return Ui(n.type),ne(n),null;case 19:if(Y(pe),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Sp(r,e),r=r.sibling;return et(pe,pe.current&1|2),Vt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ec&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*We()-o.renderingStartTime>ec&&r!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=pe.current,et(pe,h?r&1|2:r&1),Vt&&ki(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Rr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function b1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),of(),e!==null&&Y(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function Zg(e,n){switch(Fh(n),n.tag){case 3:Ui(Ae),re();break;case 26:case 27:case 5:Xr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(pe);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),of(),e!==null&&Y(Rr);break;case 24:Ui(Ae)}}function Wo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function As(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=r,j=E;try{j()}catch(G){Yt(h,N,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function Jg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{qp(n,r)}catch(o){Yt(e,e.return,o)}}}function Wg(e,n,r){r.props=Dr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function tl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function ty(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function jf(e,n,r){try{var o=e.stateNode;G1(o,e.type,r,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function Zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function ny(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,r),n[Ee]=e,n[ke]=r}catch(f){Yt(e,e.return,f)}}var qi=!1,Re=!1,qf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function A1(e,n){if(e=e.containerInfo,ud=_c,e=pp(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,N=-1,j=0,G=0,Q=e,z=null;e:for(;;){for(var q;Q!==r||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(N=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===r&&++j===h&&(E=g),z===f&&++G===o&&(N=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},_c=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=Dr(r.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Yt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function sy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(e,r),o&4&&Wo(5,r);break;case 1:if(Gi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Dr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}o&64&&Jg(r),o&512&&tl(r,r.return);break;case 3:if(Gi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qp(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&o&4&&ny(r);case 26:case 5:Gi(e,r),n===null&&o&4&&ty(r),o&512&&tl(r,r.return);break;case 12:Gi(e,r);break;case 31:Gi(e,r),o&4&&oy(e,r);break;case 13:Gi(e,r),o&4&&ly(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=O1.bind(null,r),J1(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Re,h=qi;var f=Re;qi=o,(Re=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Gi(e,r),qi=h,Re=f}break;case 30:break;default:Gi(e,r)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Hi(e,n,r){for(r=r.child;r!==null;)ay(e,n,r),r=r.sibling}function ay(e,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Re||vi(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||vi(r,n);var o=oe,h=an;xs(r.type)&&(oe=r.stateNode,an=!1),Hi(e,n,r),ul(r.stateNode),oe=o,an=h;break;case 5:Re||vi(r,n);case 6:if(o=oe,h=an,oe=null,Hi(e,n,r),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:oe!==null&&(an?(e=oe,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pa(e)):Jy(oe,r.stateNode));break;case 4:o=oe,h=an,oe=r.stateNode.containerInfo,an=!0,Hi(e,n,r),oe=o,an=h;break;case 0:case 11:case 14:case 15:As(2,r,n),Re||As(4,r,n),Hi(e,n,r);break;case 1:Re||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Wg(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Hi(e,n,r),Re=o;break;default:Hi(e,n,r)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(r){Yt(n,n.return,r)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(r){Yt(n,n.return,r)}}function S1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var r=S1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=M1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));ay(f,g,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var Kn=null;function uy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(As(3,e,e.return),Wo(3,e),As(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=u_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;case"meta":if(g=u_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else c_(h,e.type,e.stateNode);else e.stateNode=l_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?c_(h,e.type,e.stateNode):l_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),r!==null&&o&4&&jf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(mc=null,h=Kn,Kn=fc(n.containerInfo),on(n,e),Kn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}qf&&(qf=!1,cy(e));break;case 4:o=Kn,Kn=fc(e.stateNode.containerInfo),on(n,e),ln(e),Kn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,j=qi,G=Re;if(qi=j||h,Re=G||N,on(n,e),Re=G,qi=j,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||qi||Re||Or(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Q=N.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===18){if(r===null){N=n;try{var q=N.stateNode;h?Wy(q,!0):Wy(N.stateNode,!1)}catch(rt){Yt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ju(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(e);Zu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var E=zf(e);Zu(e,E,g);break;case 3:case 4:var N=r.stateNode.containerInfo,j=zf(e);Bf(e,j,N);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Or(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Wg(n,n.return,r),Or(n);break;case 27:ul(n.stateNode);case 26:case 5:vi(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Wo(4,f);break;case 1:if(Fi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Bp(N[h],E)}catch(j){Yt(o,o.return,j)}}r&&g&64&&Jg(f),tl(f,f.return);break;case 27:ny(f);case 26:case 5:Fi(h,f,r),r&&o===null&&g&4&&ty(f),tl(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&oy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),tl(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Hf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zo(r))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,r,o),n=n.sibling}function hy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&Wo(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Yt(n,n.return,N)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):el(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,Ia(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&Gf(n.alternate,n);break;default:Yn(e,n,r,o)}}function Ia(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,N=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,E,N,h),Wo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ia(f,g,E,N,h):el(f,g):(G._visibility|=2,Ia(f,g,E,N,h)),h&&j&2048&&Hf(g.alternate,g);break;case 24:Ia(f,g,E,N,h),h&&j&2048&&Gf(g.alternate,g);break;default:Ia(f,g,E,N,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:el(r,o),h&2048&&Hf(o.alternate,o);break;case 24:el(r,o),h&2048&&Gf(o.alternate,o);break;default:el(r,o)}n=n.sibling}}var nl=8192;function Ca(e,n,r){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)fy(e,n,r),e=e.sibling}function fy(e,n,r){switch(e.tag){case 26:Ca(e,n,r),e.flags&nl&&e.memoizedState!==null&&cb(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,r);break;case 3:case 4:var o=Kn;Kn=fc(e.stateNode.containerInfo),Ca(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Ca(e,n,r),nl=o):Ca(e,n,r));break;default:Ca(e,n,r)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,py(o,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&As(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):il(e);break;default:il(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,py(o,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function py(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:As(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(ry(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var w1={getCacheForType:function(e){var n=qe(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Ae).controller.signal}},R1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Wt=null,It=null,Nt=0,Kt=0,_n=null,Ss=!1,Na=!1,Ff=!1,Qi=0,he=0,ws=0,Mr=0,Qf=0,vn=0,xa=0,sl=null,un=null,Kf=!1,tc=0,gy=0,ec=1/0,nc=null,Rs=null,De=0,Is=null,Da=null,Ki=0,Yf=0,Xf=null,yy=null,rl=0,$f=null;function En(){return(Bt&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?nd():iu()}function _y(){if(vn===0)if((Nt&536870912)===0||Vt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function cn(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Cs(e,Nt,vn,!1)),or(e,r),((Bt&2)===0||e!==Wt)&&(e===Wt&&((Bt&2)===0&&(Mr|=r),he===4&&Cs(e,Nt,vn,!1)),Ei(e))}function vy(e,n,r){if((Bt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?N1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Na&&!o&&Cs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!I1(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=sl;var N=E.current.memoizedState.isDehydrated;if(N&&(Oa(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!N){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,vn,!Ss);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-We(),10<h)){if(Cs(o,n,vn,!Ss),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=$y(Ey.bind(null,o,r,un,nc,Kf,n,vn,Mr,xa,Ss,f,"Throttled",-0,0),h);break t}Ey(o,r,un,nc,Kf,n,vn,Mr,xa,Ss,f,null,-0,0)}}break}while(!0);Ei(e)}function Ey(e,n,r,o,h,f,g,E,N,j,G,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},fy(n,f,Q);var rt=(f&62914560)===f?tc-We():(f&4194048)===f?gy-We():0;if(rt=hb(Q,rt),rt!==null){Ki=f,e.cancelPendingCommit=rt(Cy.bind(null,e,n,f,r,o,h,g,E,N,G,Q,null,z,q)),Cs(e,f,g,!j);return}}Cy(e,n,f,r,o,h,g,E,N)}function I1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,r,o){n&=~Qf,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&lr(e,r,n)}function ic(){return(Bt&6)===0?(al(0),!1):!0}function Zf(){if(It!==null){if(Kt===0)var e=It.return;else e=It,Li=Sr=null,df(e),ba=null,qo=0,e=It;for(;e!==null;)Zg(e.alternate,e),e=e.return;It=null}}function Oa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,K1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,Zf(),Wt=e,It=r=Vi(e.current,null),Nt=n,Kt=0,_n=null,Ss=!1,Na=Pn(e,n),Ff=!1,xa=vn=Qf=Mr=ws=he=0,un=sl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Su(),r}function Ty(e,n){At=null,H.H=$o,n===Ta||n===Ou?(n=Up(),Kt=3):n===tf?(n=Up(),Kt=4):Kt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(he=1,Qu(e,In(n,e.current)))}function by(){var e=gn.current;return e===null?!0:(Nt&4194048)===Nt?Dn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Dn:!1}function Ay(){var e=H.H;return H.H=$o,e===null?$o:e}function Sy(){var e=H.A;return H.A=w1,e}function sc(){he=4,Ss||(Nt&4194048)!==Nt&&gn.current!==null||(Na=!0),(ws&134217727)===0&&(Mr&134217727)===0||Wt===null||Cs(Wt,Nt,vn,!1)}function Jf(e,n,r){var o=Bt;Bt|=2;var h=Ay(),f=Sy();(Wt!==e||Nt!==n)&&(nc=null,Oa(e,n)),n=!1;var g=he;t:do try{if(Kt!==0&&It!==null){var E=It,N=_n;switch(Kt){case 8:Zf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Kt;if(Kt=0,_n=null,Ma(e,E,N,j),r&&Na){g=0;break t}break;default:j=Kt,Kt=0,_n=null,Ma(e,E,N,j)}}C1(),g=he;break}catch(G){Ty(e,G)}while(!0);return n&&e.shellSuspendCounter++,Li=Sr=null,Bt=o,H.H=h,H.A=f,It===null&&(Wt=null,Nt=0,Su()),g}function C1(){for(;It!==null;)wy(It)}function N1(e,n){var r=Bt;Bt|=2;var o=Ay(),h=Sy();Wt!==e||Nt!==n?(nc=null,ec=We()+500,Oa(e,n)):Na=Pn(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Ma(e,n,f,1);break;case 2:case 9:if(kp(f)){Kt=0,_n=null,Ry(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:kp(f)?(Kt=0,_n=null,Ry(n)):(Kt=0,_n=null,Ma(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?h_(g):E.stateNode.complete){Kt=0,_n=null;var N=E.sibling;if(N!==null)It=N;else{var j=E.return;j!==null?(It=j,rc(j)):It=null}break e}}Kt=0,_n=null,Ma(e,n,f,5);break;case 6:Kt=0,_n=null,Ma(e,n,f,6);break;case 8:Zf(),he=6;break t;default:throw Error(a(462))}}x1();break}catch(G){Ty(e,G)}while(!0);return Li=Sr=null,H.H=o,H.A=h,Bt=r,It!==null?0:(Wt=null,Nt=0,Su(),he)}function x1(){for(;It!==null&&!Ih();)wy(It)}function wy(e){var n=Xg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Ry(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Hg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Hg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:df(n);default:Zg(r,n),n=It=Sp(n,Qi),n=Xg(r,n,Qi)}e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Ma(e,n,r,o){Li=Sr=null,df(n),ba=null,qo=0;var h=n.return;try{if(_1(e,h,n,r,Nt)){he=1,Qu(e,In(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;he=1,Qu(e,In(r,e.current)),It=null;return}n.flags&32768?(Vt||o===1?e=!0:Na||(Nt&536870912)!==0?e=!1:(Ss=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,Ss);return}e=n.return;var r=T1(n.alternate,n,Qi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);he===0&&(he=5)}function Iy(e,n){do{var r=b1(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);he=6,It=null}function Cy(e,n,r,o,h,f,g,E,N){e.cancelPendingCommit=null;do ac();while(De!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,xh(e,r,f,g,E,N),e===Wt&&(It=Wt=null,Nt=0),Da=n,Is=e,Ki=r,Yf=f,Xf=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V1(ss,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=J.p,J.p=2,g=Bt,Bt|=4;try{A1(e,n,r)}finally{Bt=g,J.p=h,H.T=o}}De=1,Ny(),xy(),Dy()}}function Ny(){if(De===1){De=0;var e=Is,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=J.p;J.p=2;var h=Bt;Bt|=4;try{uy(n,e);var f=cd,g=pp(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&mp(E.ownerDocument.documentElement,E)){if(N!==null&&Vh(E)){var j=N.start,G=N.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),rt=E.textContent.length,ft=Math.min(N.start,rt),Jt=N.end===void 0?ft:Math.min(N.end,rt);!q.extend&&ft>Jt&&(g=Jt,Jt=ft,ft=g);var V=dp(E,ft),x=dp(E,Jt);if(V&&x&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=Q.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),ft>Jt?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}_c=!!ud,cd=ud=null}finally{Bt=h,J.p=o,H.T=r}}e.current=n,De=2}}function xy(){if(De===2){De=0;var e=Is,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=J.p;J.p=2;var h=Bt;Bt|=4;try{sy(e,n.alternate,n)}finally{Bt=h,J.p=o,H.T=r}}De=3}}function Dy(){if(De===4||De===3){De=0,$l();var e=Is,n=Da,r=Ki,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Da=Is=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),xi(r),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=J.p,J.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,J.p=h}}(Ki&3)!==0&&ac(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?rl++:(rl=0,$f=e):rl=0,al(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function ac(){return Ny(),xy(),Dy(),My()}function My(){if(De!==5)return!1;var e=Is,n=Yf;Yf=0;var r=xi(Ki),o=H.T,h=J.p;try{J.p=32>r?32:r,H.T=null,r=Xf,Xf=null;var f=Is,g=Ki;if(De=0,Da=Is=null,Ki=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,my(f.current),hy(f,f.current,g,r),Bt=E,al(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{J.p=h,H.T=o,Oy(e,n)}}function Vy(e,n,r){n=In(r,n),n=Cf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(or(e,2),Ei(e))}function Yt(e,n,r){if(e.tag===3)Vy(e,e,r);else for(;n!==null;){if(n.tag===3){Vy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=In(r,e),r=kg(2),o=Es(n,r,2),o!==null&&(Lg(r,o,n,e),or(o,2),Ei(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new R1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Ff=!0,h.add(r),e=D1.bind(null,e,n,r),n.then(e,e))}function D1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Nt&r)===r&&(he===4||he===3&&(Nt&62914560)===Nt&&300>We()-tc?(Bt&2)===0&&Oa(e,0):Qf|=r,xa===Nt&&(xa=0)),Ei(e)}function ky(e,n){n===0&&(n=nu()),e=Tr(e,n),e!==null&&(or(e,n),Ei(e))}function O1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),ky(e,r)}function M1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ky(e,r)}function V1(e,n){return xe(e,n)}var oc=null,Va=null,td=!1,lc=!1,ed=!1,Ns=0;function Ei(e){e!==Va&&e.next===null&&(Va===null?oc=Va=e:Va=Va.next=e),lc=!0,td||(td=!0,L1())}function al(e,n){if(!ed&&lc){ed=!0;do for(var r=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jy(o,f))}else f=Nt,f=ni(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,jy(o,f));o=o.next}while(r);ed=!1}}function k1(){Ly()}function Ly(){lc=td=!1;var e=0;Ns!==0&&Q1()&&(e=Ns);for(var n=We(),r=null,o=oc;o!==null;){var h=o.next,f=Uy(o,n);f===0?(o.next=null,r===null?oc=h:r.next=h,h===null&&(Va=r)):(r=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}De!==0&&De!==5||al(e),Ns!==0&&(Ns=0)}function Uy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,N=h[g];N===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Nh(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Nt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&is(o),xi(r)){case 2:case 8:r=go;break;case 32:r=ss;break;case 268435456:r=Zl;break;default:r=ss}return o=Py.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ac()&&e.callbackNode!==r)return null;var o=Nt;return o=ni(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vy(e,o,n),Uy(e,We()),e.callbackNode!=null&&e.callbackNode===r?Py.bind(null,e):null)}function jy(e,n){if(ac())return null;vy(e,n,!0)}function L1(){Y1(function(){(Bt&6)!==0?xe(po,k1):Ly()})}function nd(){if(Ns===0){var e=va;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ns=e}return Ns}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function By(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function U1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=zy((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var N=g?By(h,g):new FormData(h);bf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?By(h,g):new FormData(h),bf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],P1=sd.toLowerCase(),j1=sd[0].toUpperCase()+sd.slice(1);Qn(P1,"on"+j1)}Qn(_p,"onAnimationEnd"),Qn(vp,"onAnimationIteration"),Qn(Ep,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(e1,"onTransitionRun"),Qn(n1,"onTransitionStart"),Qn(i1,"onTransitionCancel"),Qn(Tp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function qy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],N=E.instance,j=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=N}else for(g=0;g<o.length;g++){if(E=o[g],N=E.instance,j=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=N}}}}function Ct(e,n){var r=n[Wr];r===void 0&&(r=n[Wr]=new Set);var o=e+"__bubble";r.has(o)||(Hy(n,e,2,!1),r.add(o))}function rd(e,n,r){var o=0;n&&(o|=4),Hy(r,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[uc]){e[uc]=!0,vo.forEach(function(r){r!=="selectionchange"&&(z1.has(r)||rd(r,!1,e),rd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,rd("selectionchange",!1,n))}}function Hy(e,n,r,o){switch(__(n)){case 2:var h=mb;break;case 8:h=pb;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cs(function(){var j=f,G=An(r),Q=[];t:{var z=bp.get(e);if(z!==void 0){var q=di,rt=e;switch(e){case"keypress":if(pr(r)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":rt="focus",q=yr;break;case"focusout":rt="blur",q=yr;break;case"beforeblur":case"afterblur":q=yr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case _p:case vp:case Ep:q=du;break;case Tp:q=T;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=bt}var ft=(n&4)!==0,Jt=!ft&&(e==="scroll"||e==="scrollend"),V=ft?z!==null?z+"Capture":null:z;ft=[];for(var x=j,P;x!==null;){var F=x;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||V===null||(F=qn(x,V),F!=null&&ft.push(ll(x,F,P))),Jt)break;x=x.return}0<ft.length&&(z=new q(z,rt,null,r,G),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Co&&(rt=r.relatedTarget||r.fromElement)&&(ai(rt)||rt[si]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=j,rt=rt?ai(rt):null,rt!==null&&(Jt=c(rt),ft=rt.tag,rt!==Jt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(q=null,rt=j),q!==rt)){if(ft=Oo,F="onMouseLeave",V="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Mi,F="onPointerLeave",V="onPointerEnter",x="pointer"),Jt=q==null?z:fn(q),P=rt==null?z:fn(rt),z=new ft(F,x+"leave",q,r,G),z.target=Jt,z.relatedTarget=P,F=null,ai(G)===j&&(ft=new ft(V,x+"enter",rt,r,G),ft.target=P,ft.relatedTarget=Jt,F=ft),Jt=F,q&&rt)e:{for(ft=B1,V=q,x=rt,P=0,F=V;F;F=ft(F))P++;F=0;for(var ut=x;ut;ut=ft(ut))F++;for(;0<P-F;)V=ft(V),P--;for(;0<F-P;)x=ft(x),F--;for(;P--;){if(V===x||x!==null&&V===x.alternate){ft=V;break e}V=ft(V),x=ft(x)}ft=null}else ft=null;q!==null&&Gy(Q,z,q,ft,!1),rt!==null&&Jt!==null&&Gy(Q,Jt,rt,ft,!0)}}t:{if(z=j?fn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=op;else if(rp(z))if(lp)Pt=JT;else{Pt=$T;var at=XT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ia(j.elementType)&&(Pt=op):Pt=ZT;if(Pt&&(Pt=Pt(e,j))){ap(Q,Pt,r,G);break t}at&&at(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&wo(z,"number",z.value)}switch(at=j?fn(j):window,e){case"focusin":(rp(at)||at.contentEditable==="true")&&(ha=at,kh=j,Uo=null);break;case"focusout":Uo=kh=ha=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,gp(Q,r,G);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":gp(Q,r,G)}var wt;if(zt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ca?_r(e,r)&&(xt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(xt="onCompositionStart");xt&&(gi&&r.locale!=="ko"&&(ca||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ca&&(wt=xo()):(fi=G,No="value"in fi?fi.value:fi.textContent,ca=!0)),at=cc(j,xt),0<at.length&&(xt=new pi(xt,e,null,r,G),Q.push({event:xt,listeners:at}),wt?xt.data=wt:(wt=ua(r),wt!==null&&(xt.data=wt)))),(wt=wn?FT(e,r):QT(e,r))&&(xt=cc(j,"onBeforeInput"),0<xt.length&&(at=new pi("onBeforeInput","beforeinput",null,r,G),Q.push({event:at,listeners:xt}),at.data=wt)),U1(Q,e,j,r,G)}qy(Q,n)})}function ll(e,n,r){return{instance:e,listener:n,currentTarget:r}}function cc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(ll(e,h,f)),h=qn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function B1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,N=E.alternate,j=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||j===null||(N=j,h?(j=qn(r,f),j!=null&&g.unshift(ll(r,j,N))):h||(j=qn(r,f),j!=null&&g.push(ll(r,j,N)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(H1,"")}function Qy(e,n){return n=Fy(n),Fy(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=sa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=sa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,ea(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ea(e,r,o)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,N=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":N=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Zt(e,n,o,G,r,null)}}ou(e,f,E,N,j,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?as(e,!!o,n,!1):r!=null&&as(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,r,null)}os(e,o,h,f);return;case"option":for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,N,o,r,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Ct(ol[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,j,o,r,null)}return;default:if(ia(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&ld(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Zt(e,n,E,o,r,null))}function G1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,j=null,G=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=Q;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Zt(e,n,z,q,o,Q)}}na(e,g,E,N,j,G,f,h);return;case"select":q=g=E=z=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":q=N;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=r[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&Zt(e,n,h,f,o,N)}n=E,r=g,o=q,z!=null?as(e,!!r,z,!1):!!o!=!!r&&(n!=null?as(e,!!r,n,!0):as(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}lu(e,z,q);return;case"option":for(var rt in r)z=r[rt],r.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Zt(e,n,rt,null,o,z));for(N in o)z=o[N],q=r[N],o.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null)&&(N==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,N,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,z);for(j in o)if(z=o[j],q=r[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,j,z,o,q)}return;default:if(ia(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&ld(e,n,Jt,void 0,o,z);for(G in o)z=o[G],q=r[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||ld(e,n,G,z,o,q);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Zt(e,n,Q,z,o,q)}function Ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Ky(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var N=r[o],j=N.startTime;if(j>E)break;var G=N.transferSize,Q=N.initiatorType;G&&Ky(Q)&&(N=N.responseEnd,g+=G*(N<E?1:(E-j)/(N-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function Q1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(X1)}:$y;function X1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function Jy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ul(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ul(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ul(e.ownerDocument.body);r=h}while(r);Pa(n)}function Wy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function Z1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function t_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function e_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function n_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function i_(e,n,r){switch(n=hc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var Mn=new Map,s_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=J.d;J.d={f:W1,r:tb,D:eb,C:nb,L:ib,m:sb,X:ab,S:rb,M:ob};function W1(){var e=Yi.f(),n=ic();return e||n}function tb(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Yi.r(e)}var ka=typeof document>"u"?null:document;function r_(e,n,r){var o=ka;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function eb(e){Yi.D(e),r_("dns-prefetch",e,null)}function nb(e,n){Yi.C(e,n),r_("preconnect",e,n)}function ib(e,n,r){Yi.L(e,n,r);var o=ka;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Ua(e)}Mn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function sb(e,n){Yi.m(e,n);var r=ka;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Mn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Ge(o,"link",e),Te(o),r.head.appendChild(o)}}}function rb(e,n,r){Yi.S(e,n,r);var o=ka;if(o&&e){var h=oi(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&yd(e,r);var N=g=o.createElement("link");Te(N),Ge(N,"link",e),N._p=new Promise(function(j,G){N.onload=j,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ab(e,n){Yi.X(e,n);var r=ka;if(r&&e){var o=oi(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=w({src:e,async:!0},n),(n=Mn.get(h))&&_d(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ob(e,n){Yi.M(e,n);var r=ka;if(r&&e){var o=oi(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&_d(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function a_(e,n,r,o){var h=(h=St.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=La(r.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||lb(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+sn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",r),Te(n),e.head.appendChild(n))}function Ua(e){return'[src="'+sn(e)+'"]'}function hl(e){return"script[async]"+e}function l_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),dc(o,r.precedence,e),n.instance=o;case"stylesheet":h=La(r.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=o_(r),(h=Mn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Ge(f,"link",o),n.state.loading|=4,dc(f,r.precedence,e),n.instance=f;case"script":return f=Ua(r.src),(h=e.querySelector(hl(f)))?(n.instance=h,Te(h),h):(o=r,(h=Mn.get(f))&&(o=w({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,r.precedence,e));return n.instance}function dc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function u_(e,n,r){if(mc===null){var o=new Map,h=mc=new Map;h.set(r,o)}else h=mc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function c_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ub(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=o_(o),(h=Mn.get(h))&&yd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Ge(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=pc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function hb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(fb,e),gc=null,pc.call(e))}function fb(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function db(e,n,r,o,h,f,g,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function f_(e,n,r,o,h,f,g,E,N,j,G,Q){return e=new db(e,n,r,g,N,j,G,Q,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ef(f),e}function d_(e){return e?(e=ma,e):ma}function m_(e,n,r,o,h,f){h=d_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Es(e,o,n),r!==null&&(cn(r,e,n),Go(r,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&cn(n,e,67108864),Ed(e,67108864)}}function y_(e){if(e.tag===13||e.tag===31){var n=En();n=ur(n);var r=Tr(e,n);r!==null&&cn(r,e,n),Ed(e,n)}}var _c=!0;function mb(e,n,r,o){var h=H.T;H.T=null;var f=J.p;try{J.p=2,Td(e,n,r,o)}finally{J.p=f,H.T=h}}function pb(e,n,r,o){var h=H.T;H.T=null;var f=J.p;try{J.p=8,Td(e,n,r,o)}finally{J.p=f,H.T=h}}function Td(e,n,r,o){if(_c){var h=bd(o);if(h===null)od(e,n,o,vc,r),v_(e,o);else if(yb(h,e,n,r,o))o.stopPropagation();else if(v_(e,o),n&4&&-1<gb.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-de(g);E.entanglements[1]|=N,g&=~N}Ei(f),(Bt&6)===0&&(ec=We()+500,al(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&cn(E,f,2),ic(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,vc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function bd(e){return e=An(e),Ad(e)}var vc=null;function Ad(e){if(vc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case po:return 2;case go:return 8;case ss:case Ch:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Sd=!1,Ds=null,Os=null,Ms=null,dl=new Map,ml=new Map,Vs=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function pl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yb(e,n,r,o,h){switch(n){case"focusin":return Ds=pl(Ds,e,n,r,o,h),!0;case"dragenter":return Os=pl(Os,e,n,r,o,h),!0;case"mouseover":return Ms=pl(Ms,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,pl(dl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,pl(ml.get(f)||null,e,n,r,o,h)),!0}return!1}function E_(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Co=o,r.target.dispatchEvent(o),Co=null}else return n=bn(r),n!==null&&g_(n),e.blockedOn=r,!1;n.shift()}return!0}function T_(e,n,r){Ec(e)&&r.delete(n)}function _b(){Sd=!1,Ds!==null&&Ec(Ds)&&(Ds=null),Os!==null&&Ec(Os)&&(Os=null),Ms!==null&&Ec(Ms)&&(Ms=null),dl.forEach(T_),ml.forEach(T_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_b)))}var bc=null;function b_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Pa(e){function n(N){return Tc(N,e)}Ds!==null&&Tc(Ds,e),Os!==null&&Tc(Os,e),Ms!==null&&Tc(Ms,e),dl.forEach(n),ml.forEach(n);for(var r=0;r<Vs.length;r++){var o=Vs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)E_(r),r.blockedOn===null&&Vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[ke]||null;if(typeof f=="function")g||b_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),b_(r)}}}function A_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}Ac.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();m_(r,o,e,n,null,null)},Ac.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m_(e.current,2,null,e,null,null),ic(),n[si]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&E_(e)}};var S_=t.version;if(S_!=="19.2.3")throw Error(a(527,S_,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Un=Sc.inject(vb),je=Sc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Dg,f=Og,g=Mg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=f_(e,1,!1,null,null,r,o,null,h,f,g,A_),e[si]=n.current,ad(e),new wd(n)},yl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dg,g=Og,E=Mg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=f_(e,1,!0,n,r??null,o,h,N,f,g,E,A_),n.context=d_(null),r=n.current,o=En(),o=ur(o),h=vs(o),h.callback=null,Es(r,h,o),r=o,n.current.lanes=r,or(n,r),Ei(n),e[si]=n.current,ad(e),new Ac(n)},yl.version="19.2.3",yl}var V_;function Nb(){if(V_)return Cd.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=Cb(),Cd.exports}var xb=Nb();const Db=()=>{};var k_={};const fv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ob=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let L=(p&15)<<2|_>>6,K=_&63;y||(K=64,d||(L=64)),a.push(i[b],i[w],i[L],i[K])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(fv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Ob(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new Mb;const L=c<<2|p>>4;if(a.push(L),_!==64){const K=p<<4&240|_>>2;if(a.push(K),w!==64){const tt=_<<6&192|w;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(s){const t=fv(s);return dv.encodeByteArray(t,!0)},qc=function(s){return Vb(s).replace(/\./g,"")},mv=function(s){try{return dv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>kb().__FIREBASE_DEFAULTS__,Ub=()=>{if(typeof process>"u"||typeof k_>"u")return;const s=k_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Pb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&mv(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return Db()||Lb()||Ub()||Pb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},pv=s=>uh()?.emulatorHosts?.[s],jb=s=>{const t=pv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},gv=()=>uh()?.config,yv=s=>uh()?.[`_${s}`];class zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _v(s){return(await fetch(s,{credentials:"include"})).ok}function Bb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Sl={};function qb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function Hb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let L_=!1;function vv(s,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Sl[s]===t||Sl[s]||L_)return;Sl[s]=t;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",c=qb().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function p(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function y(L,K){L.setAttribute("width","24"),L.setAttribute("id",K),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function _(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{L_=!0,d()},L}function b(L,K){L.setAttribute("id",K),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function w(){const L=Hb(a),K=i("text"),tt=document.getElementById(K)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),ht=i("preprendIcon"),_t=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const dt=L.element;p(dt),b(Z,nt);const qt=_();y(_t,ht),dt.append(_t,tt,Z,qt),document.body.appendChild(dt)}c?(tt.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Fb(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $b(){return!Fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Wb="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Wb,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?tA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function tA(s,t){return s.replace(eA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const eA=/\{\$([^}]+)}/g;function nA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Pr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(U_(c)&&U_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(s){return s!==null&&typeof s=="object"}function zl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _l(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function iA(s,t){const i=new sA(s,t);return i.subscribe.bind(i)}class sA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function nn(s){return s&&s._delegate?s._delegate:s}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vr="[DEFAULT]";class aA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lA(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(s){return s===Vr?void 0:s}function lA(s){return s.instantiationMode==="EAGER"}class uA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new aA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const cA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},hA=Dt.INFO,fA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},dA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=fA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=hA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const mA=(s,t)=>t.some(i=>s instanceof i);let P_,j_;function pA(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ev=new WeakMap,Gd=new WeakMap,Tv=new WeakMap,Md=new WeakMap,_m=new WeakMap;function yA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Hs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Ev.set(i,s)}).catch(()=>{}),_m.set(t,s),t}function _A(s){if(Gd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Fd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Tv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function vA(s){Fd=s(Fd)}function EA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Vd(this),t,...i);return Tv.set(a,t.sort?t.sort():[t]),Hs(a)}:gA().includes(s)?function(...t){return s.apply(Vd(this),t),Hs(Ev.get(this))}:function(...t){return Hs(s.apply(Vd(this),t))}}function TA(s){return typeof s=="function"?EA(s):(s instanceof IDBTransaction&&_A(s),mA(s,pA())?new Proxy(s,Fd):s)}function Hs(s){if(s instanceof IDBRequest)return yA(s);if(Md.has(s))return Md.get(s);const t=TA(s);return t!==s&&(Md.set(s,t),_m.set(t,s)),t}const Vd=s=>_m.get(s);function bA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Hs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const AA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],kd=new Map;function z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=SA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||AA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return kd.set(t,c),c}vA(s=>({...s,get:(t,i,a)=>z_(t,i)||s.get(t,i,a),has:(t,i)=>!!z_(t,i)||s.has(t,i)}));class wA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RA(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",B_="0.14.6";const Ji=new ym("@firebase/app"),IA="@firebase/app-compat",CA="@firebase/analytics-compat",NA="@firebase/analytics",xA="@firebase/app-check-compat",DA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",VA="@firebase/database",kA="@firebase/data-connect",LA="@firebase/database-compat",UA="@firebase/functions",PA="@firebase/functions-compat",jA="@firebase/installations",zA="@firebase/installations-compat",BA="@firebase/messaging",qA="@firebase/messaging-compat",HA="@firebase/performance",GA="@firebase/performance-compat",FA="@firebase/remote-config",QA="@firebase/remote-config-compat",KA="@firebase/storage",YA="@firebase/storage-compat",XA="@firebase/firestore",$A="@firebase/ai",ZA="@firebase/firestore-compat",JA="firebase",WA="12.6.0";const Kd="[DEFAULT]",tS={[Qd]:"fire-core",[IA]:"fire-core-compat",[NA]:"fire-analytics",[CA]:"fire-analytics-compat",[DA]:"fire-app-check",[xA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[VA]:"fire-rtdb",[kA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[UA]:"fire-fn",[PA]:"fire-fn-compat",[jA]:"fire-iid",[zA]:"fire-iid-compat",[BA]:"fire-fcm",[qA]:"fire-fcm-compat",[HA]:"fire-perf",[GA]:"fire-perf-compat",[FA]:"fire-rc",[QA]:"fire-rc-compat",[KA]:"fire-gcs",[YA]:"fire-gcs-compat",[XA]:"fire-fst",[ZA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};const Hc=new Map,eS=new Map,Yd=new Map;function q_(s,t){try{s.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(Yd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,s);for(const i of Hc.values())q_(i,s);for(const i of eS.values())q_(i,s);return!0}function vm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}const nS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new jl("app","Firebase",nS);class iS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const ro=WA;function bv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(i||(i=gv()),!i)throw Gs.create("no-options");const c=Hc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Gs.create("duplicate-app",{appName:l})}const d=new uA(l);for(const y of Yd.values())d.addComponent(y);const p=new iS(i,a,d);return Hc.set(l,p),p}function Av(s=Kd){const t=Hc.get(s);if(!t&&s===Kd&&gv())return bv();if(!t)throw Gs.create("no-app",{appName:s});return t}function Fs(s,t,i){let a=tS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}$a(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const sS="firebase-heartbeat-database",rS=1,xl="firebase-heartbeat-store";let Ld=null;function Sv(){return Ld||(Ld=bA(sS,rS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Gs.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function aS(s){try{const i=(await Sv()).transaction(xl),a=await i.objectStore(xl).get(wv(s));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function H_(s,t){try{const a=(await Sv()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,wv(s)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Gs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function wv(s){return`${s.name}!${s.options.appId}`}const oS=1024,lS=30;class uS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lS){const l=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:a}=cS(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function cS(s,t=oS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function fS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function dS(s){$a(new jr("platform-logger",t=>new wA(t),"PRIVATE")),$a(new jr("heartbeat",t=>new uS(t),"PRIVATE")),Fs(Qd,B_,s),Fs(Qd,B_,"esm2020"),Fs("fire-js","")}dS("");function Rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=Rv,Iv=new jl("auth","Firebase",Rv());const Gc=new ym("@firebase/auth");function pS(s,...t){Gc.logLevel<=Dt.WARN&&Gc.warn(`Auth (${ro}): ${s}`,...t)}function Oc(s,...t){Gc.logLevel<=Dt.ERROR&&Gc.error(`Auth (${ro}): ${s}`,...t)}function Jn(s,...t){throw Em(s,...t)}function bi(s,...t){return Em(s,...t)}function Cv(s,t,i){const a={...mS(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:s.name})}function Zi(s){return Cv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Iv.create(s,...t)}function mt(s,t,...i){if(!s)throw Em(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function Wi(s,t){s||Xi(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function gS(){return Q_()==="http:"||Q_()==="https:"}function Q_(){return typeof self<"u"&&self.location?.protocol||null}function yS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gS()||Kb()||"connection"in navigator)?navigator.onLine:!0}function _S(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=Gb()||Yb()}get(){return yS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Nv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ES=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TS=new Bl(3e4,6e4);function er(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function nr(s,t,i,a,l={}){return xv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return Qb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(_.credentials="include"),Nv.fetch()(await Dv(s,s.config.apiHost,i,p),_)})}async function xv(s,t,i){s._canInitEmulator=!1;const a={...vS,...t};try{const l=new AS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw wc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Cv(s,b,_);Jn(s,b)}}catch(l){if(l instanceof ns)throw l;Jn(s,"network-request-failed",{message:String(l)})}}async function ql(s,t,i,a,l={}){const c=await nr(s,t,i,a,l);return"mfaPendingCredential"in c&&Jn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Dv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Tm(s.config,l):`${s.config.apiScheme}://${l}`;return ES.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function bS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),TS.get())})}}function wc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(s,t,a);return l.customData._tokenResponse=i,l}function K_(s){return s!==void 0&&s.enterprise!==void 0}class SS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return bS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wS(s,t){return nr(s,"GET","/v2/recaptchaConfig",er(s,t))}async function RS(s,t){return nr(s,"POST","/v1/accounts:delete",t)}async function Fc(s,t){return nr(s,"POST","/v1/accounts:lookup",t)}function wl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function IS(s,t=!1){const i=nn(s),a=await i.getIdToken(t),l=bm(a);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Ud(l.auth_time)),issuedAtTime:wl(Ud(l.iat)),expirationTime:wl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function bm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=mv(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Y_(s){const t=bm(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&CS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function CS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class NS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $d{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(s){const t=s.auth,i=await s.getIdToken(),a=await Dl(s,Fc(t,{idToken:i}));mt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Ov(l.providerUserInfo):[],d=DS(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function xS(s){const t=nn(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Ov(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OS(s,t){const i=await xv(s,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Dv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(y.credentials="include"),Nv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MS(s,t){return nr(s,"POST","/v2/accounts:revokeToken",er(s,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=Y_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await OS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(mt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ls(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new NS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $d(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return IS(this,t)}reload(){return xS(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Dl(this,RS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:L,isAnonymous:K,providerData:tt,stsTokenManager:nt}=i;mt(w&&nt,t,"internal-error");const Z=Fa.fromJSON(this.name,nt);mt(typeof w=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),mt(typeof L=="boolean",t,"internal-error"),mt(typeof K=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(y,t.name),Ls(_,t.name),Ls(b,t.name);const ht=new Xn({uid:w,auth:t,email:l,emailVerified:L,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:b});return tt&&Array.isArray(tt)&&(ht.providerData=tt.map(_t=>({..._t}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Ov(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new $d(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const X_=new Map;function $i(s){Wi(s instanceof Function,"Expected a class definition");let t=X_.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,X_.set(s,t),t)}class Mv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Mv.type="NONE";const $_=Mv;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa($i($_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i($_);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let w;if(typeof b=="string"){const L=await Fc(t,{idToken:b}).catch(()=>{});if(!L)break;w=await Xn._fromGetAccountInfoResponse(t,L,b)}else w=Xn._fromJSON(t,b);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,a))}}function Z_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jv(t))return"Blackberry";if(zv(t))return"Webos";if(kv(t))return"Safari";if((t.includes("chrome/")||Lv(t))&&!t.includes("edge/"))return"Chrome";if(Pv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Vv(s=Je()){return/firefox\//i.test(s)}function kv(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Lv(s=Je()){return/crios\//i.test(s)}function Uv(s=Je()){return/iemobile/i.test(s)}function Pv(s=Je()){return/android/i.test(s)}function jv(s=Je()){return/blackberry/i.test(s)}function zv(s=Je()){return/webos/i.test(s)}function Am(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VS(s=Je()){return Am(s)&&!!window.navigator?.standalone}function kS(){return Xb()&&document.documentMode===10}function Bv(s=Je()){return Am(s)||Pv(s)||zv(s)||jv(s)||/windows phone/i.test(s)||Uv(s)}function qv(s,t=[]){let i;switch(s){case"Browser":i=Z_(Je());break;case"Worker":i=`${Z_(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${a}`}class LS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function US(s,t={}){return nr(s,"GET","/v2/passwordPolicy",er(s,t))}const PS=6;class jS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class zS{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new LS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_S()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Zi(this));const i=t?nn(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await US(this),i=new jS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gr(s){return nn(s)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=iA(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BS(s){ch=s}function Hv(s){return ch.loadJS(s)}function qS(){return ch.recaptchaEnterpriseScript}function HS(){return ch.gapiScript}function GS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class FS{constructor(){this.enterprise=new QS}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class QS{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const KS="recaptcha-enterprise",Gv="NO_RECAPTCHA";class YS{constructor(t){this.type=KS,this.auth=Gr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{wS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new SS(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;K_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(Gv)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FS().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&K_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=qS();y.length!==0&&(y+=p),Hv(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function W_(s,t,i,a=!1,l=!1){const c=new YS(s);let d;if(l)d=Gv;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await W_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await W_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function XS(s,t){const i=vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;Jn(l,"already-initialized")}return i.initialize({options:t})}function $S(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZS(s,t,i){const a=Gr(s);mt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Fv(t),{host:d,port:p}=JS(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){mt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),mt(Pr(_,a.config.emulator)&&Pr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,so(d)?(_v(`${c}//${d}${y}`),vv("Auth",!0)):WS()}function Fv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function JS(s){const t=Fv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function WS(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Sm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function tw(s,t){return nr(s,"POST","/v1/accounts:signUp",t)}async function ew(s,t){return ql(s,"POST","/v1/accounts:signInWithPassword",er(s,t))}async function nw(s,t){return ql(s,"POST","/v1/accounts:signInWithEmailLink",er(s,t))}async function iw(s,t){return ql(s,"POST","/v1/accounts:signInWithEmailLink",er(s,t))}class Ol extends Sm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ol(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Ol(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zd(t,i,"signInWithPassword",ew);case"emailLink":return nw(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zd(t,a,"signUpPassword",tw);case"emailLink":return iw(t,{idToken:i,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ka(s,t){return ql(s,"POST","/v1/accounts:signInWithIdp",er(s,t))}const sw="http://localhost";class zr extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Jn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:sw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}function rw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aw(s){const t=_l(vl(s)).link,i=t?_l(vl(t)).deep_link_id:null,a=_l(vl(s)).deep_link_id;return(a?_l(vl(a)).link:null)||a||i||t||s}class wm{constructor(t){const i=_l(vl(t)),a=i.apiKey??null,l=i.oobCode??null,c=rw(i.mode??null);mt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=aw(t);try{return new wm(i)}catch{return null}}}class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(t,i){return Ol._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=wm.parseLink(i);return mt(a,"argument-error"),Ol._fromEmailAndCode(t,a.code,a.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends Qv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Hl{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class js extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class zs extends Hl{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Bs extends Hl{constructor(){super("twitter.com")}static credential(t,i){return zr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function ow(s,t){return ql(s,"POST","/v1/accounts:signUp",er(s,t))}class Br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=e0(a);return new Br({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=e0(a);return new Br({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function e0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Kc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function Kv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(s,c,t,a):c})}async function lw(s,t,i=!1){const a=await Dl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Br._forOperation(s,"link",a)}async function uw(s,t,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject(Zi(a));const l="reauthenticate";try{const c=await Dl(s,Kv(a,l,t,s),i);mt(c.idToken,a,"internal-error");const d=bm(c.idToken);mt(d,a,"internal-error");const{sub:p}=d;return mt(s.uid===p,a,"user-mismatch"),Br._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(a,"user-mismatch"),c}}async function Yv(s,t,i=!1){if(Vn(s.app))return Promise.reject(Zi(s));const a="signIn",l=await Kv(s,a,t),c=await Br._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function cw(s,t){return Yv(Gr(s),t)}async function Xv(s){const t=Gr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hw(s,t,i){if(Vn(s.app))return Promise.reject(Zi(s));const a=Gr(s),d=await Zd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ow).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Xv(s),y}),p=await Br._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function fw(s,t,i){return Vn(s.app)?Promise.reject(Zi(s)):cw(nn(s),ao.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Xv(s),a})}function dw(s,t,i,a){return nn(s).onIdTokenChanged(t,i,a)}function mw(s,t,i){return nn(s).beforeAuthStateChanged(t,i)}function pw(s,t,i,a){return nn(s).onAuthStateChanged(t,i,a)}function gw(s){return nn(s).signOut()}const Yc="__sak";class $v{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yw=1e3,_w=10;class Zv extends $v{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,_w):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zv.type="LOCAL";const vw=Zv;class Jv extends $v{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Jv.type="SESSION";const Wv=Jv;function Ew(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Ew(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Rm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Tw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Rm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const L=w;if(L.data.eventId===_)switch(L.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(L.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function bw(s){Ai().location.href=s}function tE(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function Aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sw(){return navigator?.serviceWorker?.controller||null}function ww(){return tE()?self:null}const eE="firebaseLocalStorageDb",Rw=1,Xc="firebaseLocalStorage",nE="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function Iw(){const s=indexedDB.deleteDatabase(eE);return new Gl(s).toPromise()}function Jd(){const s=indexedDB.open(eE,Rw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Xc,{keyPath:nE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await Iw(),t(await Jd()))})})}async function n0(s,t,i){const a=fh(s,!0).put({[nE]:t,value:i});return new Gl(a).toPromise()}async function Cw(s,t){const i=fh(s,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function i0(s,t){const i=fh(s,!0).delete(t);return new Gl(i).toPromise()}const Nw=800,xw=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>xw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(ww()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Aw(),!this.activeServiceWorker)return;this.sender=new Tw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await n0(t,Yc,"1"),await i0(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>n0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Cw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const Dw=iE;new Bl(3e4,6e4);function Ow(s,t){return t?$i(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Im extends Sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Mw(s){return Yv(s.auth,new Im(s),s.bypassAuthState)}function Vw(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),uw(i,new Im(s),s.bypassAuthState)}async function kw(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),lw(i,new Im(s),s.bypassAuthState)}class sE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Vw;default:Jn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lw=new Bl(2e3,1e4);class Ha extends sE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lw.get())};t()}}Ha.currentPopupAction=null;const Uw="pendingRedirect",Vc=new Map;class Pw extends sE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await jw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jw(s,t){const i=qw(t),a=Bw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function zw(s,t){Vc.set(s._key(),t)}function Bw(s){return $i(s._redirectPersistence)}function qw(s){return Mc(Uw,s.config.apiKey,s.name)}async function Hw(s,t,i=!1){if(Vn(s.app))return Promise.reject(Zi(s));const a=Gr(s),l=Ow(a,t),d=await new Pw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Gw=600*1e3;class Fw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Qw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!rE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gw&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(t))}saveEventToCache(t){this.cachedEventUids.add(s0(t)),this.lastProcessedEventTime=Date.now()}}function s0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function rE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Qw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(s);default:return!1}}async function Kw(s,t={}){return nr(s,"GET","/v1/projects",t)}const Yw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xw=/^https?/;async function $w(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Kw(s);for(const i of t)try{if(Zw(i))return}catch{}Jn(s,"unauthorized-domain")}function Zw(s){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Xw.test(i))return!1;if(Yw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Jw=new Bl(3e4,6e4);function r0(){const s=Ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Ww(s){return new Promise((t,i)=>{function a(){r0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r0(),i(bi(s,"network-request-failed"))},timeout:Jw.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=GS("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(bi(s,"network-request-failed"))},Hv(`${HS()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function t2(s){return kc=kc||Ww(s),kc}const e2=new Bl(5e3,15e3),n2="__/auth/iframe",i2="emulator/auth/iframe",s2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a2(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Tm(t,i2):`https://${s.config.authDomain}/${n2}`,a={apiKey:t.apiKey,appName:s.name,v:ro},l=r2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function o2(s){const t=await t2(s),i=Ai().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:a2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},e2.get());function y(){Ai().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const l2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u2=500,c2=600,h2="_blank",f2="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2(s,t,i,a=u2,l=c2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...l2,width:a.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=Lv(_)?h2:i),Vv(_)&&(t=t||f2,y.scrollbars="yes");const b=Object.entries(y).reduce((L,[K,tt])=>`${L}${K}=${tt},`,"");if(VS(_)&&p!=="_self")return m2(t||"",p),new a0(null);const w=window.open(t||"",p,b);mt(w,s,"popup-blocked");try{w.focus()}catch{}return new a0(w)}function m2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const p2="__/auth/handler",g2="emulator/auth/handler",y2=encodeURIComponent("fac");async function o0(s,t,i,a,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ro,eventId:l};if(t instanceof Qv){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",nA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Hl){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${y2}=${encodeURIComponent(y)}`:"";return`${_2(s)}?${zl(p).slice(1)}${_}`}function _2({config:s}){return s.emulator?Tm(s,g2):`https://${s.authDomain}/${p2}`}const Pd="webStorageSupport";class v2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wv,this._completeRedirectFn=Hw,this._overrideRedirectResult=zw}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await o0(t,i,a,Xd(),l);return d2(t,c,Rm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await o0(t,i,a,Xd(),l);return bw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await o2(t),a=new Fw(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$w(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Bv()||kv()||Am()}}const E2=v2;var l0="@firebase/auth",u0="1.12.0";class T2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function b2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(s){$a(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qv(s)},_=new zS(a,l,c,y);return $S(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new jr("auth-internal",t=>{const i=Gr(t.getProvider("auth").getImmediate());return(a=>new T2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(l0,u0,b2(s)),Fs(l0,u0,"esm2020")}const S2=300,w2=yv("authIdTokenMaxAge")||S2;let c0=null;const R2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>w2)return;const l=i?.token;c0!==l&&(c0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function I2(s=Av()){const t=vm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=XS(s,{popupRedirectResolver:E2,persistence:[Dw,vw,Wv]}),a=yv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=R2(c.toString());mw(i,d,()=>d(i.currentUser)),dw(i,p=>d(p))}}const l=pv("auth");return l&&ZS(i,`http://${l}`),i}function C2(){return document.getElementsByTagName("head")?.[0]??document}BS({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",C2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,aE;(function(){var s;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,D,k){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return A.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],D=C.g[2];let k=C.g[3],R;R=A+(k^I&(D^k))+M[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(D^A&(I^D))+M[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=D+(I^k&(A^I))+M[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(A^D&(k^A))+M[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(k^I&(D^k))+M[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(D^A&(I^D))+M[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=D+(I^k&(A^I))+M[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(A^D&(k^A))+M[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(k^I&(D^k))+M[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(D^A&(I^D))+M[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=D+(I^k&(A^I))+M[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(A^D&(k^A))+M[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(k^I&(D^k))+M[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=k+(D^A&(I^D))+M[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=D+(I^k&(A^I))+M[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=I+(A^D&(k^A))+M[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(D^k&(I^D))+M[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(A^I))+M[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(k^A))+M[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(D^k))+M[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^k&(I^D))+M[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(A^I))+M[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(k^A))+M[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(D^k))+M[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^k&(I^D))+M[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(A^I))+M[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(k^A))+M[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(D^k))+M[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^k&(I^D))+M[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=k+(I^D&(A^I))+M[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(k^A))+M[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=I+(k^A&(D^k))+M[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(I^D^k)+M[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^D)+M[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=D+(k^A^I)+M[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^A)+M[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^k)+M[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^D)+M[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=D+(k^A^I)+M[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^A)+M[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^k)+M[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^D)+M[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=D+(k^A^I)+M[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^A)+M[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^k)+M[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=k+(A^I^D)+M[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=D+(k^A^I)+M[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=I+(D^k^A)+M[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(D^(I|~k))+M[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~D))+M[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=D+(A^(k|~I))+M[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~A))+M[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~k))+M[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~D))+M[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=D+(A^(k|~I))+M[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~A))+M[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~k))+M[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~D))+M[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=D+(A^(k|~I))+M[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~A))+M[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~k))+M[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=k+(I^(A|~D))+M[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=D+(A^(k|~I))+M[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=I+(k^(D|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(M[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<A;)if(M[D++]=C[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[A++]=this.g[I]>>>M&255;return C};function c(C,A){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let M=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;M&&k==A||(I[D]=k,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return Z(_(-C));const A=[];let I=1;for(let M=0;C>=I;M++)A[M]=C/I|0,I*=4294967296;return new d(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return Z(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let M=w;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const R=parseInt(C.substring(k,k+D),A);D<8?(D=_(Math.pow(A,D)),M=M.j(D).add(_(R))):(M=M.j(I),M=M.add(_(R)))}return M}var w=y(0),L=y(1),K=y(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(nt(this))return"-"+Z(this).toString(C);const A=_(Math.pow(C,6));var I=this;let M="";for(;;){const D=qt(I,A).g;I=ht(I,D.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,tt(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=ht(this,C),nt(C)?-1:tt(C)?0:1};function Z(C){const A=C.g.length,I=[];for(let M=0;M<A;M++)I[M]=~C.g[M];return new d(I,~C.h).add(L)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let D=0;D<=A;D++){let k=M+(this.i(D)&65535)+(C.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,k&=65535,R&=65535,I[D]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,A){return C.add(Z(A))}s.j=function(C){if(tt(this)||tt(C))return w;if(nt(this))return nt(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(nt(C))return Z(this.j(Z(C)));if(this.l(K)<0&&C.l(K)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const k=this.i(M)>>>16,R=this.i(M)&65535,te=C.i(D)>>>16,Gt=C.i(D)&65535;I[2*M+2*D]+=R*Gt,_t(I,2*M+2*D),I[2*M+2*D+1]+=k*Gt,_t(I,2*M+2*D+1),I[2*M+2*D+1]+=R*te,_t(I,2*M+2*D+1),I[2*M+2*D+2]+=k*te,_t(I,2*M+2*D+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function _t(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function dt(C,A){this.g=C,this.h=A}function qt(C,A){if(tt(A))throw Error("division by zero");if(tt(C))return new dt(w,w);if(nt(C))return A=qt(Z(C),A),new dt(Z(A.g),Z(A.h));if(nt(A))return A=qt(C,Z(A)),new dt(Z(A.g),A.h);if(C.g.length>30){if(nt(C)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var I=L,M=A;M.l(C)<=0;)I=Rt(I),M=Rt(M);var D=vt(I,1),k=vt(M,1);for(M=vt(M,2),I=vt(I,2);!tt(M);){var R=k.add(M);R.l(C)<=0&&(D=D.add(I),k=R),M=vt(M,1),I=vt(I,1)}return A=ht(C,D.j(A)),new dt(D,A)}for(D=w;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(I),R=k.j(A);nt(R)||R.l(C)>0;)I-=M,k=_(I),R=k.j(A);tt(k)&&(k=L),D=D.add(k),C=ht(C,R)}return new dt(D,C)}s.B=function(C){return qt(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Rt(C){const A=C.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function vt(C,A){const I=A>>5;A%=32;const M=C.g.length-I,D=[];for(let k=0;k<M;k++)D[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,aE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Qs=d}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oE,El,lE,Lc,Wd,uE,cE,hE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var W=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)W[bt-2]=arguments[bt];return m.prototype[U].apply(T,W)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=U[W]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,vt=!1,C=new _t,A=()=>{const u=Promise.resolve(void 0);Rt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}vt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(te,D),te.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=St(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new J(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(lt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,U);return null}return v=mo(v),u&&u[Gt]?u.J(m,v,p(T)?!!T.capture:!1,U):ir(u,m,v,!1,T,U)}function ir(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let bt=sr(u);if(bt||(u[kt]=bt=new st(u)),v=bt.add(m,v,T,W,B),v.proxy)return v;if(T=Xr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function u(v){return m.call(u.src,u.listener,v)}const m=ho;return u}function $r(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)$r(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=mo(v),u&&u[Gt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,U),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,U)),(v=u>-1?m[u]:null)&&Zr(v))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Gt])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sr(m))?(gt(v,u),v.h==0&&(v.src=null,m[kt]=null)):lt(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new te(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=v.call(T,m)}return u}function sr(u){return u=u[kt],u instanceof st?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function _e(){M.call(this),this.i=new st(this),this.M=this,this.G=null}w(_e,M),_e.prototype[Gt]=!0,_e.prototype.removeEventListener=function(u,m,v,T){$r(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),et(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=is(B,T,!0,m)&&U;if(B=m.g=u,U=is(B,T,!0,m)&&U,U=is(B,T,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=is(B,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)lt(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const bt=W.listener,me=W.ha||W.src;W.fa&&gt(u.i,W),U=bt.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){M.call(this),this.h=u,this.g={}}w(rr,M);var po=[];function go(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zr(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),go(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Ch=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}w(je,D);function Tn(){D.call(this,"c")}w(Tn,D);var de={},tu=null;function Jr(){return tu=tu||new _e}de.Ia="serverreachability";function eu(u){D.call(this,de.Ia,u)}w(eu,D);function ti(u){const m=Jr();xe(m,new eu(m))}de.STAT_EVENT="statevent";function ar(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}w(ar,D);function ve(u){const m=Jr();xe(m,new ar(m,u))}de.Ja="timingevent";function ei(u,m){D.call(this,de.Ja,u),this.size=m}w(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var W="",bt=B.split("&");for(let zt=0;zt<bt.length;zt++){var me=bt[zt].split("=");if(me.length>1){const ae=me[0];me=me[1];const wn=ae.split("_");W=wn.length>=2&&wn[1]=="type"?W+(ae+"="+me+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function nu(u,m,v,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,v)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ss(B)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function ur(){}w(ur,Jl),ur.prototype.g=function(){return new XMLHttpRequest},_o=new ur;function xi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function si(u,m,v){u.M=1,u.A=cr(be(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),ri(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(po[0]=U.toString()),U=po);for(let B=0;B<U.length;B++){const W=re(v,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Hn(this.g),me=this.g.ya(),zt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||me==7||(me==8||zt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ru(this,v),ae==ke){bt==4&&(this.m=4,ve(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(W),W.P=!0,ve(11))}}else ii(this.i,this.l,v,null),oi(this,v);bt==4&&fn(this),this.o&&!this.K&&(bt==4?mu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),bn(this)}}}catch{}};function Dh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),ve(17)),fn(this),this.m=2,bn(this)):ta(this,this.T-u)};function bn(u){u.j.I==0||u.K||mu(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),fs(v);else break t;yr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&la(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let zt=U[m];const ae=zt[0];if(!(ae<=v.K))if(v.K=ae,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const wn=zt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const gi=zt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Gn=zt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const _r=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var B=T.h;B.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const ua=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Qt(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=yu(T,T.L?T.ba:null,T.W),W.L){bo(T.h,W);var bt=W,me=T.O;me&&(bt.H=me),bt.D&&(ai(bt),ri(bt)),T.g=W}else fu(T);v.i.length>0&&mi(v)}else zt[0]!="stop"&&zt[0]!="close"||pi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?pi(v,7):Do(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ti(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,So(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Le(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,na,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?wo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,lu)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const bt=U[W++];bt=="."?T&&W==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?So(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new dn(u)}function Le(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof os?(u.i=m,sa(u.i,u.l)):(v||(m=hr(m,as)),u.i=new os(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function cr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,ou=/[#\?:]/g,wo=/[#\?]/g,as=/[#\?@]/g,lu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(u,m){rn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){rn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return rn(u),m=ls(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Io(u,m){rn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=ls(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=xi(v);v=Io(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+xi(v[B])),u.push(W)}}return this.i=u.join("&")};function cu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(uu(this,T),ia(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=b(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(An,v,"TestLoadImage: error",!1,m,T),T.onabort=b(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function us(){this.g=new Zl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Jl),hi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fr,_e),s=fr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):qn(this),this.readyState==3&&ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},s.Na=function(u){this.g&&(this.response=u,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function dr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&xi(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,_e);var fi=/^https?$/i,No=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=L(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){mr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){mr(this,B)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xo(u),Di(u)}function xo(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},s.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(au)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!fi.test(W?W.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",xo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=iu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),mi(this)};function Do(u){if(aa(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),gr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=cr(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}gu(u)}function fs(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function aa(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Rt||A(),vt||(Rt(),vt=!0),C.add(m,u),u.D=0}}function oa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,U,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),gr(this,v),B&&(this.R?m="headers="+xi(Sn(B))+"&"+m:this.u&&dr(v,this.u,B)),To(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||Eo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),gr(u,T),u.u&&u.o&&dr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),si(v,T,m)}function gr(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const me=["count="+v];bt==-1?v>0?(bt=U[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let zt=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const wn=U[ae].map;if(B-=bt,B<0)bt=Math.max(0,U[ae].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var W=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Gn]of W){let Fn=Gn;p(Gn)&&(Fn=ss(Gn)),me.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw me.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(wn)}}if(zt){W=me.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Rt||A(),vt||(Rt(),vt=!0),C.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),fs(this),du(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=cr(be(m)),v.u=null,v.R=!0,Wr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),yr(this),ve(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){la(u),Mo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,bo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Jr(),xe(T,new ei(T,v)),mi(u)}else fu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),cr(T),U?Bn(T.toString(),v):Co(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),gu(u),aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof dn?be(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new dn(null);T&&Le(B,T),m&&(B.g=m),U&&rs(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),gr(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new hi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}w(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Do(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,tn.Z.N.call(this)};function Eu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Eu,je);function Tu(){Tn.call(this),this.status=1}w(Tu,Tn);function Mi(u){this.g=u}w(Mi,vu),Mi.prototype.ra=function(){xe(this.g,"a")},Mi.prototype.qa=function(u){xe(this.g,new Eu(u))},Mi.prototype.pa=function(u){xe(this.g,new Tu)},Mi.prototype.oa=function(){xe(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,hE=function(){return new ds},cE=function(){return Jr()},uE=de,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Lc=lr,yo.COMPLETE="complete",lE=yo,Wl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",_e.prototype.listen=_e.prototype.J,El=Wl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,oE=Xt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.9.3";let $e=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let oo="12.7.0";const qr=new ym("@firebase/firestore");function ja(){return qr.logLevel}function it(s,...t){if(qr.logLevel<=Dt.DEBUG){const i=t.map(Cm);qr.debug(`Firestore (${oo}): ${s}`,...i)}}function ts(s,...t){if(qr.logLevel<=Dt.ERROR){const i=t.map(Cm);qr.error(`Firestore (${oo}): ${s}`,...i)}}function Za(s,...t){if(qr.logLevel<=Dt.WARN){const i=t.map(Cm);qr.warn(`Firestore (${oo}): ${s}`,...i)}}function Cm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,fE(s,a,i)}function fE(s,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||fE(t,l,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class dE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class x2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class D2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new dE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class O2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new m0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=k2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Ot(l,c):jd(l)?1:-1}return Ot(s.length,t.length)}const L2=55296,U2=57343;function jd(s){const t=s.charCodeAt(0);return t>=L2&&t<=U2}function Ja(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const p0="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ie extends Ti{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const P2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return P2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new Qe([p0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ie.fromString(t))}static fromName(t){return new ct(ie.fromString(t).popFirst(5))}static empty(){return new ct(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ie(t.slice()))}}function mE(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function j2(s,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g0(s){if(!ct.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function y0(s){if(ct.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Ks(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xm(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!pE(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const _0=-62135596800,v0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*v0);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_0)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new se(0,0))}static max(){return new yt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function z2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Xs(l,ct.empty(),t)}function B2(s){return new Xs(s.readTime,s.key,Ml)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(yt.min(),ct.empty(),Ml)}static max(){return new Xs(yt.max(),ct.empty(),Ml)}}function q2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==H2)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function F2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Dm=-1;function mh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function Q2(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const gE="";function K2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=E0(t)),t=Y2(s.get(i),t);return E0(t)}function Y2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case gE:i+="";break;default:i+=c}}return i}function E0(s){return s+gE+""}function T0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Fr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function yE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(t){return new b0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class b0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const X2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=X2.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const vE="server_timestamp",EE="__type__",TE="__previous_value__",bE="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===vE}function ph(s){const t=s.mapValue.fields[TE];return Om(t)?ph(t):t}function Vl(s){const t=$s(s.mapValue.fields[bE].timestampValue);return new se(t.seconds,t.nanos)}class $2{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Zc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const AE="__type__",Z2="__max__",Cc={mapValue:{}},SE="__vector__",Jc="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:W2(s)?9007199254740991:J2(s)?10:11:pt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Js(s);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ja(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(T0(d)!==T0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function Ll(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const i=Js(s),a=Js(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return A0(s.timestampValue,t.timestampValue);case 4:return A0(Vl(s),Vl(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),y=Zs(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Ot(p[_],y[_]);if(b!==0)return b}return Ot(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(ye(c.latitude),ye(d.latitude));return p!==0?p:Ot(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return S0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Jc]?.arrayValue,b=y[Jc]?.arrayValue,w=Ot(_?.values?.length||0,b?.values?.length||0);return w!==0?w:S0(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let w=0;w<y.length&&w<b.length;++w){const L=tm(y[w],b[w]);if(L!==0)return L;const K=Wa(p[y[w]],_[b[w]]);if(K!==0)return K}return Ot(y.length,b.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function A0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=$s(s),a=$s(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function S0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return Ot(i.length,a.length)}function to(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Uc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+Uc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Fr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function nm(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function w0(s){return!!s&&"nullValue"in s}function R0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function J2(s){return(s?.mapValue?.fields||{})[AE]?.stringValue===SE}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Fr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return{...s}}function W2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Z2}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new kn(Rl(this.value))}}function wE(s){const t=[];return Fr(s.fields,((i,a)=>{const l=new Qe([i]);if(Pc(a)){const c=wE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,yt.min(),yt.min(),yt.min(),kn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,yt.min(),yt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,yt.min(),yt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function I0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function C0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function tR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class RE{}class Oe extends RE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new nR(t,i,a):i==="array-contains"?new rR(t,a):i==="in"?new aR(t,a):i==="not-in"?new oR(t,a):i==="array-contains-any"?new lR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new iR(t,a):new sR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends RE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return IE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(s){return s.op==="and"}function CE(s){return eR(s)&&IE(s)}function eR(s){for(const t of s.filters)if(t instanceof Ni)return!1;return!0}function im(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+to(s.value);if(CE(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((i=>im(i))).join(",");return`${s.op}(${t})`}}function NE(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof Ni?(function(a,l){return l instanceof Ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&NE(d,l.filters[p])),!0):!1})(s,t):void pt(19439)}function xE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(s):"Filter"}class nR extends Oe{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class iR extends Oe{constructor(t,i){super(t,"in",i),this.keys=DE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class sR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=DE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function DE(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class rR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Ll(i.arrayValue,this.value)}}class aR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class oR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class lR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class uR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function N0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new uR(s,t,i,a,l,c,d)}function Vm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>to(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>to(a))).join(",")),t.Te=i}return t.Te}function km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!NE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!C0(s.startAt,t.startAt)&&C0(s.endAt,t.endAt)}function sm(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cR(s,t,i,a,l,c,d,p){return new gh(s,t,i,a,l,c,d,p)}function Lm(s){return new gh(s)}function x0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hR(s){return s.collectionGroup!==null}function Il(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new th(Qe.keyField(),a))}return t.Ie}function Si(s){const t=Tt(s);return t.Ee||(t.Ee=fR(t,Il(s))),t.Ee}function fR(s,t){if(s.limitType==="F")return N0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return N0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function rm(s,t,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return km(Si(s),Si(t))&&s.limitType===t.limitType}function OE(s){return`${Vm(Si(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>xE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(Si(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=I0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,y){const _=I0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(s,t)}function dR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ME(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=mR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function mR(s,t,i){const a=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}class Qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const pR=new ue(ct.comparator);function es(){return pR}const VE=new ue(ct.comparator);function Tl(...s){let t=VE;for(const i of s)t=t.insert(i.key,i);return t}function kE(s){let t=VE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function kr(){return Cl()}function LE(){return Cl()}function Cl(){return new Qr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const gR=new ue(ct.comparator),yR=new Ve(ct.comparator);function Mt(...s){let t=yR;for(const i of s)t=t.add(i);return t}const _R=new Ve(Ot);function vR(){return _R}function Um(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function UE(s){return{integerValue:""+s}}function ER(s,t){return Q2(t)?UE(t):Um(s,t)}class vh{constructor(){this._=void 0}}function TR(s,t,i){return s instanceof eh?(function(l,c){const d={fields:{[EE]:{stringValue:vE},[bE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=ph(c)),c&&(d.fields[TE]=c),{mapValue:d}})(i,t):s instanceof Ul?jE(s,t):s instanceof Pl?zE(s,t):(function(l,c){const d=PE(l,c),p=D0(d)+D0(l.Ae);return nm(d)&&nm(l.Ae)?UE(p):Um(l.serializer,p)})(s,t)}function bR(s,t,i){return s instanceof Ul?jE(s,t):s instanceof Pl?zE(s,t):i}function PE(s,t){return s instanceof nh?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends vh{}class Ul extends vh{constructor(t){super(),this.elements=t}}function jE(s,t){const i=BE(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends vh{constructor(t){super(),this.elements=t}}function zE(s,t){let i=BE(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class nh extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function D0(s){return ye(s.integerValue||s.doubleValue)}function BE(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ul&&l instanceof Ul||a instanceof Pl&&l instanceof Pl?Ja(a.elements,l.elements,Ci):a instanceof nh&&l instanceof nh?Ci(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(s.transform,t.transform)}class SR{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function qE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Pm(s.key,Zn.none()):new Ql(s.key,s.data,Zn.none());{const i=s.data,a=kn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Kr(s.key,a,new $n(l.toArray()),Zn.none())}}function wR(s,t,i){s instanceof Ql?(function(l,c,d){const p=l.value.clone(),y=M0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Kr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=M0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(HE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Ql?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=c.value.clone(),b=V0(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Kr?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=V0(c.fieldTransforms,y,d),b=d.data;return b.setAll(HE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function RR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=PE(a.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function O0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>AR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Kr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function M0(s,t,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,bR(d,p,i[l]))}return a}function V0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,TR(c,d,t))}return a}class Pm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&wR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=LE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=qE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>O0(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>O0(i,a)))}}class jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return gR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jm(t,i,a,l)}}class NR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Lt;function DR(s){switch(s){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function GE(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:s})}}(Lt=Ie||(Ie={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function OR(){return new TextEncoder}const MR=new Qs([4294967295,4294967295],0);function k0(s){const t=OR().encode(s),i=new aE;return i.update(t),new Uint8Array(i.digest())}function L0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class zm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(MR)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=k0(t),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=k0(t),[a,l]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(yt.min(),l,new ue(Ot),es(),Mt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Mt(),Mt(),Mt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class FE{constructor(t,i){this.targetId=t,this.Ce=i}}class QE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class U0{constructor(){this.ve=0,this.Fe=P0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=P0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VR{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Nc(),this.He=Nc(),this.Ye=new ue(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new ct(c.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(a).toUint8Array()}catch(y){if(y instanceof _E)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new zm(d,l,c)}catch(y){return Za(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const y=new ct(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Nc(),this.He=Nc(),this.Ye=new ue(Ot),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new U0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new U0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ue(ct.comparator)}function P0(){return new ue(ct.comparator)}const kR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class PR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function jR(s,t){return ih(s,t.toTimestamp())}function wi(s){return Ht(!!s,49232),yt.fromTimestamp((function(i){const a=$s(i);return new se(a.seconds,a.nanos)})(s))}function Bm(s,t){return om(s,t).canonicalString()}function om(s,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function YE(s){const t=ie.fromString(s);return Ht(WE(t),10190,{key:t.toString()}),t}function lm(s,t){return Bm(s.databaseId,t.path)}function zd(s,t){const i=YE(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct($E(i))}function XE(s,t){return Bm(s.databaseId,t)}function zR(s){const t=YE(s);return t.length===4?ie.emptyPath():$E(t)}function um(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $E(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function j0(s,t,i){return{name:lm(s,t),fields:i.value.mapValue.fields}}function BR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:GE(_.code);return new ot(b,_.message||"")})(d);i=new QE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(s,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):yt.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new zc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(s,a.document),c=a.readTime?wi(a.readTime):yt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new xR(l,c),p=a.targetId;i=new FE(p,d)}}return i}function qR(s,t){let i;if(t instanceof Ql)i={update:j0(s,t.key,t.value)};else if(t instanceof Pm)i={delete:lm(s,t.key)};else if(t instanceof Kr)i={update:j0(s,t.key,t.data),updateMask:ZR(t.fieldMask)};else{if(!(t instanceof IR))return pt(16599,{Vt:t.type});i={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function HR(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(yt.min())&&(d=wi(c)),new SR(d,l.transformResults||[])})(i,t)))):[]}function GR(s,t){return{documents:[XE(s,t.path)]}}function FR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=XE(s,l);const c=(function(_){if(_.length!==0)return JE(Ni.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(L){return{field:Ba(L.field),direction:YR(L.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function QR(s){let t=zR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const L=ZE(w);return L instanceof Ni&&CE(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((L=>(function(tt){return new th(qa(tt.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(L)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let L;return L=typeof w=="object"?w.value:w,mh(L)?null:L})(i.limit));let y=null;i.startAt&&(y=(function(w){const L=!!w.before,K=w.values||[];return new Wc(K,L)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const L=!w.before,K=w.values||[];return new Wc(K,L)})(i.endAt)),cR(t,l,d,c,p,"F",y,_)}function KR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>ZE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function YR(s){return kR[s]}function XR(s){return LR[s]}function $R(s){return UR[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function qa(s){return Qe.fromServerFormat(s.fieldPath)}function JE(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(R0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(w0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(w0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:XR(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const a=i.getFilters().map((l=>JE(l)));return a.length===1?a[0]:{compositeFilter:{op:$R(i.op),filters:a}}})(s):pt(54877,{filter:s})}function ZR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function WE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class qs{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class JR{constructor(t){this.yt=t}}function WR(s){const t=QR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class tI{constructor(){this.Cn=new eI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class eI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(tT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const B0="LruGarbageCollector",nI=1048576;function q0([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class iI{constructor(t){this.Ir=t,this.buffer=new Ve(q0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();q0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(B0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?it(B0,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class rI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new iI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(z0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),ja()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function aI(s,t){return new rI(s,t)}class oI{constructor(){this.changes=new Qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class uI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,$n.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Kr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),se.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new lI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new ue(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||$n.empty();b=p.applyToLocalView(_,b),a.set(y,b);const w=(l.get(p.batchId)||Mt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,w=LE();b.forEach((L=>{if(!c.has(L)){const K=qE(i.get(L),a.get(L));K!==null&&w.set(L,K),c=c.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(kr());let p=Ml,y=c;return d.next((_=>X.forEach(_,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((L=>{y=y.insert(b,L)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((b=>({batchId:p,changes:kE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(w,L){return new gh(L,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((w,L)=>{d=d.insert(w,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let p=Tl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Nl(b.mutation,_,$n.empty(),se.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}class cI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WR(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class hI{constructor(){this.overlays=new ue(ct.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=kr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=kr(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=kr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=kr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new NR(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class fI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class qm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ct(new ie([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ie([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class dI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Dm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Ot);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ct(c),0);let p=new Ve(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mI{constructor(t){this.ri=t,this.docs=(function(){return new ue(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||q2(B2(b),a)<=0||(l.has(b.key)||_h(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new pI(this)}getSize(t){return X.resolve(this.size)}}class pI extends oI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class gI{constructor(t){this.persistence=t,this.si=new Qr((i=>Vm(i)),km),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class eT{constructor(t,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=t(this),this.Pi=new gI(this),this.indexManager=new tI,this.remoteDocumentCache=(function(l){return new mI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(i),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new hI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new dI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new yI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class yI extends G2{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ct.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new Qr((a=>K2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=aI(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $b()?8:F2(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _I;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ja()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=Dt.DEBUG&&it("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ja()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(x0(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return x0(i)||l.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ja()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,z2(l,Ml)).next((p=>p)))}))}Ds(t,i){let a=new Ve(ME(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ja()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",EI=3e8;class TI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Ot),this.xs=new Qr((c=>Vm(c)),km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function bI(s,t,i,a){return new TI(s,t,i,a)}async function nT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Mt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function AI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const w=_.batch,L=w.keys();let K=X.resolve();return L.forEach((tt=>{K=K.next((()=>b.getEntry(y,tt))).next((nt=>{const Z=_.docVersions.get(tt);Ht(Z!==null,48541),nt.version.compareTo(Z)<0&&(w.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function iT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function SI(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,w)=>{const L=l.get(w);if(!L)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,w))));let K=L.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?K=K.withResumeToken(Ke.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),l=l.insert(w,K),(function(nt,Z,ht){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=EI?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(L,K,b)&&p.push(i.Pi.updateTargetData(c,K))}));let y=es(),_=Mt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(wI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(yt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function wI(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(Fm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function RI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function II(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function cm(s,t,i){const a=Tt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;it(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function H0(s,t,i){const a=Tt(s);let l=yt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const w=Tt(y),L=w.xs.get(b);return L!==void 0?X.resolve(w.Ms.get(L)):w.Pi.getTargetData(_,b)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Mt()))).next((p=>(CI(a,dR(t),p),{documents:p,Qs:c})))))}function CI(s,t,i){let a=s.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class G0{constructor(){this.activeTargetIds=vR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NI{constructor(){this.Mo=new G0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new G0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xI{Oo(t){}shutdown(){}}const F0="ConnectivityMonitor";class Q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(F0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(F0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function hm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Bd="RestConnection",DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=hm(),p=this.zo(t,i.toUriEncodedString());it(Bd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=so(_);return this.Jo(t,p,y,a,b).then((w=>(it(Bd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Za(Bd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=DI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class MI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class VI extends OI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=hm();return new Promise(((p,y)=>{const _=new oE;_.setWithCredentials(!0),_.listenOnce(lE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const w=_.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Lc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const L=_.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,L,"response text:",_.getResponseText()),L>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const tt=K?.error;if(tt&&tt.status&&tt.message){const nt=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_t)>=0?_t:$.UNKNOWN})(tt.status);y(new ot(nt,tt.message))}else y(new ot($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=hm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=hE(),p=cE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,y);const w=d.createWebChannel(b,y);this.I_(w);let L=!1,K=!1;const tt=new MI({Yo:Z=>{K?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(L||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),w.open(),L=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),nt=(Z,ht,_t)=>{Z.listen(ht,(dt=>{try{_t(dt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return nt(w,El.EventType.OPEN,(()=>{K||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(w,El.EventType.CLOSE,(()=>{K||(K=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(w))})),nt(w,El.EventType.ERROR,(Z=>{K||(K=!0,Za(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),tt.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),nt(w,El.EventType.MESSAGE,(Z=>{if(!K){const ht=Z.data[0];Ht(!!ht,16349);const _t=ht,dt=_t?.error||_t[0]?.error;if(dt){it(Xe,`RPC '${t}' stream ${l} received error:`,dt);const qt=dt.status;let Rt=(function(A){const I=Ie[A];if(I!==void 0)return GE(I)})(qt),vt=dt.message;Rt===void 0&&(Rt=$.INTERNAL,vt="Unknown error status: "+qt+" with message "+dt.message),K=!0,tt.a_(new ot(Rt,vt)),w.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,ht),tt.u_(ht)}})),nt(p,uE.STAT_EVENT,(Z=>{Z.stat===Wd.PROXY?it(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Wd.NOPROXY&&it(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function bh(s){return new PR(s,!0)}class sT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const K0="PersistentStream";class rT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(K0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kI extends rT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=BR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?wi(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=sm(y)?{documents:GR(c,y)}:{query:FR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=KE(c,d.resumeToken);const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=KR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.q_(i)}}class LI extends rT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=HR(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>qR(this.serializer,a)))};this.q_(i)}}class UI{}class PI extends UI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,om(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class zI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(it(Hr,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new jI(a,l)}}async function Ah(s){if(Yr(s))for(const t of s.da)await t(!0)}async function Yl(s){for(const t of s.da)await t(!1)}function aT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):co(i).O_()&&Km(i,t))}function Qm(s,t){const i=Tt(s),a=co(i);i.Ia.delete(t),a.O_()&&oT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Ra.set("Unknown"))}function Km(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(s).Y_(t)}function oT(s,t){s.Va.Ue(t),co(s).Z_(t)}function Ym(s){s.Va=new VR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),co(s).start(),s.Ra.ua()}function Xm(s){return Yr(s)&&!co(s).x_()&&s.Ia.size>0}function Yr(s){return Tt(s).Ea.size===0}function lT(s){s.Va=void 0}async function BI(s){s.Ra.set("Online")}async function qI(s){s.Ia.forEach(((t,i)=>{Km(s,t)}))}async function HI(s,t){lT(s),Xm(s)?(s.Ra.ha(t),Ym(s)):s.Ra.set("Unknown")}async function GI(s,t,i){if(s.Ra.set("Online"),t instanceof QE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){it(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(s,a)}else if(t instanceof zc?s.Va.Ze(t):t instanceof FE?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const a=await iT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),oT(c,y);const w=new qs(b.target,y,_,b.sequenceNumber);Km(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(Hr,"Failed to raise snapshot:",a),await rh(s,a)}}async function rh(s,t,i){if(!uo(t))throw t;s.Ea.add(1),await Yl(s),s.Ra.set("Offline"),i||(i=()=>iT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Hr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function uT(s,t){return t().catch((i=>rh(s,i,t)))}async function Sh(s){const t=Tt(s),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dm;for(;FI(t);)try{const l=await RI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,QI(t,l)}catch(l){await rh(t,l)}cT(t)&&hT(t)}function FI(s){return Yr(s)&&s.Ta.length<10}function QI(s,t){s.Ta.push(t);const i=Ws(s);i.O_()&&i.X_&&i.ea(t.mutations)}function cT(s){return Yr(s)&&!Ws(s).x_()&&s.Ta.length>0}function hT(s){Ws(s).start()}async function KI(s){Ws(s).ra()}async function YI(s){const t=Ws(s);for(const i of s.Ta)t.ea(i.mutations)}async function XI(s,t,i){const a=s.Ta.shift(),l=jm.from(a,t,i);await uT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Sh(s)}async function $I(s,t){t&&Ws(s).X_&&await(async function(a,l){if((function(d){return DR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await uT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(s,t),cT(s)&&hT(s)}async function Y0(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(Hr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function ZI(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function co(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new kI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:BI.bind(null,s),t_:qI.bind(null,s),r_:HI.bind(null,s),H_:GI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Ra.set("Unknown")):(await s.ma.stop(),lT(s))}))),s.ma}function Ws(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new LI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:KI.bind(null,s),r_:$I.bind(null,s),ta:YI.bind(null,s),na:XI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Sh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new $m(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(ts("AsyncQueue",`${t}: ${s}`),uo(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class X0{constructor(){this.ga=new ue(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class no{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class WI{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=$0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function $0(){return new Qr((s=>OE(s)),yh)}async function tC(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new JI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Zm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function eC(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nC(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Jm(i)}function iC(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Jm(s){s.Ca.forEach((t=>{t.next()}))}var fm,Z0;(Z0=fm||(fm={})).Ma="default",Z0.Cache="cache";class sC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new no(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class fT{constructor(t){this.key=t}}class dT{constructor(t){this.key=t}}class rC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=ME(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new X0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,w)=>{const L=l.get(b),K=_h(this.query,w)?w:null,tt=!!L&&this.mutatedKeys.has(L.key),nt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Z=!1;L&&K?L.data.isEqual(K.data)?tt!==nt&&(a.track({type:3,doc:K}),Z=!0):this.su(L,K)||(a.track({type:2,doc:K}),Z=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(p=!0)):!L&&K?(a.track({type:0,doc:K}),Z=!0):L&&!K&&(a.track({type:1,doc:L}),Z=!0,(y||_)&&(p=!0)),Z&&(K?(d=d.add(K),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(K,tt){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return nt(K)-nt(tt)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new dT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new fT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class aC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class oC{constructor(t){this.key=t,this.hu=!1}}class lC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((p=>OE(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ct.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uC(s,t,i=!0){const a=vT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await mT(a,t,i,!0),l}async function cC(s,t){const i=vT(s);await mT(i,t,!0,!1)}async function mT(s,t,i,a){const l=await II(s.localStore,Si(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await hC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&aT(s.remoteStore,l),p}async function hC(s,t,i,a,l){s.pu=(w,L,K)=>(async function(nt,Z,ht,_t){let dt=Z.view.ru(ht);dt.Cs&&(dt=await H0(nt.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,dt))));const qt=_t&&_t.targetChanges.get(Z.targetId),Rt=_t&&_t.targetMismatches.get(Z.targetId)!=null,vt=Z.view.applyChanges(dt,nt.isPrimaryClient,qt,Rt);return W0(nt,Z.targetId,vt.au),vt.snapshot})(s,w,L,K);const c=await H0(s.localStore,t,!0),d=new rC(t,c.Qs),p=d.ru(c.documents),y=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);W0(s,i,_.au);const b=new aC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function fC(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(lo)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function dC(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function mC(s,t,i){const a=TC(s);try{const l=await(function(d,p){const y=Tt(d),_=se.now(),b=p.reduce(((K,tt)=>K.add(tt.key)),Mt());let w,L;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let tt=es(),nt=Mt();return y.Ns.getEntries(K,b).next((Z=>{tt=Z,tt.forEach(((ht,_t)=>{_t.isValidDocument()||(nt=nt.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,tt))).next((Z=>{w=Z;const ht=[];for(const _t of p){const dt=RR(_t,w.get(_t.key).overlayedDocument);dt!=null&&ht.push(new Kr(_t.key,dt,wE(dt.value.mapValue),Zn.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,ht,p)})).next((Z=>{L=Z;const ht=Z.applyToLocalDocumentSet(w,nt);return y.documentOverlayCache.saveOverlays(K,Z.batchId,ht)}))})).then((()=>({batchId:L.batchId,changes:kE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Ot)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Xl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function pT(s,t){const i=Tt(s);try{const a=await SI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await lo(a)}}function J0(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,w)=>{for(const L of w.Sa)L.va(p)&&(_=!0)})),_&&Jm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function pC(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(ct.comparator);d=d.insert(c,Ze.newNoDocument(c,yt.min()));const p=Mt().add(c),y=new Th(yt.min(),new Map,new ue(Ot),d,p);await pT(a,y),a.du=a.du.remove(c),a.Au.delete(t),tp(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(lo)}async function gC(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await AI(i.localStore,t);yT(i,a,null),gT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await lo(l)}}async function yC(s,t,i){const a=Tt(s);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Ht(w!==null,37113),b=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);yT(a,t,i),gT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await lo(l)}}function gT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function yT(s,t,i){const a=Tt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||_T(s,a)}))}function _T(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),tp(s))}function W0(s,t,i){for(const a of i)a instanceof fT?(s.Ru.addReference(a.key,t),_C(s,a)):a instanceof dT?(it(Wm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||_T(s,a.key)):pt(19791,{wu:a})}function _C(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Wm,"New document in limbo: "+i),s.Eu.add(a),tp(s))}function tp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(ie.fromString(t)),a=s.fu.next();s.Au.set(a,new oC(i)),s.du=s.du.insert(i,a),aT(s.remoteStore,new qs(Si(Lm(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Xl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Gm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Tt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(L=>X.forEach(L.Es,(K=>b.persistence.referenceDelegate.addReference(w,L.targetId,K))).next((()=>X.forEach(L.ds,(K=>b.persistence.referenceDelegate.removeReference(w,L.targetId,K)))))))))}catch(w){if(!uo(w))throw w;it(Fm,"Failed to update sequence numbers: "+w)}for(const w of _){const L=w.targetId;if(!w.fromCache){const K=b.Ms.get(L),tt=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(L,nt)}}})(a.localStore,c))}async function vC(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){it(Wm,"User change. New user:",t.toKey());const a=await nT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ot($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function EC(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function vT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=pT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pC.bind(null,t),t.Pu.H_=nC.bind(null,t.eventManager),t.Pu.yu=iC.bind(null,t.eventManager),t}function TC(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bI(this.persistence,new vI,t.initialUser,this.serializer)}Cu(t){return new eT(Hm.mi,this.serializer)}Du(t){return new NI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class bC extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new eT((a=>sh.mi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>J0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vC.bind(null,this.syncEngine),await ZI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WI})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new VI(c)})(t.databaseInfo);return(function(c,d,p,y){return new PI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new zI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>J0(this.syncEngine,i,0)),(function(){return Q0.v()?new Q0:new xI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const w=new lC(l,c,d,p,y,_);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);it(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class AC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class SC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await nT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function tv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await wC(s);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Y0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Y0(t.remoteStore,l))),s._onlineComponents=t}async function wC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new ah)}}else it(tr,"Using default OfflineComponentProvider"),await Hd(s,new bC(void 0));return s._offlineComponents}async function ET(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await tv(s,new mm))),s._onlineComponents}function RC(s){return ET(s).then((t=>t.syncEngine))}async function ev(s){const t=await ET(s),i=t.eventManager;return i.onListen=uC.bind(null,t.syncEngine),i.onUnlisten=fC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dC.bind(null,t.syncEngine),i}function TT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const nv=new Map;const bT="firestore.googleapis.com",iv=!0;class sv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=iv}else this.host=t.host,this.ssl=t.ssl??iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nI)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}j2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new N2;switch(a.type){case"firstParty":return new M2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=nv.get(i);a&&(it("ComponentProvider","Removing Datastore"),nv.delete(i),a.terminate())})(this),Promise.resolve()}}function IC(s,t,i,a={}){s=Ks(s,wh);const l=so(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(_v(`https://${p}`),vv("Firestore",!0)),c.host!==bT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=$e.MOCK_USER;else{_=Bb(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(w)}s._authCredentials=new x2(new dE(_,b))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Me._jsonSchema))return new Me(t,a||null,new ct(ie.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ce("string",Me._jsonSchemaVersion),referencePath:Ce("string")};class Ys extends Rh{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ct(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function pm(s,t,...i){if(s=nn(s),mE("collection","path",t),s instanceof wh){const a=ie.fromString(t,...i);return y0(a),new Ys(s,null,a)}{if(!(s instanceof Me||s instanceof Ys))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(t,...i));return y0(a),new Ys(s.firestore,null,a)}}function Ga(s,t,...i){if(s=nn(s),arguments.length===1&&(t=Nm.newId()),mE("doc","path",t),s instanceof wh){const a=ie.fromString(t,...i);return g0(a),new Me(s,null,new ct(a))}{if(!(s instanceof Me||s instanceof Ys))throw new ot($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(t,...i));return g0(a),new Me(s.firestore,s instanceof Ys?s.converter:null,new ct(a))}}const rv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&it(rv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;it(rv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function ov(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function lv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class io extends wh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function CC(s,t){const i=typeof s=="object"?s:Av(),a=typeof s=="string"?s:Zc,l=vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jb("firestore");c&&IC(l,...c)}return l}function AT(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NC(s),s._firestoreClient}function NC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new $2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,TT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new SC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class ep{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ST{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ce("string",Ii._jsonSchemaVersion),vectorValues:Ce("object")};const xC=/^__.*__$/;class DC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}function wT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class np{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new np({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&xC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new np({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RT(s){const t=s._freezeSettings(),i=bh(s._databaseId);return new OC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function IT(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);DT("Data must be an object, but it was:",d,a);const p=NT(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const L=MC(t,w,i);if(!d.contains(L))throw new ot($.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);kC(b,L)||b.push(L)}y=new $n(b),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new DC(new kn(p),y,_)}function CT(s,t){if(xT(s=nn(s)))return DT("Unsupported field value:",t,s),NT(s,t);if(s instanceof ST)return(function(a,l){if(!wT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=CT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ER(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:KE(l.serializer,a._byteString)};if(a instanceof Me){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,p){return{mapValue:{fields:{[AE]:{stringValue:SE},[Jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Um(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${xm(a)}`)})(s,t)}function NT(s,t){const i={};return yE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(s,((a,l)=>{const c=CT(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function xT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Ri||s instanceof Ln||s instanceof Me||s instanceof ST||s instanceof Ii)}function DT(s,t,i){if(!xT(i)||!pE(i)){const a=xm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function MC(s,t,i){if((t=nn(t))instanceof ep)return t._internalPath;if(typeof t=="string")return OT(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const VC=new RegExp("[~\\*/\\[\\]]");function OT(s,t,i){if(t.search(VC)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ep(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ot($.INVALID_ARGUMENT,p+s+y)}function kC(s,t){return s.some((i=>i.isEqual(t)))}class MT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(VT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LC extends MT{data(){return super.data()}}function VT(s,t){return typeof t=="string"?OT(s,t):t instanceof ep?t._internalPath:t._delegate._internalPath}function UC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PC{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=$s(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Ht(WE(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function kT(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends MT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(VT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Ce("string",Ur._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Bc extends Ur{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:jC(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ce("string",Xa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class LT extends PC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function uv(s,t,i){s=Ks(s,Me);const a=Ks(s.firestore,io),l=kT(s.converter,t,i);return ip(a,[IT(RT(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zn.none())])}function zC(s){return ip(Ks(s.firestore,io),[new Pm(s._key,Zn.none())])}function BC(s,t){const i=Ks(s.firestore,io),a=Ga(s),l=kT(s.converter,t);return ip(i,[IT(RT(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then((()=>a))}function Dc(s,...t){s=nn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||lv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Me)d=Ks(s.firestore,io),p=Lm(s._key.path),c={next:y=>{t[a]&&t[a](qC(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Ks(s,Rh);d=Ks(y.firestore,io),p=y._query;const _=new LT(d);c={next:b=>{t[a]&&t[a](new Xa(d,_,y,b))},error:t[a+1],complete:t[a+2]},UC(s._query)}return(function(_,b,w,L){const K=new AC(L),tt=new sC(b,K,w);return _.asyncQueue.enqueueAndForget((async()=>tC(await ev(_),tt))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>eC(await ev(_),tt)))}})(AT(d),p,l,c)}function ip(s,t){return(function(a,l){const c=new Lr;return a.asyncQueue.enqueueAndForget((async()=>mC(await RC(a),l,c))),c.promise})(AT(s),t)}function qC(s,t,i){const a=i.docs.get(t._key),l=new LT(s);return new Ur(s,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){oo=l})(ro),$a(new jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new io(new D2(a.getProvider("auth-internal")),new V2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fs(f0,d0,t),Fs(f0,d0,"esm2020")})();const HC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),cv=s=>{const t=GC(s);return t.charAt(0).toUpperCase()+t.slice(1)},UT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),FC=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var QC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KC=le.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>le.createElement("svg",{ref:y,...QC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:UT("lucide",l),...!c&&!FC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>le.createElement(_,b)),...Array.isArray(c)?c:[c]]));const fe=(s,t)=>{const i=le.forwardRef(({className:a,...l},c)=>le.createElement(KC,{ref:c,iconNode:t,className:UT(`lucide-${HC(cv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=cv(s),i};const YC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],XC=fe("activity",YC);const $C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ZC=fe("arrow-right",$C);const JC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],WC=fe("award",JC);const tN=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],PT=fe("brain-circuit",tN);const eN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nN=fe("chevron-right",eN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sN=fe("circle-alert",iN);const rN=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],aN=fe("flame",rN);const oN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lN=fe("history",oN);const uN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cN=fe("log-out",uN);const hN=[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]],fN=fe("message-square-quote",hN);const dN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mN=fe("moon",dN);const pN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gN=fe("plus",pN);const yN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sp=fe("refresh-cw",yN);const _N=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],vN=fe("scan",_N);const EN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TN=fe("settings",EN);const bN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jT=fe("sparkles",bN);const AN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],SN=fe("target",AN);const wN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RN=fe("trash-2",wN);const IN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CN=fe("trending-up",IN);const NN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zT=fe("user",NN);const xN=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],BT=fe("utensils",xN);const DN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qT=fe("zap",DN);var ON="firebase",MN="12.7.0";Fs(ON,MN,"app");const VN={apiKey:"AIzaSyCW3ZudReJyVVkwt2c5D3j1Rc5qDwPz5N8",authDomain:"ai-trainer-505cb.firebaseapp.com",projectId:"ai-trainer-505cb",storageBucket:"ai-trainer-505cb.firebasestorage.app",messagingSenderId:"252641026404",appId:"1:252641026404:web:8b1be7153ca252787b1a71"},HT=bv(VN),lh=I2(HT),Us=CC(HT),kN="AIzaSyBH9Q2hEHILW0sg1Dn-OIymOvMBt72ZQRs",hv=s=>new Promise(t=>setTimeout(t,s)),GT=async(s,t,i=!1)=>{const a={contents:[{parts:[{text:s}]}],systemInstruction:{parts:[{text:t}]},generationConfig:i?{responseMimeType:"application/json"}:{}};let l=0;const c=5;for(;l<=c;)try{const d=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${kN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(d.status===429){if(l++,l>c)return console.error("Gemini API: Max retries exceeded (429)."),alert("  (Server Busy)"),null;const y=2e3*Math.pow(2,l-1),_=Math.random()*1e3,b=y+_;console.warn(`Gemini API Rate Limit (429). Retrying in ${Math.round(b)}ms... (Attempt ${l}/${c})`),await hv(b);continue}if(!d.ok){const y=await d.text();return console.error(`Gemini API Error: ${d.status} ${d.statusText}`,y),null}return(await d.json()).candidates?.[0]?.content?.parts?.[0]?.text}catch(d){if(console.error("Gemini API Network Error:",d),l++,l>c)return null;await hv(2e3)}return null},LN=()=>{const[s,t]=le.useState(!1),[i,a]=le.useState(""),[l,c]=le.useState(""),[d,p]=le.useState(""),[y,_]=le.useState(!1),b=async w=>{w.preventDefault(),p(""),_(!0);try{s?await hw(lh,i,l):await fw(lh,i,l)}catch{p(" ")}_(!1)};return S.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 inset-x-0 h-96 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 rounded-b-[3rem] shadow-2xl skew-y-3 origin-top-left scale-110"}),S.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white/20 rounded-full blur-3xl animate-pulse"}),S.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-1000"}),S.jsxs("div",{className:"relative z-10 w-full max-w-sm",children:[S.jsxs("div",{className:"text-center mb-10 space-y-2",children:[S.jsx("div",{className:"bg-white p-4 rounded-3xl w-24 h-24 mx-auto shadow-2xl shadow-indigo-500/30 flex items-center justify-center mb-6 animate-bounce-slow",children:S.jsx(PT,{className:"w-12 h-12 text-indigo-600"})}),S.jsx("h1",{className:"text-4xl font-black text-white tracking-tight drop-shadow-md",children:"Trainer Pro"}),S.jsxs("p",{className:"text-indigo-100 font-medium text-sm tracking-widest uppercase flex items-center justify-center gap-2",children:[S.jsx(jT,{className:"w-3 h-3"})," Personal Fitness AI"]})]}),S.jsx("div",{className:"glass-panel p-8 rounded-3xl backdrop-blur-2xl bg-white/90 shadow-2xl shadow-slate-300",children:S.jsxs("form",{onSubmit:b,className:"space-y-5",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-3",children:"Email Address"}),S.jsx("input",{type:"email",value:i,onChange:w=>a(w.target.value),className:"input-field w-full",placeholder:"hello@example.com",required:!0})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-3",children:"Password"}),S.jsx("input",{type:"password",value:l,onChange:w=>c(w.target.value),className:"input-field w-full",placeholder:"",required:!0})]}),d&&S.jsx("div",{className:"bg-rose-50 text-rose-500 text-xs py-3 px-4 rounded-xl border border-rose-100 text-center font-medium animate-in fade-in slide-in-from-top-1",children:d}),S.jsx("button",{disabled:y,className:"btn-primary w-full py-4 rounded-xl font-bold uppercase tracking-widest text-sm flex items-center justify-center gap-2 mt-4",children:y?S.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):S.jsxs(S.Fragment,{children:[s?"Create Account":"Sign In Now",S.jsx(ZC,{className:"w-4 h-4"})]})})]})}),S.jsx("div",{className:"mt-8 text-center",children:S.jsx("button",{onClick:()=>t(!s),className:"text-slate-500 text-sm font-semibold hover:text-indigo-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:s?"Already have an account? Log In":"New here? Create Account"})})]})]})},UN=({dailyData:s,updateDailyField:t,isConsulting:i,getTrainerAnalysis:a,trainerAdvice:l})=>S.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-8",children:[S.jsxs("section",{className:"relative overflow-hidden bg-slate-900 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-slate-900/20",children:[S.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("h3",{className:"font-extrabold text-xl mb-6 flex items-center gap-3",children:[S.jsx("span",{className:"bg-indigo-500/20 p-2.5 rounded-2xl backdrop-blur-md border border-white/10 text-indigo-300",children:S.jsx(XC,{className:"w-6 h-6"})}),S.jsx("span",{children:"Daily Log"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[S.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2 transition-transform hover:scale-105",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Weight"}),S.jsxs("div",{className:"flex items-baseline gap-1",children:[S.jsx("input",{type:"number",value:s.weight,onChange:c=>t("weight",Number(c.target.value)),className:"bg-transparent border-none p-0 text-4xl font-black w-24 text-center focus:ring-0 text-white drop-shadow-sm"}),S.jsx("span",{className:"text-sm font-medium text-slate-400",children:"kg"})]})]}),S.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2 transition-transform hover:scale-105",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sleep"}),S.jsxs("div",{className:"flex items-baseline gap-1",children:[S.jsx("input",{type:"number",value:s.sleepHours,onChange:c=>t("sleepHours",Number(c.target.value)),className:"bg-transparent border-none p-0 text-4xl font-black w-20 text-center focus:ring-0 text-white drop-shadow-sm"}),S.jsx("span",{className:"text-sm font-medium text-slate-400",children:"hr"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[S.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2 transition-transform hover:scale-105",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Water"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:()=>t("waterIntake",Math.max(0,s.waterIntake-1)),className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20",children:"-"}),S.jsx("span",{className:"text-2xl font-black w-8 text-center",children:s.waterIntake}),S.jsx("button",{onClick:()=>t("waterIntake",s.waterIntake+1),className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20",children:"+"})]}),S.jsx("span",{className:"text-[10px] text-slate-400",children:"glasses"})]}),S.jsxs("div",{className:"glass-panel bg-white/5 border-white/10 p-5 rounded-3xl flex flex-col items-center justify-center gap-2",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Workout"}),S.jsx("input",{type:"text",placeholder:"Type",value:s.workoutType,onChange:c=>t("workoutType",c.target.value),className:"bg-transparent border-b border-white/20 w-full text-center text-sm font-bold placeholder:text-slate-600 focus:outline-none focus:border-indigo-400"}),S.jsxs("div",{className:"flex items-center gap-1 w-full",children:[S.jsx("input",{type:"number",value:s.workoutDuration,onChange:c=>t("workoutDuration",Number(c.target.value)),className:"bg-transparent border-b border-white/20 w-1/2 text-center text-sm font-bold focus:outline-none focus:border-indigo-400"}),S.jsx("span",{className:"text-[10px] text-slate-400",children:"min"})]}),S.jsxs("select",{value:s.workoutIntensity,onChange:c=>t("workoutIntensity",c.target.value),className:"bg-white/10 border-none rounded-lg text-[10px] text-slate-300 w-full p-1 mt-1 text-center outline-none",children:[S.jsx("option",{value:"Low",className:"text-slate-800",children:"Low Intensity"}),S.jsx("option",{value:"Medium",className:"text-slate-800",children:"Medium"}),S.jsx("option",{value:"High",className:"text-slate-800",children:"High Intensity"})]})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsxs("div",{className:"flex items-center gap-2 text-indigo-300 text-sm font-bold uppercase tracking-wide",children:[S.jsx(qT,{className:"w-4 h-4"})," Energy"]}),S.jsxs("span",{className:"text-2xl font-black",children:[s.energyLevel,"/5"]})]}),S.jsx("input",{type:"range",min:"1",max:"5",value:s.energyLevel,onChange:c=>t("energyLevel",Number(c.target.value)),className:"w-full h-3 bg-white/10 rounded-full appearance-none cursor-pointer accent-indigo-500 hover:accent-indigo-400 transition-all"})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-sm font-bold uppercase tracking-wide",children:[S.jsx(sN,{className:"w-4 h-4"})," Stress"]}),S.jsxs("span",{className:"text-2xl font-black",children:[s.stressLevel,"/5"]})]}),S.jsx("input",{type:"range",min:"1",max:"5",value:s.stressLevel,onChange:c=>t("stressLevel",Number(c.target.value)),className:"w-full h-3 bg-white/10 rounded-full appearance-none cursor-pointer accent-purple-500 hover:accent-purple-400 transition-all"})]})]})]})]}),S.jsxs("section",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 relative overflow-hidden group",children:[S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-bl-[100%] z-0 transition-transform group-hover:scale-110 duration-700"}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex justify-between items-start mb-6",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"font-extrabold text-xl text-slate-800 flex items-center gap-2",children:[S.jsx(PT,{className:"text-indigo-600 w-6 h-6"}),S.jsx("span",{children:"AI Insights"})]}),S.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mt-1",children:"Smart Health Analysis"})]}),S.jsx("button",{onClick:a,disabled:i,className:"bg-black text-white p-4 rounded-2xl active:scale-90 hover:scale-105 transition-all shadow-lg hover:shadow-indigo-500/25 disabled:opacity-70 disabled:scale-100",children:i?S.jsx(sp,{className:"w-5 h-5 animate-spin"}):S.jsx(nN,{className:"w-5 h-5"})})]}),l?S.jsx("div",{className:"p-6 bg-slate-50/80 rounded-3xl border border-slate-100 text-sm leading-relaxed text-slate-600 font-medium animate-in fade-in slide-in-from-bottom-2 whitespace-pre-wrap",children:l}):S.jsxs("div",{className:"py-12 text-center space-y-4 border-2 border-dashed border-slate-100 rounded-3xl",children:[S.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300",children:S.jsx(fN,{className:"w-8 h-8"})}),S.jsx("p",{className:"text-slate-400 text-sm font-bold",children:"Tap the arrow to analyze your day"})]})]})]})]}),PN=({user:s,foodLogs:t})=>{const[i,a]=le.useState(""),[l,c]=le.useState(!1),d=async()=>{if(!i.trim()||!s)return;c(!0);const p=await GT(`: ${i}`,"  JSON  key : name (), kcal (), protein (), carbs (), fat ()",!0);if(p)try{const y=JSON.parse(p);await BC(pm(Us,"users",s.uid,"foodLogs"),{...y,date:`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}-${String(new Date().getDate()).padStart(2,"0")}`,timestamp:Date.now(),time:new Date().toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})}),a("")}catch(y){console.error(y)}c(!1)};return S.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-500 pb-8",children:[S.jsx("div",{className:"sticky top-20 z-40",children:S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),S.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl flex items-center p-2 border border-slate-100",children:[S.jsx("div",{className:"pl-4 text-slate-400",children:S.jsx(vN,{className:"w-5 h-5"})}),S.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"What did you eat today?",className:"w-full bg-transparent p-4 outline-none text-slate-700 font-semibold placeholder:text-slate-400"}),S.jsx("button",{onClick:d,disabled:l||!i,className:"btn-primary w-12 h-12 rounded-xl flex items-center justify-center shrink-0 disabled:opacity-50 disabled:scale-100",children:l?S.jsx(sp,{className:"w-5 h-5 animate-spin"}):S.jsx(gN,{className:"w-6 h-6"})})]})]})}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"glass-card p-6 rounded-[2rem] flex flex-col items-center justify-center text-center relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-orange-500/10 rounded-full blur-2xl"}),S.jsx(aN,{className:"w-8 h-8 text-orange-500 mb-3"}),S.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Calories"}),S.jsx("p",{className:"text-4xl font-black text-slate-800",children:t.reduce((p,y)=>p+y.kcal,0)})]}),S.jsxs("div",{className:"glass-card p-6 rounded-[2rem] flex flex-col items-center justify-center text-center relative overflow-hidden",children:[S.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-indigo-500/10 rounded-full blur-2xl"}),S.jsx("div",{className:"text-indigo-600 font-black text-2xl mb-3",children:"PRO"}),S.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Protein"}),S.jsxs("p",{className:"text-4xl font-black text-slate-800",children:[t.reduce((p,y)=>p+y.protein,0),S.jsx("span",{className:"text-sm text-slate-400 ml-1",children:"g"})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between px-2",children:[S.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Today's Meals"}),S.jsxs("span",{className:"text-xs font-bold text-slate-300 bg-slate-100 px-2 py-1 rounded-md",children:[t.length," items"]})]}),t.length===0?S.jsxs("div",{className:"py-20 text-center bg-white rounded-[2rem] border-2 border-dashed border-slate-100",children:[S.jsx(BT,{className:"w-12 h-12 mx-auto text-slate-200 mb-4"}),S.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"No meals logged yet."})]}):S.jsx("div",{className:"space-y-3",children:t.map(p=>S.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-sm border border-slate-100 flex justify-between items-center group hover:shadow-md hover:border-indigo-100 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-xl font-black text-indigo-500 shadow-inner",children:p.name[0].toUpperCase()}),S.jsxs("div",{children:[S.jsx("p",{className:"font-bold text-slate-800 text-lg leading-tight",children:p.name}),S.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[S.jsxs("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-0.5 rounded-full",children:[p.kcal," kcal"]}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:p.time})]})]})]}),S.jsx("button",{onClick:()=>zC(Ga(Us,"users",s.uid,"foodLogs",p.id)),className:"w-10 h-10 flex items-center justify-center rounded-xl text-slate-300 hover:text-white hover:bg-rose-500 transition-all active:scale-90",children:S.jsx(RN,{className:"w-5 h-5"})})]},p.id))})]})]})},jN=({data:s})=>{const t=[...s].reverse().slice(-7);if(t.length===0)return S.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400",children:[S.jsx("p",{className:"text-sm font-medium",children:"Not enough data to check trends"}),S.jsx("div",{className:"w-full max-w-[150px] h-1 bg-slate-100 rounded-full mt-4 overflow-hidden",children:S.jsx("div",{className:"w-1/3 h-full bg-slate-300 rounded-full"})})]});const i=Math.max(...t.map(c=>c.weight))+1,a=Math.min(...t.map(c=>c.weight))-1,l=i-a||1;return S.jsx("div",{className:"flex items-end justify-between h-48 gap-3 px-2 mt-4",children:t.map((c,d)=>S.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3 group relative h-full justify-end",children:[S.jsxs("div",{className:"absolute -top-10 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:[S.jsxs("div",{className:"bg-slate-800 text-white text-[10px] font-bold px-3 py-1.5 rounded-lg shadow-xl shadow-slate-900/20 whitespace-nowrap",children:[c.weight," kg"]}),S.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 mx-auto -mt-1"})]}),S.jsxs("div",{className:"w-full relative group-hover:scale-x-110 transition-transform duration-300",style:{height:`${(c.weight-a)/l*100}%`,minHeight:"15%"},children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-500 to-purple-500 rounded-t-2xl opacity-80 group-hover:opacity-100 transition-opacity"}),S.jsx("div",{className:"absolute top-0 inset-x-0 h-[2px] bg-white/50"})]}),S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:new Date(c.date).toLocaleDateString("en-US",{weekday:"short"})})]},d))})},zN=({historyLogs:s})=>S.jsxs("div",{className:"space-y-8 animate-in slide-in-from-left-4 duration-500 pb-8",children:[S.jsxs("section",{className:"bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 to-purple-500"}),S.jsxs("h3",{className:"font-extrabold text-slate-800 text-xl flex items-center gap-3 mb-8",children:[S.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-2xl text-indigo-600",children:S.jsx(CN,{className:"w-6 h-6"})}),"Weight Trends"]}),S.jsx(jN,{data:s})]}),S.jsxs("section",{className:"space-y-4",children:[S.jsxs("h4",{className:"px-2 text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:["History Log ",S.jsx("span",{className:"w-full h-[1px] bg-slate-100"})]}),S.jsx("div",{className:"space-y-3",children:s.map((t,i)=>S.jsx("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex justify-between items-center group hover:shadow-lg hover:border-indigo-100 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center gap-5",children:[S.jsx("div",{className:"w-14 h-14 bg-slate-50 group-hover:bg-indigo-50 rounded-2xl flex items-center justify-center text-slate-400 group-hover:text-indigo-600 transition-all",children:S.jsxs("span",{className:"font-black text-xs uppercase tracking-widest flex flex-col items-center leading-tight",children:[S.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{month:"short"})}),S.jsx("span",{className:"text-xl",children:new Date(t.date).getDate()})]})}),S.jsxs("div",{children:[S.jsxs("p",{className:"font-black text-slate-800 text-lg mb-1",children:[t.weight," ",S.jsx("span",{className:"text-sm text-slate-400 font-bold",children:"kg"})]}),S.jsxs("div",{className:"flex items-center gap-3 text-xs font-bold text-slate-400 uppercase",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(mN,{className:"w-3 h-3"})," ",t.sleepHours,"h"]}),S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(qT,{className:"w-3 h-3"})," ",t.energyLevel,"/5"]})]})]})]})},i))})]})]}),BN=({user:s,profile:t,updateProfile:i,signOut:a})=>S.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-8",children:[S.jsxs("section",{className:"bg-white rounded-[2.5rem] p-10 shadow-xl border border-slate-100 flex flex-col items-center",children:[S.jsxs("div",{className:"relative mb-6 group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),S.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center text-indigo-600 shadow-inner relative z-10 border-4 border-white",children:S.jsx(zT,{className:"w-12 h-12"})})]}),S.jsx("h3",{className:"font-black text-2xl text-slate-800 break-all text-center",children:s.email}),S.jsxs("div",{className:"mt-2 flex items-center gap-2 bg-indigo-50 text-indigo-600 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border border-indigo-100",children:[S.jsx(WC,{className:"w-3 h-3"})," Premium Member"]}),S.jsxs("div",{className:"w-full mt-8 space-y-4",children:[S.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest text-center",children:"Personal Stats"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Height (cm)"}),S.jsx("input",{type:"number",value:t.height,onChange:l=>i("height",Number(l.target.value)),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 transition-all text-center"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Age"}),S.jsx("input",{type:"number",value:t.age,onChange:l=>i("age",Number(l.target.value)),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 transition-all text-center"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Gender"}),S.jsxs("select",{value:t.gender,onChange:l=>i("gender",l.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 transition-all text-center appearance-none",children:[S.jsx("option",{value:"Male",children:"Male"}),S.jsx("option",{value:"Female",children:"Female"})]})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Goal"}),S.jsxs("select",{value:t.goal,onChange:l=>i("goal",l.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-100 transition-all text-center appearance-none",children:[S.jsx("option",{value:"Lose Weight",children:"Lose Weight"}),S.jsx("option",{value:"Build Muscle",children:"Build Muscle"}),S.jsx("option",{value:"Maintain",children:"Maintain"})]})]})]}),S.jsxs("div",{className:"pt-4 space-y-3",children:[S.jsxs("button",{className:"w-full py-4 px-6 rounded-2xl bg-slate-50 text-slate-600 font-bold text-sm tracking-wide flex items-center justify-between hover:bg-slate-100 transition-colors",children:[S.jsxs("span",{className:"flex items-center gap-3",children:[S.jsx(TN,{className:"w-5 h-5 text-slate-400"})," Account Settings"]}),S.jsx("span",{className:"text-slate-300",children:""})]}),S.jsx("button",{onClick:a,className:"w-full py-4 px-6 rounded-2xl bg-rose-50 text-rose-500 font-bold text-sm tracking-wide flex items-center justify-between hover:bg-rose-100 transition-colors group",children:S.jsxs("span",{className:"flex items-center gap-3",children:[S.jsx(cN,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})," Sign Out"]})})]})]})]}),S.jsx("p",{className:"text-slate-400 text-sm",children:"Update your personal stats for better AI accuracy."}),S.jsx("p",{className:"text-[10px] text-slate-300 mt-1 uppercase tracking-widest",children:"v1.1.0 (Sync Fix)"}),S.jsx("p",{className:"text-center text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"Trainer Pro v1.0.0"})]}),qN=({activeTab:s,setActiveTab:t})=>{const i=[{id:"dashboard",icon:SN},{id:"logs",icon:BT},{id:"history",icon:lN},{id:"profile",icon:zT}];return S.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-auto max-w-md z-[100]",children:S.jsx("nav",{className:"bg-white/80 backdrop-blur-2xl border border-white/50 rounded-3xl shadow-2xl shadow-indigo-900/10 p-2 flex items-center gap-1",children:i.map(a=>S.jsxs("button",{onClick:()=>t(a.id),className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all duration-300 relative group
              ${s===a.id?"text-white shadow-lg shadow-indigo-500/30 ring-4 ring-white/50 scale-110 -translate-y-2":"text-slate-400 hover:text-indigo-500 hover:bg-indigo-50"}
            `,children:[s===a.id&&S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl -z-10 animate-in fade-in zoom-in duration-300"}),S.jsx(a.icon,{strokeWidth:2.5,className:`w-6 h-6 transition-transform duration-300 ${s===a.id?"scale-90":"group-hover:scale-110"}`})]},a.id))})})},HN=()=>{const[s,t]=le.useState(null),[i,a]=le.useState(!0),[l,c]=le.useState("dashboard"),[d,p]=le.useState({weight:75,sleepHours:7,stressLevel:3,energyLevel:3,soreness:"none",workoutType:"Rest",workoutDuration:0,workoutIntensity:"Low",waterIntake:0}),[y,_]=le.useState([]),[b,w]=le.useState([]),[L,K]=le.useState(null),[tt,nt]=le.useState(!1),[Z,ht]=le.useState({height:170,age:25,gender:"Male",goal:"Maintain"});le.useEffect(()=>{const Rt=pw(lh,vt=>{t(vt),a(!1)});return()=>Rt()},[]),le.useEffect(()=>{if(!s)return;const Rt=new Date,vt=`${Rt.getFullYear()}-${String(Rt.getMonth()+1).padStart(2,"0")}-${String(Rt.getDate()).padStart(2,"0")}`,C=Ga(Us,"users",s.uid,"dailyLogs",vt),A=Dc(C,Gt=>{Gt.exists()&&p(Gt.data())}),I=pm(Us,"users",s.uid,"dailyLogs"),M=Dc(I,Gt=>{const H=Gt.docs.map(J=>({id:J.id,...J.data()}));w(H.sort((J,lt)=>lt.date.localeCompare(J.date)))}),D=pm(Us,"users",s.uid,"foodLogs"),k=Dc(D,Gt=>{const H=Gt.docs.map(J=>({id:J.id,...J.data()})).filter(J=>J.date===vt);_(H.sort((J,lt)=>lt.timestamp-J.timestamp))}),R=Ga(Us,"users",s.uid),te=Dc(R,Gt=>{Gt.exists()&&ht(Gt.data())});return()=>{A(),M(),k(),te()}},[s]);const _t=async(Rt,vt)=>{if(!s)return;const C=new Date().toISOString().split("T")[0],A=Ga(Us,"users",s.uid,"dailyLogs",C),I={...d,[Rt]:vt,date:C};p(I),await uv(A,I,{merge:!0})},dt=async(Rt,vt)=>{if(!s)return;const C=Ga(Us,"users",s.uid),A={...Z,[Rt]:vt};ht(A),await uv(C,A,{merge:!0})},qt=async()=>{if(!s)return;nt(!0);const Rt=`
      :  ${Z.age} ,  ${Z.gender},  ${Z.height} ., : ${Z.goal}.
      :  ${d.weight}kg,  ${d.sleepHours} .,  ${d.waterIntake} .
      : ${d.workoutType} (${d.workoutDuration} ,  ${d.workoutIntensity}).
      : ${d.energyLevel}/5, : ${d.stressLevel}/5.
      : ${y.map(C=>C.name).join(", ")} ( ${y.reduce((C,A)=>C+A.kcal,0)} kcal).
    `,vt=await GT(Rt," AI       ");K(vt),nt(!1)};return i?S.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50",children:S.jsxs("div",{className:"flex flex-col items-center gap-4",children:[S.jsx(sp,{className:"animate-spin text-indigo-500 w-8 h-8"}),S.jsx("p",{className:"text-slate-400 font-bold text-sm tracking-widest uppercase",children:"Loading..."})]})}):s?S.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 pb-32 text-slate-800 relative shadow-2xl overflow-hidden",children:[S.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden max-w-md mx-auto",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-20%] w-[500px] h-[500px] bg-indigo-500/5 rounded-full blur-3xl"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-20%] w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-3xl"})]}),S.jsxs("header",{className:"px-6 py-6 sticky top-0 z-50 flex justify-between items-center bg-slate-50/80 backdrop-blur-xl border-b border-indigo-100/50",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-black text-slate-800 tracking-tighter flex items-center gap-1",children:["Trainer",S.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Pro"})]}),S.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1.5 pl-0.5",children:[S.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse shadow-[0_0_8px_rgba(74,222,128,0.5)]"}),"Online"]})]}),S.jsx("div",{className:"w-10 h-10 bg-white rounded-xl shadow-sm border border-slate-100 flex items-center justify-center",children:S.jsx(jT,{className:"w-5 h-5 text-amber-400 opacity-80"})})]}),S.jsxs("main",{className:"px-6 pt-6 space-y-6 relative z-10",children:[l==="dashboard"&&S.jsx(UN,{dailyData:d,updateDailyField:_t,isConsulting:tt,getTrainerAnalysis:qt,trainerAdvice:L}),l==="logs"&&S.jsx(PN,{user:s,foodLogs:y}),l==="history"&&S.jsx(zN,{historyLogs:b}),l==="profile"&&S.jsx(BN,{user:s,profile:Z,updateProfile:dt,signOut:()=>gw(lh)})]}),S.jsx(qN,{activeTab:l,setActiveTab:c})]}):S.jsx(LN,{})};xb.createRoot(document.getElementById("root")).render(S.jsx(le.StrictMode,{children:S.jsx(HN,{})}));
